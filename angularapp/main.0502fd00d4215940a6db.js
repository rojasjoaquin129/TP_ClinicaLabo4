(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[179],{8255:Qe=>{function we(F){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+F+"'");throw l.code="MODULE_NOT_FOUND",l})}we.keys=()=>[],we.resolve=we,we.id=8255,Qe.exports=we},3018:(Qe,we,F)=>{"use strict";F.d(we,{deG:()=>Vd,tb:()=>x1,AFp:()=>A1,ip1:()=>Jg,CZH:()=>zc,hGG:()=>tR,z2F:()=>Yc,sBO:()=>hI,Sil:()=>em,_Vd:()=>Lh,EJc:()=>Wc,SBq:()=>zs,qLn:()=>fe,vpe:()=>Qs,gxx:()=>Zl,tBr:()=>On,XFs:()=>Se,OlP:()=>Bn,zs3:()=>Nn,ZZ4:()=>Tg,aQg:()=>f_,soG:()=>uf,YKP:()=>Qr,v3s:()=>ev,h0i:()=>pa,PXZ:()=>q1,R0b:()=>Hi,FiY:()=>$r,Lbi:()=>Y_,g9A:()=>S1,Qsj:()=>oI,FYo:()=>Zi,JOm:()=>oa,Tiy:()=>Bb,q3G:()=>He,tp0:()=>na,EAV:()=>W1,Rgc:()=>qn,dDg:()=>U1,DyG:()=>ms,q4F:()=>d_,GfV:()=>jb,s_b:()=>qi,ifc:()=>Jt,eFA:()=>H0,G48:()=>U0,Gpc:()=>ie,X6Q:()=>sm,_c5:()=>nv,VLi:()=>j1,c2e:()=>K_,zSh:()=>ua,wAp:()=>ft,vHH:()=>Pe,EiD:()=>Zm,mCW:()=>Ya,qzn:()=>Vi,JVY:()=>Um,pB0:()=>$v,eBb:()=>Fl,L6k:()=>Hv,LAX:()=>Xf,cg1:()=>pg,Tjo:()=>ya,kL8:()=>Tb,yhl:()=>Kd,dqk:()=>H,sIi:()=>Bp,CqO:()=>Zy,QGY:()=>jy,F4k:()=>mh,RDi:()=>ls,AaK:()=>K,z3N:()=>_s,qOj:()=>Rt,TTD:()=>as,_Bn:()=>nI,xp6:()=>oh,uIk:()=>xy,ekj:()=>Wy,Suo:()=>XI,Xpm:()=>Tt,lG2:()=>ko,Yz7:()=>yn,cJS:()=>ri,oAB:()=>wa,Yjl:()=>Du,Y36:()=>Wp,_UZ:()=>uT,qZA:()=>ob,TgZ:()=>gh,EpF:()=>Qp,n5z:()=>Je,Ikx:()=>dg,LFG:()=>gn,$8M:()=>kd,NdJ:()=>pi,CRH:()=>E0,oxw:()=>ub,ALo:()=>R_,xi3:()=>g0,Hsn:()=>qy,F$t:()=>yh,Q6J:()=>Uy,MGl:()=>_h,VKq:()=>$I,WLB:()=>h0,kEZ:()=>x_,iGM:()=>U_,MAs:()=>qp,CHM:()=>Lu,oJD:()=>ks,LSH:()=>Gr,kYT:()=>Oo,YNc:()=>XC,_uU:()=>yb,Oqu:()=>Qy,hij:()=>Eh,AsE:()=>sg});var l=F(9765),te=F(5319),U=F(7574),pe=F(6682),ve=F(2441);var _e=F(1307);function Y(){return new l.xQ}function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function Q(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function J(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const ge=L({__forward_ref__:L});function ie(i){return i.__forward_ref__=ie,i.toString=function(){return K(this())},i}function ne(i){return $(i)?i():i}function $(i){return"function"==typeof i&&i.hasOwnProperty(ge)&&i.__forward_ref__===ie}class Pe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function Re(i){return"string"==typeof i?i:null==i?"":String(i)}function bt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Re(i)}function de(i,s){const o=s?` in ${s}`:"";throw new Pe("201",`No provider for ${bt(i)} found${o}`)}function en(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function yn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ri(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tr(i){return Js(i,_n)||Js(i,Vn)}function Js(i,s){return i.hasOwnProperty(s)?i[s]:null}function Qn(i){return i&&(i.hasOwnProperty(Kt)||i.hasOwnProperty(mt))?i[Kt]:null}const _n=L({\u0275prov:L}),Kt=L({\u0275inj:L}),Vn=L({ngInjectableDef:L}),mt=L({ngInjectorDef:L});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let Mt;function cn(i){const s=Mt;return Mt=i,s}function jt(i,s,o){const u=Tr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Se.Optional?null:void 0!==s?s:void de(K(i),"Injector")}function nt(i){return{toString:i}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),Jt=(()=>((Jt=Jt||{})[Jt.Emulated=0]="Emulated",Jt[Jt.None=2]="None",Jt[Jt.ShadowDom=3]="ShadowDom",Jt))();const Br="undefined"!=typeof globalThis&&globalThis,eo="undefined"!=typeof window&&window,G="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H=Br||"undefined"!=typeof global&&global||eo||G,Ge={},Ue=[],qt=L({\u0275cmp:L}),bn=L({\u0275dir:L}),an=L({\u0275pipe:L}),Ir=L({\u0275mod:L}),kt=L({\u0275loc:L}),ln=L({\u0275fac:L}),hr=L({__NG_ELEMENT_ID__:L});let dl=0;function Tt(i){return nt(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ue,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Jt.Emulated,id:"c",styles:i.styles||Ue,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,h=i.features,m=i.pipes;return u.id+=dl++,u.inputs=ii(i.inputs,o),u.outputs=ii(i.outputs),h&&h.forEach(_=>_(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(Iu):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(hl):null,u})}function Iu(i){return Ht(i)||function(i){return i[bn]||null}(i)}function hl(i){return function(i){return i[an]||null}(i)}const Po={};function wa(i){return nt(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ue,declarations:i.declarations||Ue,imports:i.imports||Ue,exports:i.exports||Ue,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Po[i.id]=i.type),s})}function Oo(i,s){return nt(()=>{const o=Dr(i,!0);o.declarations=s.declarations||Ue,o.imports=s.imports||Ue,o.exports=s.exports||Ue})}function ii(i,s){if(null==i)return Ge;const o={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),o[d]=u,s&&(s[d]=h)}return o}const ko=Tt;function Du(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ht(i){return i[qt]||null}function Dr(i,s){const o=i[Ir]||null;if(!o&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return o}function si(i){return Array.isArray(i)&&"object"==typeof i[1]}function Gt(i){return Array.isArray(i)&&!0===i[1]}function io(i){return 0!=(8&i.flags)}function pl(i){return 2==(2&i.flags)}function oi(i){return 1==(1&i.flags)}function pr(i){return null!==i.template}function xu(i){return 0!=(512&i[2])}function os(i,s){return i.hasOwnProperty(ln)?i[ln]:null}class ml{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function as(){return qo}function qo(i){return i.type.prototype.ngOnChanges&&(i.setInput=yl),Pi}function Pi(){const i=Ca(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Ge)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function yl(i,s,o,u){const d=Ca(i)||function(i,s){return i[Af]=s}(i,{previous:Ge,current:null}),h=d.current||(d.current={}),m=d.previous,_=this.declaredInputs[o],E=m[_];h[_]=new ml(E&&E.currentValue,s,m===Ge),i[u]=s}as.ngInherit=!0;const Af="__ngSimpleChanges__";function Ca(i){return i[Af]||null}let Rs;function ls(i){Rs=i}function Ia(){return void 0!==Rs?Rs:"undefined"!=typeof document?document:void 0}function dn(i){return!!i.listen}const bl={createRenderer:(i,s)=>Ia()};function hn(i){for(;Array.isArray(i);)i=i[0];return i}function Da(i,s){return hn(s[i])}function ai(i,s){return hn(s[i.index])}function us(i,s){return i.data[s]}function Aa(i,s){return i[s]}function Sr(i,s){const o=s[i];return si(o)?o:o[0]}function Sa(i){return 4==(4&i[2])}function xa(i){return 128==(128&i[2])}function Ms(i,s){return null==s?null:i[s]}function Cl(i){i[18]=0}function ku(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const lt={lFrame:Td(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fu(){return lt.bindingsEnabled}function Ae(){return lt.lFrame.lView}function Ft(){return lt.lFrame.tView}function Lu(i){return lt.lFrame.contextLView=i,i[8]}function Sn(){let i=Ed();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ed(){return lt.lFrame.currentTNode}function Ei(i,s){const o=lt.lFrame;o.currentTNode=i,o.isParent=s}function Pa(){return lt.lFrame.isParent}function cs(){lt.lFrame.isParent=!1}function Go(){return lt.isInCheckNoChangesMode}function ds(i){lt.isInCheckNoChangesMode=i}function Zr(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function qr(){return lt.lFrame.bindingIndex}function hs(){return lt.lFrame.bindingIndex++}function ki(i){const s=lt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Dl(i,s){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Oa(s)}function Oa(i){lt.lFrame.currentDirectiveIndex=i}function uo(){return lt.lFrame.currentQueryIndex}function ju(i){lt.lFrame.currentQueryIndex=i}function Rf(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Mf(i,s,o){if(o&Se.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||o&Se.Host||(d=Rf(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,i=h}const u=lt.lFrame=Fa();return u.currentTNode=s,u.lView=i,!0}function ka(i){const s=Fa(),o=i[1];lt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Fa(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?Td(i):s}function Td(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Id(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Dm=Id;function Dd(){const i=Id();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Hr(){return lt.lFrame.selectedIndex}function co(i){lt.lFrame.selectedIndex=i}function fn(){const i=lt.lFrame;return us(i.tView,i.selectedIndex)}function Ns(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:A}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),_&&((i.contentHooks||(i.contentHooks=[])).push(o,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,_)),E&&(i.viewHooks||(i.viewHooks=[])).push(-o,E),I&&((i.viewHooks||(i.viewHooks=[])).push(o,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,I)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(o,A)}}function ho(i,s,o){fs(i,s,3,o)}function La(i,s,o,u){(3&i[2])===o&&fs(i,s,o,u)}function Yi(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function fs(i,s,o,u){const h=null!=u?u:-1,m=s.length-1;let _=0;for(let E=void 0!==u?65535&i[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(_=s[E],null!=u&&_>=u)break}else s[E]<0&&(i[18]+=65536),(_<h||-1==h)&&(C(i,o,s,E),i[18]=(4294901760&i[18])+E+2),E++}function C(i,s,o,u){const d=o[u]<0,h=o[u+1],_=i[d?-o[u]:o[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}const T=-1;class R{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Rn(i,s,o){const u=dn(i);let d=0;for(;d<o.length;){const h=o[d];if("number"==typeof h){if(0!==h)break;d++;const m=o[d++],_=o[d++],E=o[d++];u?i.setAttribute(s,_,E,m):s.setAttributeNS(m,_,E)}else{const m=h,_=o[++d];xd(m)?u&&i.setProperty(s,m,_):u?i.setAttribute(s,m,_):s.setAttribute(m,_),d++}}return d}function Of(i){return 3===i||4===i||6===i}function xd(i){return 64===i.charCodeAt(0)}function kf(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?o=d:0===o||Ff(i,o,d,null,-1===o||2===o?s[++u]:null)}}return i}function Ff(i,s,o,u,d){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const _=i[h++];if("number"==typeof _){if(_===s){m=-1;break}if(_>s){m=h-1;break}}}for(;h<i.length;){const _=i[h];if("number"==typeof _)break;if(_===o){if(null===u)return void(null!==d&&(i[h+1]=d));if(u===i[h+1])return void(i[h+2]=d)}h++,null!==u&&h++,null!==d&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==d&&i.splice(h++,0,d)}function Am(i){return i!==T}function Hu(i){return 32767&i}function $u(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let Gu=!0;function Rd(i){const s=Gu;return Gu=i,s}let ui=0;function gt(i,s){const o=zu(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Lf(u.data,i),Lf(s,null),Lf(u.blueprint,null));const d=zo(i,s),h=i.injectorIndex;if(Am(d)){const m=Hu(d),_=$u(d,s),E=_[1].data;for(let I=0;I<8;I++)s[h+I]=_[m+I]|E[m+I]}return s[h+8]=d,h}function Lf(i,s){i.push(0,0,0,0,0,0,0,0,s)}function zu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function zo(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,d=s;for(;null!==d;){const h=d[1],m=h.type;if(u=2===m?h.declTNode:1===m?d[6]:null,null===u)return T;if(o++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return T}function Wu(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(hr)&&(u=o[hr]),null==u&&(u=o[hr]=ui++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function gs(i,s,o){if(o&Se.Optional)return i;de(s,"NodeInjector")}function Al(i,s,o,u){if(o&Se.Optional&&void 0===u&&(u=null),0==(o&(Se.Self|Se.Host))){const d=i[9],h=cn(void 0);try{return d?d.get(s,u,o&Se.Optional):jt(s,u,o&Se.Optional)}finally{cn(h)}}return gs(u,s,o)}function Vf(i,s,o,u=Se.Default,d){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(hr)?i[hr]:void 0;return"number"==typeof s?s>=0?255&s:Rv:s}(o);if("function"==typeof h){if(!Mf(s,i,u))return u&Se.Host?gs(d,o,u):Al(s,o,u,d);try{const m=h(u);if(null!=m||u&Se.Optional)return m;de(o)}finally{Dm()}}else if("number"==typeof h){let m=null,_=zu(i,s),E=T,I=u&Se.Host?s[16][6]:null;for((-1===_||u&Se.SkipSelf)&&(E=-1===_?zo(i,s):s[_+8],E!==T&&fo(u,!1)?(m=s[1],_=Hu(E),s=$u(E,s)):_=-1);-1!==_;){const A=s[1];if(xr(h,_,A.data)){const N=Uf(_,s,o,m,u,I);if(N!==xm)return N}E=s[_+8],E!==T&&fo(u,s[1].data[_+8]===I)&&xr(h,_,s)?(m=A,_=Hu(E),s=$u(E,s)):_=-1}}}return Al(s,o,u,d)}const xm={};function Rv(){return new po(Sn(),Ae())}function Uf(i,s,o,u,d,h){const m=s[1],_=m.data[i+8],A=Fi(_,m,o,null==u?pl(_)&&Gu:u!=m&&0!=(3&_.type),d&Se.Host&&h===_);return null!==A?Li(s,m,A,_):xm}function Fi(i,s,o,u,d){const h=i.providerIndexes,m=s.data,_=1048575&h,E=i.directiveStart,A=h>>20,O=d?_+A:i.directiveEnd;for(let B=u?_:_+A;B<O;B++){const j=m[B];if(B<E&&o===j||B>=E&&j.type===o)return B}if(d){const B=m[E];if(B&&pr(B)&&B.type===o)return E}return null}function Li(i,s,o,u){let d=i[o];const h=s.data;if(function(i){return i instanceof R}(d)){const m=d;m.resolving&&function(i,s){throw new Pe("200",`Circular dependency in DI detected for ${i}`)}(bt(h[o]));const _=Rd(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?cn(m.injectImpl):null;Mf(i,u,Se.Default);try{d=i[o]=m.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(u){const m=qo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==E&&cn(E),Rd(_),m.resolving=!1,Dm()}}return d}function xr(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function fo(i,s){return!(i&Se.Self||i&Se.Host&&s)}class po{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return Vf(this._tNode,this._lView,s,void 0,o)}}function Je(i){return nt(()=>{const s=i.prototype.constructor,o=s[ln]||Od(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const h=d[ln]||Od(d);if(h&&h!==o)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Od(i){return $(i)?()=>{const s=Od(ne(i));return s&&s()}:os(i)}function kd(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let d=0;for(;d<u;){const h=o[d];if(Of(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<u&&"string"==typeof o[d];)d++;else{if(h===s)return o[d+1];d+=2}}}return null}(Sn(),i)}const Ua="__parameters__";function Wo(i,s,o){return nt(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const d in u)this[d]=u[d]}}}(s);function d(...h){if(this instanceof d)return u.apply(this,h),this;const m=new d(...h);return _.annotation=m,_;function _(E,I,A){const N=E.hasOwnProperty(Ua)?E[Ua]:Object.defineProperty(E,Ua,{value:[]})[Ua];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(m),E}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Bn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=yn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vd=new Bn("AnalyzeForEntryComponents"),ms=Function;function er(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),er(u,s)):s!==i&&s.push(u)}return s}function or(i,s){i.forEach(o=>Array.isArray(o)?or(o,s):s(o))}function xl(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ki(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Qo(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}function Ti(i,s,o){let u=Jo(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let d=i.length;if(d==s)i.push(o,u);else if(1===d)i.push(u,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function qd(i,s){const o=Jo(i,s);if(o>=0)return i[1|o]}function Jo(i,s){return function(i,s,o){let u=0,d=i.length>>o;for(;d!==u;){const h=u+(d-u>>1),m=i[h<<o];if(s===m)return h<<o;m>s?d=h:u=h+1}return~(d<<o)}(i,s,1)}const ea={},$f="__NG_DI_FLAG__",Ha="ngTempTokenPath",ec=/\n/gm,Ml="__source",$a=L({provide:String,useValue:L});let tc;function ys(i){const s=tc;return tc=i,s}function zd(i,s=Se.Default){if(void 0===tc)throw new Error("inject() must be called from an injection context");return null===tc?jt(i,void 0,s):tc.get(i,s&Se.Optional?null:void 0,s)}function gn(i,s=Se.Default){return(Mt||zd)(ne(i),s)}function mo(i){const s=[];for(let o=0;o<i.length;o++){const u=ne(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,h=Se.Default;for(let m=0;m<u.length;m++){const _=u[m],E=nc(_);"number"==typeof E?-1===E?d=_.token:h|=E:d=_}s.push(gn(d,h))}else s.push(gn(u))}return s}function Nl(i,s){return i[$f]=s,i.prototype[$f]=s,i}function nc(i){return i[$f]}function Gf(i,s,o,u){const d=i[Ha];throw s[Ml]&&d.unshift(s[Ml]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=K(s);if(Array.isArray(s))d=s.map(K).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let _=s[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):K(_)))}d=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${d}]: ${i.replace(ec,"\n  ")}`}("\n"+i.message,d,o,u),i.ngTokenPath=d,i[Ha]=null,i}const On=Nl(Wo("Inject",i=>({token:i})),-1),$r=Nl(Wo("Optional"),8),na=Nl(Wo("SkipSelf"),4);let kl,za;function yo(i){var s;return(null===(s=function(){if(void 0===kl&&(kl=null,H.trustedTypes))try{kl=H.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return kl}())||void 0===s?void 0:s.createHTML(i))||i}function Qf(i){var s;return(null===(s=function(){if(void 0===za&&(za=null,H.trustedTypes))try{za=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return za}())||void 0===s?void 0:s.createHTML(i))||i}class ci{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qv extends ci{getTypeName(){return"HTML"}}class Lm extends ci{getTypeName(){return"Style"}}class Wa extends ci{getTypeName(){return"Script"}}class Jf extends ci{getTypeName(){return"URL"}}class Vm extends ci{getTypeName(){return"ResourceURL"}}function _s(i){return i instanceof ci?i.changingThisBreaksApplicationSecurity:i}function Vi(i,s){const o=Kd(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Kd(i){return i instanceof ci&&i.getTypeName()||null}function Um(i){return new qv(i)}function Hv(i){return new Lm(i)}function Fl(i){return new Wa(i)}function Xf(i){return new Jf(i)}function $v(i){return new Vm(i)}class Gv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(yo(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class ME{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=yo(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=yo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const m=o.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const tp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,np=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ya(i){return(i=String(i)).match(tp)||i.match(np)?i:"unsafe:"+i}function Ps(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function ia(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const Qd=Ps("area,br,col,hr,img,wbr"),Bm=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jd=Ps("rp,rt"),ip=ia(Qd,ia(Bm,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ia(Jd,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ia(Jd,Bm)),uc=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sp=Ps("srcset"),op=ia(uc,sp,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ap=Ps("script,style,template");class OE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!ip.hasOwnProperty(o))return this.sanitizedSomething=!0,!ap.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let d=0;d<u.length;d++){const h=u.item(d),m=h.name,_=m.toLowerCase();if(!op.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let E=h.value;uc[_]&&(E=Ya(E)),sp[_]&&(i=E,E=(i=String(i)).split(",").map(s=>Ya(s.trim())).join(", ")),this.buf.push(" ",m,'="',Ll(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();ip.hasOwnProperty(o)&&!Qd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Ll(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Kv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jm=/([^\#-~ |!])/g;function Ll(i){return i.replace(/&/g,"&amp;").replace(Kv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(jm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sa;function Zm(i,s){let o=null;try{sa=sa||function(i){const s=new ME(i);return function(){try{return!!(new window.DOMParser).parseFromString(yo(""),"text/html")}catch(i){return!1}}()?new Gv(s):s}(i);let u=s?String(s):"";o=sa.getInertBodyElement(u);let d=5,h=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=h,h=o.innerHTML,o=sa.getInertBodyElement(u)}while(u!==h);return yo((new OE).sanitizeChildren(Os(o)||o))}finally{if(o){const u=Os(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Os(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var He=(()=>((He=He||{})[He.NONE=0]="NONE",He[He.HTML=1]="HTML",He[He.STYLE=2]="STYLE",He[He.SCRIPT=3]="SCRIPT",He[He.URL=4]="URL",He[He.RESOURCE_URL=5]="RESOURCE_URL",He))();function ks(i){const s=cc();return s?Qf(s.sanitize(He.HTML,i)||""):Vi(i,"HTML")?Qf(_s(i)):Zm(Ia(),Re(i))}function Gr(i){const s=cc();return s?s.sanitize(He.URL,i)||"":Vi(i,"URL")?_s(i):Ya(Re(i))}function cc(){const i=Ae();return i&&i[12]}const dc="__ngContext__";function ar(i,s){i[dc]=s}function gr(i){const s=function(i){return i[dc]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function S(i){return i.ngOriginalError}function W(i,...s){i.error(...s)}class fe{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),d=(i=s)&&i.ngErrorLogger||W;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(S(s)):null}_findOriginalError(s){let o=s&&S(s);for(;o&&S(o);)o=S(o);return o||null}}const mp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Mn(i){return i instanceof Function?i():i}var oa=(()=>((oa=oa||{})[oa.Important=1]="Important",oa[oa.DashCase=2]="DashCase",oa))();function yp(i,s){return undefined(i,s)}function vp(i){const s=i[3];return Gt(s)?s[3]:s}function ew(i){return BE(i[13])}function tw(i){return BE(i[4])}function BE(i){for(;null!==i&&!Gt(i);)i=i[4];return i}function hc(i,s,o,u,d){if(null!=u){let h,m=!1;Gt(u)?h=u:si(u)&&(m=!0,u=u[0]);const _=hn(u);0===i&&null!==o?null==d?vo(s,o,_):zn(s,o,_,d||null,!0):1===i&&null!==o?zn(s,o,_,d||null,!0):2===i?function(i,s,o){const u=wp(i,s);u&&function(i,s,o,u){dn(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,_,m):3===i&&s.destroyNode(_),null!=h&&function(i,s,o,u,d){const h=o[7];h!==hn(o)&&hc(s,i,u,h,d);for(let _=10;_<o.length;_++){const E=o[_];bp(E[1],E,i,s,u,h)}}(s,i,h,o,d)}}function rw(i,s,o){return dn(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function HE(i,s){const o=i[9],u=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ku(d,-1)),o.splice(u,1)}function sw(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const d=u[17];null!==d&&d!==i&&HE(d,u),s>0&&(i[o-1][4]=u[4]);const h=Ki(i,10+s);!function(i,s){bp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function $E(i,s){if(!(256&s[2])){const o=s[11];dn(o)&&o.destroyNode&&bp(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ls(i[1],i);for(;s;){let o=null;if(si(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)si(s)&&Ls(s[1],s),s=s[3];null===s&&(s=i),si(s)&&Ls(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ls(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const d=s[o[u]];if(!(d instanceof R)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=d[h[m]],E=h[m+1];try{E.call(_)}finally{}}else try{h.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let d=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],_="function"==typeof m?m(s):hn(s[m]),E=u[d=o[h+2]],I=o[h+3];"boolean"==typeof I?_.removeEventListener(o[h],E,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),h+=2}else{const m=u[d=o[h+1]];o[h].call(m)}if(null!==u){for(let h=d+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&dn(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Gt(s[3])){o!==s[3]&&HE(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function ow(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===Jt.None||d===Jt.Emulated)return null}return ai(u,o)}(i,s.parent,o)}function zn(i,s,o,u,d){dn(i)?i.insertBefore(s,o,u,d):s.insertBefore(o,u,d)}function vo(i,s,o){dn(i)?i.appendChild(s,o):s.appendChild(o)}function WE(i,s,o,u,d){null!==u?zn(i,s,o,u,d):vo(i,s,o)}function wp(i,s){return dn(i)?i.parentNode(s):s.parentNode}function KE(i,s,o){return QE(i,s,o)}let QE=function(i,s,o){return 40&i.type?ai(i,o):null};function fc(i,s,o,u){const d=ow(i,u,s),h=s[11],_=KE(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(o))for(let E=0;E<o.length;E++)WE(h,d,o[E],_,!1);else WE(h,d,o,_,!1)}function aa(i,s){if(null!==s){const o=s.type;if(3&o)return ai(s,i);if(4&o)return pc(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return aa(i,u);{const d=i[s.index];return Gt(d)?pc(-1,d):hn(d)}}if(32&o)return yp(s,i)()||hn(i[s.index]);{const u=Ut(i,s);return null!==u?Array.isArray(u)?u[0]:aa(vp(i[16]),u):aa(i,s.next)}}return null}function Ut(i,s){return null!==s?i[16][6].projection[s.projection]:null}function pc(i,s){const o=10+i+1;if(o<s.length){const u=s[o],d=u[1].firstChild;if(null!==d)return aa(u,d)}return s[7]}function Ka(i,s,o,u,d,h,m){for(;null!=o;){const _=u[o.index],E=o.type;if(m&&0===s&&(_&&ar(hn(_),u),o.flags|=4),64!=(64&o.flags))if(8&E)Ka(i,s,o.child,u,d,h,!1),hc(s,i,d,_,h);else if(32&E){const I=yp(o,u);let A;for(;A=I();)hc(s,i,d,A,h);hc(s,i,d,_,h)}else 16&E?cw(i,s,u,o,d,h):hc(s,i,d,_,h);o=m?o.projectionNext:o.next}}function bp(i,s,o,u,d,h){Ka(o,u,i.firstChild,s,d,h,!1)}function cw(i,s,o,u,d,h){const m=o[16],E=m[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)hc(s,i,d,E[I],h);else Ka(i,s,E,m[3],d,h,!0)}function sh(i,s,o){dn(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function ry(i,s,o){dn(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Ep(i,s,o){let u=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===u||i.charCodeAt(d+h)<=32)return d}o=d+1}}const iy="ng-template";function sy(i,s,o){let u=0;for(;u<i.length;){let d=i[u++];if(o&&"class"===d){if(d=i[u],-1!==Ep(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function dw(i){return 4===i.type&&i.value!==iy}function XE(i,s,o){return s===(4!==i.type||o?i.value:iy)}function aA(i,s,o){let u=4;const d=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(Of(i[s]))return s;return i.length}(d);let m=!1;for(let _=0;_<s.length;_++){const E=s[_];if("number"!=typeof E){if(!m)if(4&u){if(u=2|1&u,""!==E&&!XE(i,E,o)||""===E&&1===s.length){if(wo(u))return!1;m=!0}}else{const I=8&u?E:s[++_];if(8&u&&null!==i.attrs){if(!sy(i.attrs,I,o)){if(wo(u))return!1;m=!0}continue}const N=lA(8&u?"class":E,d,dw(i),o);if(-1===N){if(wo(u))return!1;m=!0;continue}if(""!==I){let O;O=N>h?"":d[N+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==Ep(B,I,0)||2&u&&I!==O){if(wo(u))return!1;m=!0}}}}else{if(!m&&!wo(u)&&!wo(E))return!1;if(m&&wo(E))continue;m=!1,u=E|1&u}}return wo(u)||m}function wo(i){return 0==(1&i)}function lA(i,s,o,u){if(null===s)return-1;let d=0;if(u||!o){let h=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Cp(i,s,o=!1){for(let u=0;u<s.length;u++)if(aA(i,s[u],o))return!0;return!1}function hA(i,s){e:for(let o=0;o<s.length;o++){const u=s[o];if(i.length===u.length){for(let d=0;d<i.length;d++)if(i[d]!==u[d])continue e;return!0}}return!1}function eC(i,s){return i?":not("+s.trim()+")":s}function tC(i){let s=i[0],o=1,u=2,d="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&u){const _=i[++o];d+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?d+="."+m:4&u&&(d+=" "+m);else""!==d&&!wo(m)&&(s+=eC(h,d),d=""),u=m,h=h||!wo(u);o++}return""!==d&&(s+=eC(h,d)),s}const ht={};function oh(i){pw(Ft(),Ae(),Hr()+i,Go())}function pw(i,s,o,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&ho(s,h,o)}else{const h=i.preOrderHooks;null!==h&&La(s,h,0,o)}co(o)}function Tp(i,s){return i<<17|s<<2}function bo(i){return i>>17&32767}function gw(i){return 2|i}function Vs(i){return(131068&i)>>2}function oy(i,s){return-131069&i|s<<2}function ly(i){return 1|i}function cC(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const d=o[u],h=o[u+1];if(-1!==h){const m=i.data[h];ju(d),m.contentQueries(2,s[h],h)}}}function uh(i,s,o,u,d,h,m,_,E,I){const A=s.blueprint.slice();return A[0]=d,A[2]=140|u,Cl(A),A[3]=A[15]=i,A[8]=o,A[10]=m||i&&i[10],A[11]=_||i&&i[11],A[12]=E||i&&i[12]||null,A[9]=I||i&&i[9]||null,A[6]=h,A[16]=2==s.type?i[16]:A,A}function mc(i,s,o,u,d){let h=i.data[s];if(null===h)h=function(i,s,o,u,d){const h=Ed(),m=Pa(),E=i.data[s]=function(i,s,o,u,d,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,u,d);return null===i.firstChild&&(i.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(i,s,o,u,d),lt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=d;const m=function(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Ei(h,!0),h}function Ja(i,s,o,u){if(0===o)return-1;const d=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function Sp(i,s,o){ka(s);try{const u=i.viewQuery;null!==u&&by(1,u,o);const d=i.template;null!==d&&dC(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&cC(i,s),i.staticViewQueries&&by(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)VA(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Dd()}}function dh(i,s,o,u){const d=s[2];if(256==(256&d))return;ka(s);const h=Go();try{Cl(s),function(i){lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&dC(i,s,o,2,u);const m=3==(3&d);if(!h)if(m){const I=i.preOrderCheckHooks;null!==I&&ho(s,I,null)}else{const I=i.preOrderHooks;null!==I&&La(s,I,0,null),Yi(s,0)}if(function(i){for(let s=ew(i);null!==s;s=tw(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const d=o[u],h=d[3];0==(1024&d[2])&&ku(h,1),d[2]|=1024}}}(s),function(i){for(let s=ew(i);null!==s;s=tw(s))for(let o=10;o<s.length;o++){const u=s[o],d=u[1];xa(u)&&dh(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&cC(i,s),!h)if(m){const I=i.contentCheckHooks;null!==I&&ho(s,I)}else{const I=i.contentHooks;null!==I&&La(s,I,1),Yi(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const d=o[u];if(d<0)co(~d);else{const h=d,m=o[++u],_=o[++u];Dl(m,h),_(2,s[h])}}}finally{co(-1)}}(i,s);const _=i.components;null!==_&&function(i,s){for(let o=0;o<s.length;o++)bC(i,s[o])}(s,_);const E=i.viewQuery;if(null!==E&&by(2,E,u),!h)if(m){const I=i.viewCheckHooks;null!==I&&ho(s,I)}else{const I=i.viewHooks;null!==I&&La(s,I,2),Yi(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ku(s[3],-1))}finally{Dd()}}function EA(i,s,o,u){const d=s[10],h=!Go(),m=Sa(s);try{h&&!m&&d.begin&&d.begin(),m&&Sp(i,s,u),dh(i,s,o,u)}finally{h&&!m&&d.end&&d.end()}}function dC(i,s,o,u,d){const h=Hr(),m=2&u;try{co(-1),m&&s.length>20&&pw(i,s,20,Go()),o(u,d)}finally{co(h)}}function py(i,s,o){!Fu()||(function(i,s,o,u){const d=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||gt(o,s),ar(u,s);const m=o.initialInputs;for(let _=d;_<h;_++){const E=i.data[_],I=pr(E);I&&PA(s,o,E);const A=Li(s,i,_,o);ar(A,s),null!==m&&OA(0,_-d,A,E,0,m),I&&(Sr(o.index,s)[8]=A)}}(i,s,o,ai(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,d=o.directiveEnd,m=o.index,_=lt.lFrame.currentDirectiveIndex;try{co(m);for(let E=u;E<d;E++){const I=i.data[E],A=s[E];Oa(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&mC(I,A)}}finally{co(-1),Oa(_)}}(i,s,o))}function gy(i,s,o=ai){const u=s.localNames;if(null!==u){let d=s.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],_=-1===m?o(s,i):i[m];i[d++]=_}}}function hh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Rp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Rp(i,s,o,u,d,h,m,_,E,I){const A=20+u,N=A+d,O=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:ht);return o}(A,N),B="function"==typeof I?I():I;return O[1]={type:i,blueprint:O,template:o,queries:null,viewQuery:_,declTNode:s,data:O.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:B,incompleteFirstPass:!1}}function fC(i,s,o,u){const d=CC(s);null===o?d.push(u):(d.push(o),i.firstCreatePass&&TC(i).push(u,d.length-1))}function pC(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,d):o[u]=[s,d]}return o}function Ji(i,s,o,u,d,h,m,_){const E=ai(s,o);let A,I=s.inputs;!_&&null!=I&&(A=I[u])?(Rw(i,o,A,u,d),pl(s)&&function(i,s){const o=Sr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=m?m(d,s.value||"",u):d,dn(h)?h.setProperty(E,u,d):xd(u)||(E.setProperty?E.setProperty(u,d):E[u]=d))}function Tw(i,s,o,u){let d=!1;if(Fu()){const h=function(i,s,o){const u=i.directiveRegistry;let d=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];Cp(o,m.selectors,!1)&&(d||(d=[]),Wu(gt(o,s),i,m.type),pr(m)?(yC(i,o),d.unshift(m)):d.push(m))}return d}(i,s,o),m=null===u?null:{"":-1};if(null!==h){d=!0,_C(o,i.data.length,h.length);for(let A=0;A<h.length;A++){const N=h[A];N.providersResolver&&N.providersResolver(N)}let _=!1,E=!1,I=Ja(i,s,h.length,null);for(let A=0;A<h.length;A++){const N=h[A];o.mergedAttrs=kf(o.mergedAttrs,N.hostAttrs),Iw(i,o,s,I,N),NA(I,N,m),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const O=N.type.prototype;!_&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),_=!0),!E&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),I++}!function(i,s){const u=s.directiveEnd,d=i.data,h=s.attrs,m=[];let _=null,E=null;for(let I=s.directiveStart;I<u;I++){const A=d[I],N=A.inputs,O=null===h||dw(s)?null:kA(N,h);m.push(O),_=pC(N,I,_),E=pC(A.outputs,I,E)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=_,s.outputs=E}(i,o)}m&&function(i,s,o){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=o[s[d+1]];if(null==h)throw new Pe("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],h)}}}(o,u,m)}return o.mergedAttrs=kf(o.mergedAttrs,o.attrs),d}function fh(i,s,o,u,d,h){const m=h.hostBindings;if(m){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=E&&_.push(E),_.push(u,d,m)}}function mC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function yC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function NA(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;pr(s)&&(o[""]=i)}}function _C(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Iw(i,s,o,u,d){i.data[u]=d;const h=d.factory||(d.factory=os(d.type)),m=new R(h,pr(d),null);i.blueprint[u]=m,o[u]=m,fh(i,s,0,u,Ja(i,o,d.hostVars,ht),d)}function PA(i,s,o){const u=ai(s,i),d=hh(o),h=i[10],m=wy(i,uh(i,d,null,o.onPush?64:16,u,s,h,h.createRenderer(u,o),null,null));i[s.index]=m}function la(i,s,o,u,d,h){const m=ai(i,s);!function(i,s,o,u,d,h,m){if(null==h)dn(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const _=null==m?Re(h):m(h,u||"",d);dn(i)?i.setAttribute(s,d,_,o):o?s.setAttributeNS(o,d,_):s.setAttribute(d,_)}}(s[11],m,h,i.value,o,u,d)}function OA(i,s,o,u,d,h){const m=h[s];if(null!==m){const _=u.setInput;for(let E=0;E<m.length;){const I=m[E++],A=m[E++],N=m[E++];null!==_?u.setInput(o,N,I,A):o[A]=N}}}function kA(i,s){let o=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return o}function LA(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function bC(i,s){const o=Sr(s,i);if(xa(o)){const u=o[1];80&o[2]?dh(u,o,u.template,o[8]):o[5]>0&&vy(o)}}function vy(i){for(let u=ew(i);null!==u;u=tw(u))for(let d=10;d<u.length;d++){const h=u[d];if(1024&h[2]){const m=h[1];dh(m,h,m.template,h[8])}else h[5]>0&&vy(h)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const d=Sr(o[u],i);xa(d)&&d[5]>0&&vy(d)}}function VA(i,s){const o=Sr(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Sp(u,o,o[8])}function wy(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Aw(i){for(;i;){i[2]|=64;const s=vp(i);if(xu(i)&&!s)return i;i=s}return null}function Sw(i,s,o){const u=s[10];u.begin&&u.begin();try{dh(i,s,i.template,o)}catch(d){throw DC(s,d),d}finally{u.end&&u.end()}}function EC(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=gr(o),d=u[1];EA(d,u,d.template,o)}}(i[8])}function by(i,s,o){ju(0),s(i,o)}const ph=(()=>Promise.resolve(null))();function CC(i){return i[7]||(i[7]=[])}function TC(i){return i.cleanup||(i.cleanup=[])}function DC(i,s){const o=i[9],u=o?o.get(fe,null):null;u&&u.handleError(s)}function Rw(i,s,o,u,d){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],E=s[m],I=i.data[m];null!==I.setInput?I.setInput(E,d,u,_):E[_]=d}}function Xa(i,s,o){const u=Da(s,i);!function(i,s,o){dn(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Ey(i,s,o){let u=o?i.styles:null,d=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const _=s[m];"number"==typeof _?h=_:1==h?d=J(d,_):2==h&&(u=J(u,_+": "+s[++m]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=d:i.classesWithoutHost=d}const Zl=new Bn("INJECTOR",-1);class Np{get(s,o=ea){if(o===ea){const u=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw u.name="NullInjectorError",u}return o}}const ua=new Bn("Set Injector scope."),Pp={},qA={};let Op;function AC(){return void 0===Op&&(Op=new Np),Op}function xC(i,s=null,o=null,u){return new RC(i,o,s||AC(),u)}class RC{constructor(s,o,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&or(o,_=>this.processProvider(_,s,o)),or([s],_=>this.processInjectorType(_,[],h)),this.records.set(Zl,yc(void 0,this));const m=this.records.get(ua);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:K(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=ea,u=Se.Default){this.assertNotDestroyed();const d=ys(this),h=cn(void 0);try{if(!(u&Se.SkipSelf)){let _=this.records.get(s);if(void 0===_){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Bn)&&Tr(s);_=E&&this.injectableDefInScope(E)?yc(Cy(s),Pp):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(u&Se.Self?AC():this.parent).get(s,o=u&Se.Optional&&o===ea?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ha]=m[Ha]||[]).unshift(K(s)),d)throw m;return Gf(m,s,"R3InjectorError",this.source)}throw m}finally{cn(h),ys(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(K(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=ne(s)))return!1;let d=Qn(s);const h=null==d&&s.ngModule||void 0,m=void 0===h?s:h,_=-1!==u.indexOf(m);if(void 0!==h&&(d=Qn(h)),null==d)return!1;if(null!=d.imports&&!_){let A;u.push(m);try{or(d.imports,N=>{this.processInjectorType(N,o,u)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:O,providers:B}=A[N];or(B,j=>this.processProvider(j,O,B||Ue))}}this.injectorDefTypes.add(m);const E=os(m)||(()=>new m);this.records.set(m,yc(E,Pp));const I=d.providers;if(null!=I&&!_){const A=s;or(I,N=>this.processProvider(N,A,I))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,u){let d=el(s=ne(s))?s:ne(s&&s.provide);const h=MC(i=s)?yc(void 0,i.useValue):yc(ql(i),Pp);var i;if(el(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=yc(void 0,Pp,!0),m.factory=()=>mo(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,h)}hydrate(s,o){return o.value===Pp&&(o.value=qA,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ne(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Cy(i){const s=Tr(i),o=null!==s?s.factory:os(i);if(null!==o)return o;if(i instanceof Bn)throw new Error(`Token ${K(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=Qo(s,"?");throw new Error(`Can't resolve all parameters for ${K(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[_n]||i[Vn]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function ql(i,s,o){let u;if(el(i)){const d=ne(i);return os(d)||Cy(d)}if(MC(i))u=()=>ne(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...mo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>gn(ne(i.useExisting));else{const d=ne(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return os(d)||Cy(d);u=()=>new d(...mo(i.deps))}return u}function yc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function MC(i){return null!==i&&"object"==typeof i&&$a in i}function el(i){return"function"==typeof i}const PC=function(i,s,o){return function(i,s=null,o=null,u){const d=xC(i,s,o,u);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};let Nn=(()=>{class i{static create(o,u){return Array.isArray(o)?PC(o,u,""):PC(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=ea,i.NULL=new Np,i.\u0275prov=yn({token:i,providedIn:"any",factory:()=>gn(Zl)}),i.__NG_ELEMENT_ID__=-1,i})();function Hl(i,s){Ns(gr(i)[1],Sn())}function Rt(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let d;if(pr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){u.push(d);const m=i;m.inputs=Co(i.inputs),m.declaredInputs=Co(i.declaredInputs),m.outputs=Co(i.outputs);const _=d.hostBindings;_&&xt(i,_);const E=d.viewQuery,I=d.contentQueries;if(E&&Ye(i,E),I&&jw(i,I),Q(i.inputs,d.inputs),Q(i.declaredInputs,d.declaredInputs),Q(i.outputs,d.outputs),pr(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(i),_===Rt&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=kf(d.hostAttrs,o=kf(o,d.hostAttrs))}}(u)}function Co(i){return i===Ge?{}:i===Ue?[]:i}function Ye(i,s){const o=i.viewQuery;i.viewQuery=o?(u,d)=>{s(u,d),o(u,d)}:s}function jw(i,s){const o=i.contentQueries;i.contentQueries=o?(u,d,h)=>{s(u,d,h),o(u,d,h)}:s}function xt(i,s){const o=i.hostBindings;i.hostBindings=o?(u,d)=>{s(u,d),o(u,d)}:s}let Ay=null;function Gl(){if(!Ay){const i=H.Symbol;if(i&&i.iterator)Ay=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Ay=u)}}}return Ay}class To{constructor(s){this.wrapped=s}static wrap(s){return new To(s)}static unwrap(s){return To.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof To}}function Bp(i){return!!Mr(i)&&(Array.isArray(i)||!(i instanceof Map)&&Gl()in i)}function Mr(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function fi(i,s,o){return i[s]=o}function Ai(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function zl(i,s,o,u){const d=Ai(i,s,o);return Ai(i,s+1,u)||d}function xy(i,s,o,u){const d=Ae();return Ai(d,hs(),s)&&(Ft(),la(fn(),d,i,s,o,u)),xy}function tl(i,s,o,u){return Ai(i,hs(),o)?s+Re(o)+u:ht}function XC(i,s,o,u,d,h,m,_){const E=Ae(),I=Ft(),A=i+20,N=I.firstCreatePass?function(i,s,o,u,d,h,m,_,E){const I=s.consts,A=mc(s,i,4,m||null,Ms(I,_));Tw(s,o,A,Ms(I,E)),Ns(s,A);const N=A.tViews=Rp(2,A,u,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,A),N.queries=s.queries.embeddedTView(A)),A}(A,I,E,s,o,u,d,h,m):I.data[A];Ei(N,!1);const O=E[11].createComment("");fc(I,E,O,N),ar(O,E),wy(E,E[A]=LA(O,E,O,N)),oi(N)&&py(I,E,N),null!=m&&gy(E,N,_)}function qp(i){return Aa(lt.lFrame.contextLView,20+i)}function Wp(i,s=Se.Default){const o=Ae();return null===o?gn(i,s):Vf(Sn(),o,ne(i),s)}function Uy(i,s,o){const u=Ae();return Ai(u,hs(),s)&&Ji(Ft(),fn(),u,i,s,u[11],o,!1),Uy}function By(i,s,o,u,d){const m=d?"class":"style";Rw(i,o,s.inputs[m],m,u)}function gh(i,s,o,u){const d=Ae(),h=Ft(),m=20+i,_=d[11],E=d[m]=rw(_,s,lt.lFrame.currentNamespace),I=h.firstCreatePass?function(i,s,o,u,d,h,m){const _=s.consts,I=mc(s,i,2,d,Ms(_,h));return Tw(s,o,I,Ms(_,m)),null!==I.attrs&&Ey(I,I.attrs,!1),null!==I.mergedAttrs&&Ey(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(m,h,d,0,s,o,u):h.data[m];Ei(I,!0);const A=I.mergedAttrs;null!==A&&Rn(_,E,A);const N=I.classes;null!==N&&ry(_,E,N);const O=I.styles;null!==O&&sh(_,E,O),64!=(64&I.flags)&&fc(h,d,E,I),0===lt.lFrame.elementDepthCount&&ar(E,d),lt.lFrame.elementDepthCount++,oi(I)&&(py(h,d,I),function(i,s,o){if(io(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,I,d)),null!==u&&gy(d,I)}function ob(){let i=Sn();Pa()?cs():(i=i.parent,Ei(i,!1));const s=i;lt.lFrame.elementDepthCount--;const o=Ft();o.firstCreatePass&&(Ns(o,i),io(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&By(o,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&By(o,s,Ae(),s.stylesWithoutHost,!1)}function uT(i,s,o,u){gh(i,s,o,u),ob()}function Qp(){return Ae()}function jy(i){return!!i&&"function"==typeof i.then}function mh(i){return!!i&&"function"==typeof i.subscribe}const Zy=mh;function pi(i,s,o,u){const d=Ae(),h=Ft(),m=Sn();return function(i,s,o,u,d,h,m,_){const E=oi(u),A=i.firstCreatePass&&TC(i),N=s[8],O=CC(s);let B=!0;if(3&u.type||_){const ee=ai(u,s),ke=_?_(ee):ee,Ee=O.length,st=_?vt=>_(hn(vt[u.index])):u.index;if(dn(o)){let vt=null;if(!_&&E&&(vt=function(i,s,o,u){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const m=d[h];if(m===o&&d[h+1]===u){const _=s[7],E=d[h+2];return _.length>E?_[E]:null}"string"==typeof m&&(h+=2)}return null}(i,s,d,u.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=h,vt.__ngLastListenerFn__=h,B=!1;else{h=eg(u,s,N,h,!1);const Bt=o.listen(ke,d,h);O.push(h,Bt),A&&A.push(d,st,Ee,Ee+1)}}else h=eg(u,s,N,h,!0),ke.addEventListener(d,h,m),O.push(h),A&&A.push(d,st,Ee,m)}else h=eg(u,s,N,h,!1);const j=u.outputs;let ce;if(B&&null!==j&&(ce=j[d])){const ee=ce.length;if(ee)for(let ke=0;ke<ee;ke+=2){const Fr=s[ce[ke]][ce[ke+1]].subscribe(h),Is=O.length;O.push(h,Fr),A&&A.push(d,u.index,Is,-(Is+1))}}}(h,d,d[11],m,i,s,!!o,u),pi}function lb(i,s,o,u){try{return!1!==o(u)}catch(d){return DC(i,d),!1}}function eg(i,s,o,u,d){return function h(m){if(m===Function)return u;const _=2&i.flags?Sr(i.index,s):s;0==(32&s[2])&&Aw(_);let E=lb(s,0,u,m),I=h.__ngNextListenerFn__;for(;I;)E=lb(s,0,I,m)&&E,I=I.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function ub(i=1){return function(i){return(lt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function hT(i,s){let o=null;const u=function(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let d=0;d<s.length;d++){const h=s[d];if("*"!==h){if(null===u?Cp(i,h,!0):hA(u,h))return d}else o=d}return o}function yh(i){const s=Ae()[16][6];if(!s.projection){const u=s.projection=Qo(i?i.length:1,null),d=u.slice();let h=s.child;for(;null!==h;){const m=i?hT(h,i):0;null!==m&&(d[m]?d[m].projectionNext=h:u[m]=h,d[m]=h),h=h.next}}}function qy(i,s=0,o){const u=Ae(),d=Ft(),h=mc(d,20+i,16,null,o||null);null===h.projection&&(h.projection=s),cs(),64!=(64&h.flags)&&function(i,s,o){cw(s[11],0,s,o,ow(i,o,s),KE(o.parent||s[6],o,s))}(d,u,h)}function _h(i,s,o,u,d){const h=Ae(),m=tl(h,s,o,u);return m!==ht&&Ji(Ft(),fn(),h,i,m,h[11],d,!1),_h}function wh(i,s,o,u,d){const h=i[o+1],m=null===s;let _=u?bo(h):Vs(h),E=!1;for(;0!==_&&(!1===E||m);){const A=i[_+1];gT(i[_],s)&&(E=!0,i[_+1]=u?ly(A):gw(A)),_=u?bo(A):Vs(A)}E&&(i[o+1]=u?gw(h):ly(h))}function gT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Jo(i,s)>=0}function Wy(i,s){return function(i,s,o,u){const d=Ae(),h=Ft(),m=ki(2);h.firstUpdatePass&&function(i,s,o,u){const d=i.data;if(null===d[o+1]){const h=d[Hr()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,u)&&null===s&&!m&&(s=!1),s=function(i,s,o,u){const d=function(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(o=Hs(o=Ic(null,i,s,o,u),s.attrs,u),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(o=Ic(d,i,s,o,u),null===h){let E=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Vs(u))return i[bo(u)]}(i,s,u);void 0!==E&&Array.isArray(E)&&(E=Ic(null,i,s,E[1],u),E=Hs(E,s.attrs,u),function(i,s,o,u){i[bo(o?s.classBindings:s.styleBindings)]=u}(i,s,u,E))}else h=function(i,s,o){let u;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)u=Hs(u,i[h].hostAttrs,o);return Hs(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(d,h,s,u),function(i,s,o,u,d,h){let m=h?s.classBindings:s.styleBindings,_=bo(m),E=Vs(m);i[u]=o;let A,I=!1;if(Array.isArray(o)){const N=o;A=N[1],(null===A||Jo(N,A)>0)&&(I=!0)}else A=o;if(d)if(0!==E){const O=bo(i[_+1]);i[u+1]=Tp(O,_),0!==O&&(i[O+1]=oy(i[O+1],u)),i[_+1]=function(i,s){return 131071&i|s<<17}(i[_+1],u)}else i[u+1]=Tp(_,0),0!==_&&(i[_+1]=oy(i[_+1],u)),_=u;else i[u+1]=Tp(E,0),0===_?_=u:i[E+1]=oy(i[E+1],u),E=u;I&&(i[u+1]=gw(i[u+1])),wh(i,A,u,!0),wh(i,A,u,!1),function(i,s,o,u,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Jo(h,s)>=0&&(o[u+1]=ly(o[u+1]))}(s,A,i,u,h),m=Tp(_,E),h?s.classBindings=m:s.styleBindings=m}(d,h,s,o,m,u)}}(h,i,m,u),s!==ht&&Ai(d,m,s)&&function(i,s,o,u,d,h,m,_){if(!(3&s.type))return;const E=i.data,I=E[_+1];Ky(function(i){return 1==(1&i)}(I)?bT(E,s,o,d,Vs(I),m):void 0)||(Ky(h)||function(i){return 2==(2&i)}(I)&&(h=bT(E,null,o,d,_,m)),function(i,s,o,u,d){const h=dn(i);if(s)d?h?i.addClass(o,u):o.classList.add(u):h?i.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:oa.DashCase;if(null==d)h?i.removeStyle(o,u,m):o.style.removeProperty(u);else{const _="string"==typeof d&&d.endsWith("!important");_&&(d=d.slice(0,-10),m|=oa.Important),h?i.setStyle(o,u,d,m):o.style.setProperty(u,d,_?"important":"")}}}(u,m,Da(Hr(),o),d,h))}(h,h.data[Hr()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(_s(i)))),i}(s,o),u,m)}(i,s,null,!0),Wy}function Ic(i,s,o,u,d){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=s[_],u=Hs(u,h.hostAttrs,d),h!==i);)_++;return null!==i&&(o.directiveStylingLast=_),u}function Hs(i,s,o){const u=o?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?d=m:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ti(i,m,!!o||s[++h]))}return void 0===i?null:i}function bT(i,s,o,u,d,h){const m=null===s;let _;for(;d>0;){const E=i[d],I=Array.isArray(E),A=I?E[1]:E,N=null===A;let O=o[d+1];O===ht&&(O=N?Ue:void 0);let B=N?qd(O,u):A===u?O:void 0;if(I&&!Ky(B)&&(B=qd(E,u)),Ky(B)&&(_=B,m))return _;const j=i[d+1];d=m?bo(j):Vs(j)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(_=qd(E,u))}return _}function Ky(i){return void 0!==i}function yb(i,s=""){const o=Ae(),u=Ft(),d=i+20,h=u.firstCreatePass?mc(u,d,1,s,null):u.data[d],m=o[d]=function(i,s){return dn(i)?i.createText(s):i.createTextNode(s)}(o[11],s);fc(u,o,m,h),Ei(h,!1)}function Qy(i){return Eh("",i,""),Qy}function Eh(i,s,o){const u=Ae(),d=tl(u,i,s,o);return d!==ht&&Xa(u,Hr(),d),Eh}function sg(i,s,o,u,d){const h=Ae(),m=function(i,s,o,u,d,h){const _=zl(i,qr(),o,d);return ki(2),_?s+Re(o)+u+Re(d)+h:ht}(h,i,s,o,u,d);return m!==ht&&Xa(h,Hr(),m),sg}function dg(i,s,o){const u=Ae();return Ai(u,hs(),s)&&Ji(Ft(),fn(),u,i,s,u[11],o,!0),dg}const Ac=void 0;var fg=["en",[["a","p"],["AM","PM"],Ac],[["AM","PM"],Ac,Ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ac,"{1} 'at' {0}",Ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Sc={};function pg(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=gg(s);if(o)return o;const u=s.split("-")[0];if(o=gg(u),o)return o;if("en"===u)return fg;throw new Error(`Missing locale data for the locale "${i}".`)}function Tb(i){return pg(i)[ft.PluralCase]}function gg(i){return i in Sc||(Sc[i]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[i]),Sc[i]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const mg="en-US";let Mc=mg;function Ib(i){en(i,"Expected localeId to be defined"),"string"==typeof i&&(Mc=i.toLowerCase().replace(/_/g,"-"))}function Ph(i,s,o,u,d){if(i=ne(i),Array.isArray(i))for(let h=0;h<i.length;h++)Ph(i[h],s,o,u,d);else{const h=Ft(),m=Ae();let _=el(i)?i:ne(i.provide),E=ql(i);const I=Sn(),A=1048575&I.providerIndexes,N=I.directiveStart,O=I.providerIndexes>>20;if(el(i)||!i.multi){const B=new R(E,d,Wp),j=Ob(_,s,d?A:A+O,N);-1===j?(Wu(gt(I,m),h,_),Oh(h,i,s.length),s.push(_),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),o.push(B),m.push(B)):(o[j]=B,m[j]=B)}else{const B=Ob(_,s,A+O,N),j=Ob(_,s,A,A+O),ce=B>=0&&o[B],ee=j>=0&&o[j];if(d&&!ee||!d&&!ce){Wu(gt(I,m),h,_);const ke=function(i,s,o,u,d){const h=new R(i,o,Wp);return h.multi=[],h.index=s,h.componentProviders=0,xi(h,d,u&&!o),h}(d?VS:LS,o.length,d,u,E);!d&&ee&&(o[j].providerFactory=ke),Oh(h,i,s.length,0),s.push(_),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),o.push(ke),m.push(ke)}else Oh(h,i,B>-1?B:j,xi(o[d?j:B],E,!d&&u));!d&&u&&ee&&o[j].componentProviders++}}}function Oh(i,s,o,u){const d=el(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const _=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=_.indexOf(o);-1===E?_.push(o,[u,m]):_[E+1].push(u,m)}else _.push(o,m)}}}function xi(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Ob(i,s,o,u){for(let d=o;d<u;d++)if(s[d]===i)return d;return-1}function LS(i,s,o,u){return kb(this.multi,[])}function VS(i,s,o,u){const d=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Li(o,o[1],this.providerFactory.index,u);h=_.slice(0,m),kb(d,h);for(let E=m;E<_.length;E++)h.push(_[E])}else h=[],kb(d,h);return h}function kb(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function nI(i,s=[]){return o=>{o.providersResolver=(u,d)=>function(i,s,o){const u=Ft();if(u.firstCreatePass){const d=pr(i);Ph(o,u.data,u.blueprint,d,!0),Ph(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class rI{}const kh="ngComponent";class Fh{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${K(i)}. Did you add it to @NgModule.entryComponents?`);return s[kh]=i,s}(s)}}let Lh=(()=>{class i{}return i.NULL=new Fh,i})();function Gs(...i){}function Io(i,s){return new zs(ai(i,s))}const Vb=function(){return Io(Sn(),Ae())};let zs=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Vb,i})();function c_(i){return i instanceof zs?i.nativeElement:i}class Zi{}let oI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Ub(),i})();const Ub=function(){const i=Ae(),o=Sr(Sn().index,i);return function(i){return i[11]}(si(o)?o:i)};let Bb=(()=>{class i{}return i.\u0275prov=yn({token:i,providedIn:"root",factory:()=>null}),i})();class jb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const d_=new jb("12.2.11");class Zb{constructor(){}supports(s){return Bp(s)}create(s){return new ZS(s)}}const h_=(i,s)=>s;class ZS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||h_}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,d=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<qb(u,d,h)?o:u,_=qb(m,d,h),E=m.currentIndex;if(m===u)d--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)d++;else{h||(h=[]);const I=_-d,A=E-d;if(I!=A){for(let O=0;O<I;O++){const B=O<h.length?h[O]:h[O]=0,j=B+O;A<=j&&j<I&&(h[O]=B+1)}h[m.previousIndex]=A-I}}_!==E&&s(m,_,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Bp(s))throw new Error(`Error trying to diff '${K(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),u=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Gl()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,_=>{m=this._trackByFn(d,_),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,_,m,d)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,d),u=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,d)):s=this._addAfter(new lI(o,u),h,d),s}_verifyReinsertion(s,o,u,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new nu),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nu),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class lI{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vh{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class nu{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new Vh,this.map.set(o,u)),u.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qb(i,s,o){const u=i.previousIndex;if(null===u)return u;let d=0;return o&&u<o.length&&(d=o[u]),u+s+d}class ru{constructor(){}supports(s){return s instanceof Map||Mr(s)}create(){return new uI}}class uI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Mr(s)))throw new Error(`Error trying to diff '${K(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(d,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const h=d._prev,m=d._next;return h&&(h._next=m),m&&(m._prev=h),d._next=null,d._prev=null,d}const u=new Uh(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class Uh{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new Tg([new Zb])}let Tg=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const d=u.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Hb()),deps:[[i,new na,new $r]]}}find(o){const u=this.factories.find(d=>d.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=yn({token:i,providedIn:"root",factory:Hb}),i})();function cI(){return new f_([new ru])}let f_=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const d=u.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||cI()),deps:[[i,new na,new $r]]}}find(o){const u=this.factories.find(d=>d.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=yn({token:i,providedIn:"root",factory:cI}),i})();function Yn(i,s,o,u,d=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(hn(h)),Gt(h))for(let _=10;_<h.length;_++){const E=h[_],I=E[1].firstChild;null!==I&&Yn(E[1],E,I,u)}const m=o.type;if(8&m)Yn(i,s,o.child,u);else if(32&m){const _=yp(o,s);let E;for(;E=_();)u.push(E)}else if(16&m){const _=Ut(s,o);if(Array.isArray(_))u.push(..._);else{const E=vp(s[16]);Yn(E[1],E,_,u,!0)}}o=d?o.projectionNext:o.next}return u}class iu{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Yn(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Gt(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(sw(s,u),Ki(o,u))}this._attachedToViewContainer=!1}$E(this._lView[1],this._lView)}onDestroy(s){fC(this._lView[1],this._lView,null,s)}markForCheck(){Aw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Sw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){ds(!0);try{Sw(i,s,o)}finally{ds(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,bp(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class p_ extends iu{constructor(s){super(s),this._view=s}detectChanges(){EC(this._view)}checkNoChanges(){!function(i){ds(!0);try{EC(i)}finally{ds(!1)}}(this._view)}get context(){return null}}const HS=function(i){return function(i,s,o){if(pl(i)&&!o){const u=Sr(i.index,s);return new iu(u,u)}return 47&i.type?new iu(s[16],s):null}(Sn(),Ae(),16==(16&i))};let hI=(()=>{class i{}return i.__NG_ELEMENT_ID__=HS,i})();const su=[new ru],gI=new Tg([new Zb]),mI=new f_(su),$S=function(){return nr(Sn(),Ae())};let qn=(()=>{class i{}return i.__NG_ELEMENT_ID__=$S,i})();const Wt=qn,_I=class extends Wt{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=uh(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),Sp(o,u,s),new iu(u)}};function nr(i,s){return 4&i.type?new _I(s,i,Io(i,s)):null}class pa{}class Qr{}const zS=function(){return on(Sn(),Ae())};let qi=(()=>{class i{}return i.__NG_ELEMENT_ID__=zS,i})();const $b=qi,wI=class extends $b{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Io(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const s=zo(this._hostTNode,this._hostLView);if(Am(s)){const o=$u(s,this._hostLView),u=Hu(s);return new po(o[1].data[u+8],o)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Gb(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const d=s.createEmbeddedView(o||{});return this.insert(d,u),d}createComponent(s,o,u,d,h){const m=u||this.parentInjector;if(!h&&null==s.ngModule&&m){const E=m.get(pa,null);E&&(h=E)}const _=s.create(m,d,void 0,h);return this.insert(_.hostView,o),_}insert(s,o){const u=s._lView,d=u[1];if(Gt(u[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const N=u[3],O=new wI(N,N[6],N[3]);O.detach(O.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,u){const d=10+u,h=o.length;u>0&&(o[d-1][4]=s),u<h-10?(s[4]=o[d],xl(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(d,u,m,h);const _=pc(h,m),E=u[11],I=wp(E,m[7]);return null!==I&&function(i,s,o,u,d,h){u[0]=d,u[6]=s,bp(i,u,o,1,d,h)}(d,m[6],E,u,I,_),s.attachToViewContainerRef(),xl(zb(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Gb(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=sw(this._lContainer,o);u&&(Ki(zb(this._lContainer),o),$E(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=sw(this._lContainer,o);return u&&null!=Ki(zb(this._lContainer),o)?new iu(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Gb(i){return i[8]}function zb(i){return i[8]||(i[8]=[])}function on(i,s){let o;const u=s[i.index];if(Gt(u))o=u;else{let d;if(8&i.type)d=hn(u);else{const h=s[11];d=h.createComment("");const m=ai(i,s);zn(h,wp(h,m),d,function(i,s){return dn(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=LA(u,s,d,i),wy(s,o)}return new wI(o,i,s)}const Jh={};class VI extends Lh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Ht(s);return new qc(o,this.ngModule)}}function UI(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const lx=new Bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mp});class qc extends rI{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(tC).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return UI(this.componentDef.inputs)}get outputs(){return UI(this.componentDef.outputs)}create(s,o,u,d){const h=(d=d||this.ngModule)?function(i,s){return{get:(o,u,d)=>{const h=i.get(o,Jh,d);return h!==Jh||u===Jh?h:s.get(o,u,d)}}}(s,d.injector):s,m=h.get(Zi,bl),_=h.get(Bb,null),E=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=u?function(i,s,o){if(dn(i))return i.selectRootElement(s,o===Jt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):rw(m.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,O=function(i,s){return{components:[],scheduler:i||mp,clean:ph,playerHandler:s||null,flags:0}}(),B=Rp(0,null,null,1,0,null,null,null,null,null),j=uh(null,B,O,N,null,null,m,E,_,h);let ce,ee;ka(j);try{const ke=function(i,s,o,u,d,h){const m=o[1];o[20]=i;const E=mc(m,20,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(Ey(E,I,!0),null!==i&&(Rn(d,i,I),null!==E.classes&&ry(d,i,E.classes),null!==E.styles&&sh(d,i,E.styles)));const A=u.createRenderer(i,s),N=uh(o,hh(s),null,s.onPush?64:16,o[20],E,u,A,h||null,null);return m.firstCreatePass&&(Wu(gt(E,o),m,s.type),yC(m,E),_C(E,o.length,1)),wy(o,N),o[20]=N}(A,this.componentDef,j,m,E);if(A)if(u)Rn(E,A,["ng-version",d_.full]);else{const{attrs:Ee,classes:st}=function(i){const s=[],o=[];let u=1,d=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++u]):8===d&&o.push(h);else{if(!wo(d))break;d=h}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ee&&Rn(E,A,Ee),st&&st.length>0&&ry(E,A,st.join(" "))}if(ee=us(B,20),void 0!==o){const Ee=ee.projection=[];for(let st=0;st<this.ngContentSelectors.length;st++){const vt=o[st];Ee.push(null!=vt?Array.from(vt):null)}}ce=function(i,s,o,u,d){const h=o[1],m=function(i,s,o){const u=Sn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Iw(i,u,s,Ja(i,s,1,null),o));const d=Li(s,i,u.directiveStart,u);ar(d,s);const h=ai(u,s);return h&&ar(h,s),d}(h,o,s);if(u.components.push(m),i[8]=m,d&&d.forEach(E=>E(m,s)),s.contentQueries){const E=Sn();s.contentQueries(1,m,E.directiveStart)}const _=Sn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(co(_.index),fh(o[1],_,0,_.directiveStart,_.directiveEnd,s),mC(s,m)),m}(ke,this.componentDef,j,O,[Hl]),Sp(B,j,null)}finally{Dd()}return new ux(this.componentType,ce,Io(ee,j),j,ee)}}class ux extends class{}{constructor(s,o,u,d,h){super(),this.location=u,this._rootLView=d,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new p_(d),this.componentType=s}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Es=new Map;class Lg extends pa{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new VI(this);const u=Dr(s),d=s[kt]||null;d&&Ib(d),this._bootstrapComponents=Mn(u.bootstrap),this._r3Injector=xC(s,o,[{provide:pa,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver}],K(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Nn.THROW_IF_NOT_FOUND,u=Se.Default){return s===Nn||s===pa||s===Zl?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Xh extends Qr{constructor(s){super(),this.moduleType=s,null!==Dr(s)&&function(i){const s=new Set;!function o(u){const d=Dr(u,!0),h=d.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${K(s)} vs ${K(s.name)}`)}(h,Es.get(h),u),Es.set(h,u));const m=Mn(d.imports);for(const _ of m)s.has(_)||(s.add(_),o(_))}(i)}(s)}create(s){return new Lg(this.moduleType,s)}}function $I(i,s,o,u){return function(i,s,o,u,d,h){const m=s+o;return Ai(i,m,d)?fi(i,m+1,h?u.call(h,d):u(d)):ef(i,m+1)}(Ae(),Zr(),i,s,o,u)}function h0(i,s,o,u,d){return p0(Ae(),Zr(),i,s,o,u,d)}function x_(i,s,o,u,d,h){return function(i,s,o,u,d,h,m,_){const E=s+o;return function(i,s,o,u,d){const h=zl(i,s,o,u);return Ai(i,s+2,d)||h}(i,E,d,h,m)?fi(i,E+3,_?u.call(_,d,h,m):u(d,h,m)):ef(i,E+3)}(Ae(),Zr(),i,s,o,u,d,h)}function ef(i,s){const o=i[s];return o===ht?void 0:o}function p0(i,s,o,u,d,h,m){const _=s+o;return zl(i,_,d,h)?fi(i,_+2,m?u.call(m,d,h):u(d,h)):ef(i,_+2)}function R_(i,s){const o=Ft();let u;const d=i+20;o.firstCreatePass?(u=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}throw new Pe("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[d]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,u.onDestroy)):u=o.data[d];const h=u.factory||(u.factory=os(u.type)),m=cn(Wp);try{const _=Rd(!1),E=h();return Rd(_),function(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,Ae(),d,E),E}finally{cn(m)}}function g0(i,s,o,u){const d=i+20,h=Ae(),m=Aa(h,d);return function(i,s){To.isWrapped(s)&&(s=To.unwrap(s),i[qr()]=ht);return s}(h,function(i,s){return i[1].data[s].pure}(h,d)?p0(h,Zr(),s,m.transform,o,u,m):m.transform(o,u))}function _0(i){return s=>{setTimeout(i,void 0,s)}}const Qs=class extends l.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var d,h,m;let _=s,E=o||(()=>null),I=u;if(s&&"object"==typeof s){const N=s;_=null===(d=N.next)||void 0===d?void 0:d.bind(N),E=null===(h=N.error)||void 0===h?void 0:h.bind(N),I=null===(m=N.complete)||void 0===m?void 0:m.bind(N)}this.__isAsync&&(E=_0(E),_&&(_=_0(_)),I&&(I=_0(I)));const A=super.subscribe({next:_,error:E,complete:I});return s instanceof te.w&&s.add(A),A}};function Xr(){return this._results[Gl()]()}class N_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Gl(),u=N_.prototype;u[o]||(u[o]=Xr)}get changes(){return this._changes||(this._changes=new Qs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const d=er(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],h=s[u];if(o&&(d=o(d),h=o(h)),h!==d)return!1}return!0}(u._results,d,o))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class v0{constructor(s){this.queryList=s,this.matches=null}clone(){return new v0(this.queryList)}setDirty(){this.queryList.setDirty()}}class w0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);d.push(this.queries[m.indexInDeclarationView].clone())}return new w0(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==jg(s,o).matches&&this.queries[o].setDirty()}}class P_{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class O_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const d=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,d);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new O_(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class k_{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new k_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const h=u[d];this.matchTNodeWithReadOption(s,o,b0(o,h)),this.matchTNodeWithReadOption(s,o,Fi(o,s,h,!1,!1))}else u===qn?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Fi(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===zs||d===qi||d===qn&&4&o.type)this.addMatch(o.index,-2);else{const h=Fi(o,s,d,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function b0(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Ug(i,s,o,u){return-1===o?function(i,s){return 11&i.type?Io(i,s):4&i.type?nr(i,s):null}(s,i):-2===o?function(i,s,o){return o===zs?Io(s,i):o===qn?nr(s,i):o===qi?on(s,i):void 0}(i,s,u):Li(i,i[1],o,s)}function V_(i,s,o,u){const d=s[19].queries[u];if(null===d.matches){const h=i.data,m=o.matches,_=[];for(let E=0;E<m.length;E+=2){const I=m[E];_.push(I<0?null:Ug(s,h[I],m[E+1],o.metadata.read))}d.matches=_}return d.matches}function Bg(i,s,o,u){const d=i.queries.getByIndex(o),h=d.matches;if(null!==h){const m=V_(i,s,d,o);for(let _=0;_<h.length;_+=2){const E=h[_];if(E>0)u.push(m[_/2]);else{const I=h[_+1],A=s[-E];for(let N=10;N<A.length;N++){const O=A[N];O[17]===O[3]&&Bg(O[1],O,I,u)}if(null!==A[9]){const N=A[9];for(let O=0;O<N.length;O++){const B=N[O];Bg(B[1],B,I,u)}}}}}return u}function U_(i){const s=Ae(),o=Ft(),u=uo();ju(u+1);const d=jg(o,u);if(i.dirty&&Sa(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?Bg(o,s,u,[]):V_(o,s,d,u);i.reset(h,c_),i.notifyOnChanges()}return!0}return!1}function XI(i,s,o,u){const d=Ft();if(d.firstCreatePass){const h=Sn();(function(i,s,o){null===i.queries&&(i.queries=new O_),i.queries.track(new k_(s,o))})(d,new P_(s,o,u),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function(i,s,o){const u=new N_(4==(4&o));fC(i,s,u,u.destroy),null===s[19]&&(s[19]=new w0),s[19].queries.push(new v0(u))}(d,Ae(),o)}function E0(){return i=Ae(),s=uo(),i[19].queries[s].queryList;var i,s}function jg(i,s){return i.queries.getByIndex(s)}const Jg=new Bn("Application Initializer");let zc=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Gs,this.reject=Gs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(jy(h))o.push(h);else if(Zy(h)){const m=new Promise((_,E)=>{h.subscribe({complete:_,error:E})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(d=>{this.reject(d)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(gn(Jg,8))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();const A1=new Bn("AppId"),Sx={provide:A1,useFactory:function(){return`${Xg()}${Xg()}${Xg()}`},deps:[]};function Xg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const S1=new Bn("Platform Initializer"),Y_=new Bn("Platform ID"),x1=new Bn("appBootstrapListener");let K_=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();const uf=new Bn("LocaleId"),Wc=new Bn("DefaultCurrencyCode");class Rx{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const N0=function(i){return new Xh(i)},P0=N0,Mx=function(i){return Promise.resolve(N0(i))},k1=function(i){const s=N0(i),u=Mn(Dr(i).declarations).reduce((d,h)=>{const m=Ht(h);return m&&d.push(new qc(m)),d},[]);return new Rx(s,u)},O0=k1,L1=function(i){return Promise.resolve(k1(i))};let em=(()=>{class i{constructor(){this.compileModuleSync=P0,this.compileModuleAsync=Mx,this.compileModuleAndAllComponentsSync=O0,this.compileModuleAndAllComponentsAsync=L1}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();const Ox=(()=>Promise.resolve(0))();function tm(i){"undefined"==typeof Zone?Ox.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Hi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qs(!1),this.onMicrotaskEmpty=new Qs(!1),this.onStable=new Qs(!1),this.onError=new Qs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&o,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=H.requestAnimationFrame,s=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(H,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,nm(i),i.isCheckStableRunning=!0,Q_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),nm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,d,h,m,_)=>{try{return L0(i),o.invokeTask(d,h,m,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),rm(i)}},onInvoke:(o,u,d,h,m,_,E)=>{try{return L0(i),o.invoke(d,h,m,_,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),rm(i)}},onHasTask:(o,u,d,h)=>{o.hasTask(d,h),u===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,nm(i),Q_(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,d,h)=>(o.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,d){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+d,s,kx,Gs,Gs);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const kx={};function Q_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function nm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function L0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function rm(i){i._nesting--,Q_(i)}class Lx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qs,this.onMicrotaskEmpty=new Qs,this.onStable=new Qs,this.onError=new Qs}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,d){return s.apply(o,u)}}let U1=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tm(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,d){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:d})}whenStable(o,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(gn(Hi))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})(),B1=(()=>{class i{constructor(){this._applications=new Map,im.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return im.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();class Vx{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function j1(i){im=i}let im=new Vx,V0=!0,J_=!1;function sm(){return J_=!0,V0}function U0(){if(J_)throw new Error("Cannot enable prod mode after platform setup.");V0=!1}let ns;const Z1=new Bn("AllowMultipleToken");class q1{constructor(s,o){this.name=s,this.token=o}}function H0(i,s,o=[]){const u=`Platform: ${s}`,d=new Bn(u);return(h=[])=>{let m=H1();if(!m||m.injector.get(Z1,!1))if(i)i(o.concat(h).concat({provide:d,useValue:!0}));else{const _=o.concat(h).concat({provide:d,useValue:!0},{provide:ua,useValue:"platform"});!function(i){if(ns&&!ns.destroyed&&!ns.injector.get(Z1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ns=i.get($1);const s=i.get(S1,null);s&&s.forEach(o=>o())}(Nn.create({providers:_,name:u}))}return function(i){const s=H1();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function H1(){return ns&&!ns.destroyed?ns:null}let $1=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const _=function(i,s){let o;return o="noop"===i?new Lx:("zone.js"===i?void 0:i)||new Hi({enableLongStackTrace:sm(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Hi,useValue:_}];return _.run(()=>{const I=Nn.create({providers:E,parent:this.injector,name:o.moduleType.name}),A=o.create(I),N=A.injector.get(fe,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const O=_.onError.subscribe({next:B=>{N.handleError(B)}});A.onDestroy(()=>{X_(this._modules,A),O.unsubscribe()})}),function(i,s,o){try{const u=o();return jy(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(N,_,()=>{const O=A.injector.get(zc);return O.runInitializers(),O.donePromise.then(()=>(Ib(A.injector.get(uf,mg)||mg),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const d=$0({},u);return function(i,s,o){const u=new Xh(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(o){const u=o.injector.get(Yc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${K(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(gn(Nn))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();function $0(i,s){return Array.isArray(s)?s.reduce($0,i):Object.assign(Object.assign({},i),s)}let Yc=(()=>{class i{constructor(o,u,d,h,m){this._zone=o,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new U.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new U.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,pe.T)(_,E.pipe(i=>(0,_e.x)()(function(i,s){return function(u){let d;d="function"==typeof i?i:function(){return i};const h=Object.create(u,ve.N);return h.source=u,h.subjectFactory=d,h}}(Y)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof rI?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const h=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(pa),_=d.create(Nn.NULL,[],u||d.selector,h),E=_.location.nativeElement,I=_.injector.get(U1,null),A=I&&_.injector.get(B1);return I&&A&&A.registerApplication(E,I),_.onDestroy(()=>{this.detachView(_.hostView),X_(this.components,_),A&&A.unregisterApplication(E)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;X_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(x1,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(gn(Hi),gn(Nn),gn(fe),gn(Lh),gn(zc))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();function X_(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class ev{}class Mi{}const ma={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let W1=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||ma}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,d]=o.split("#");return void 0===d&&(d="default"),F(8255)(u).then(h=>h[d]).then(h=>Y1(h,u,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,d]=o.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[d+h]).then(m=>Y1(m,u,d))}}return i.\u0275fac=function(o){return new(o||i)(gn(em),gn(Mi,8))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();function Y1(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const ya=function(i){return null},nv=H0(null,"core",[{provide:Y_,useValue:"unknown"},{provide:$1,deps:[Nn]},{provide:B1,deps:[]},{provide:K_,deps:[]}]),eE=[{provide:Yc,useClass:Yc,deps:[Hi,Nn,fe,Lh,zc]},{provide:lx,deps:[Hi],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:zc,useClass:zc,deps:[[new $r,Jg]]},{provide:em,useClass:em,deps:[]},Sx,{provide:Tg,useFactory:function(){return gI},deps:[]},{provide:f_,useFactory:function(){return mI},deps:[]},{provide:uf,useFactory:function(i){return Ib(i=i||"undefined"!=typeof $localize&&$localize.locale||mg),i},deps:[[new On(uf),new $r,new na]]},{provide:Wc,useValue:"USD"}];let tR=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(gn(Yc))},i.\u0275mod=wa({type:i}),i.\u0275inj=ri({providers:eE}),i})()},8939:(Qe,we,F)=>{"use strict";F.d(we,{hO:()=>K,xv:()=>Y,Dh:()=>_e,GT:()=>le,on:()=>k,pX:()=>ve});var l=F(3018),te=F(7841),U=F(9126);Qe=F.hmd(Qe);const pe=["ngOnDestroy"],ve=(J,ge,ie,ne={})=>new Proxy(J,{get:($,Ce)=>ie.runOutsideAngular(()=>{var Pe;if(J[Ce])return(null===(Pe=null==ne?void 0:ne.spy)||void 0===Pe?void 0:Pe.get)&&ne.spy.get(Ce,J[Ce]),J[Ce];if(pe.indexOf(Ce)>-1)return()=>{};const Be=ge.toPromise().then(ze=>{const Re=ze&&ze[Ce];return"function"==typeof Re?Re.bind(ze):Re&&Re.then?Re.then(bt=>ie.run(()=>bt)):ie.run(()=>Re)});return new Proxy(()=>{},{get:(ze,Re)=>Be[Re],apply:(ze,Re,bt)=>Be.then(Ot=>{var Te;const se=Ot&&Ot(...bt);return(null===(Te=null==ne?void 0:ne.spy)||void 0===Te?void 0:Te.apply)&&ne.spy.apply(Ce,bt,se),se})})})}),le=(J,ge)=>{ge.forEach(ie=>{Object.getOwnPropertyNames(ie.prototype||ie).forEach(ne=>{Object.defineProperty(J.prototype,ne,Object.getOwnPropertyDescriptor(ie.prototype||ie,ne))})})};class be{constructor(ge){return ge}}const _e=new l.OlP("angularfire2.app.options"),Y=new l.OlP("angularfire2.app.name");function k(J,ge,ie){const $="object"==typeof ie&&ie||{};$.name=$.name||"string"==typeof ie&&ie||"[DEFAULT]";const Pe=te.Z.apps.filter(Be=>Be&&Be.name===$.name)[0]||ge.runOutsideAngular(()=>te.Z.initializeApp(J,$));try{JSON.stringify(J)!==JSON.stringify(Pe.options)&&L("error",`${Pe.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new be(Pe)}const L=(J,...ge)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[J](...ge)},Q={provide:be,useFactory:k,deps:[_e,l.R0b,[new l.FiY,Y]]};let K=(()=>{class J{constructor(ie){te.Z.registerVersion("angularfire",U.q4.full,"core"),te.Z.registerVersion("angularfire",U.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,ie.toString())}static initializeApp(ie,ne){return{ngModule:J,providers:[{provide:_e,useValue:ie},{provide:Y,useValue:ne}]}}}return J.\u0275fac=function(ie){return new(ie||J)(l.LFG(l.Lbi))},J.\u0275mod=l.oAB({type:J}),J.\u0275inj=l.cJS({providers:[Q]}),J})()},9126:(Qe,we,F)=>{"use strict";F.d(we,{q4:()=>k,iC:()=>se,fc:()=>Ot,HU:()=>Be,cc:()=>K});var l=F(3018);(0,F(5452).registerVersion)("firebase","9.1.3","app");var ve=F(7771),le=F(3637),be=F(3342),_e=F(309),Y=F(2639);Qe=F.hmd(Qe);const k=new l.GfV("7.0.4"),L=!!Qe.hot,Q=(ue,...X)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ue](...X)};function K(ue,X,Oe,$e,Ct){const[,ut,yt]=globalThis.\u0275AngularfireInstanceCache.find(sn=>sn[0]===ue)||[];if(ut)return function(ue,X){try{return ue.toString()===X.toString()}catch(Oe){return ue===X}}(Ct,yt)||(Q("error",`${X} was already initialized on the ${Oe} Firebase App with different settings.${L?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:Ct,was:yt})),ut;{const sn=$e();return globalThis.\u0275AngularfireInstanceCache.push([ue,sn,Ct]),sn}}function $(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ce{constructor(X,Oe=ve.N){this.zone=X,this.delegate=Oe}now(){return this.delegate.now()}schedule(X,Oe,$e){const Ct=this.zone;return this.delegate.schedule(function(yt){Ct.runGuarded(()=>{X.apply(this,[yt])})},Oe,$e)}}class Pe{constructor(X){this.zone=X,this.task=null}call(X,Oe){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)),Oe.pipe((0,be.b)({next:$e,complete:$e,error:$e})).subscribe(X).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Be=(()=>{class ue{constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new Ce(Zone.current)),this.insideAngular=Oe.run(()=>new Ce(Zone.current,le.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ue.\u0275fac=function(Oe){return new(Oe||ue)(l.LFG(l.R0b))},ue.\u0275prov=l.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();function ze(){const ue=globalThis.\u0275AngularFireScheduler;if(!ue)throw new Error("AngularFireModule has not been provided");return ue}function Ot(ue){return ue.pipe((0,_e.QV)(ze().outsideAngular))}function se(ue){return ze(),function(ue){return function(Oe){return(Oe=Oe.lift(new Pe(ue.ngZone))).pipe((0,Y.R)(ue.outsideAngular),(0,_e.QV)(ue.insideAngular))}}(ze())(ue)}},4486:(Qe,we,F)=>{"use strict";F.d(we,{Z:()=>ge});var l=F(3854),te=F(6034),U=F(5452),pe=F(5601);class ve{constructor(ne,$){this._delegate=ne,this.firebase=$,(0,U._addComponent)(ne,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this._delegate.automaticDataCollectionEnabled=ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ne=>{this._delegate.checkDestroyed(),ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ne,$=U._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ne);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Ce=Pe.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:$})}_removeServiceInstance(ne,$=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ne).clearInstance($)}_addComponent(ne){(0,U._addComponent)(this._delegate,ne)}_addOrOverwriteComponent(ne){(0,U._addOrOverwriteComponent)(this._delegate,ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function Y(){const ie=function(ie){const ne={},$={__esModule:!0,initializeApp:function(Ot,Te={}){const se=U.initializeApp(Ot,Te);if((0,l.r3)(ne,se.name))return ne[se.name];const de=new ie(se,$);return ne[se.name]=de,de},app:Pe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(Ot){const Te=Ot.name,se=Te.replace("-compat","");if(U._registerComponent(Ot)&&"PUBLIC"===Ot.type){const de=(he=Pe())=>{if("function"!=typeof he[se])throw be.create("invalid-app-argument",{appName:Te});return he[se]()};void 0!==Ot.serviceProps&&(0,l.ZB)(de,Ot.serviceProps),$[se]=de,ie.prototype[se]=function(...he){return this._getService.bind(this,Te).apply(this,Ot.multipleInstances?he:[])}}return"PUBLIC"===Ot.type?$[se]:null},removeApp:function(Ot){delete ne[Ot]},useAsService:function(Ot,Te){return"serverAuth"===Te?null:Te},modularAPIs:U}};function Pe(Ot){if(!(0,l.r3)(ne,Ot=Ot||U._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Ot});return ne[Ot]}return $.default=$,Object.defineProperty($,"apps",{get:function(){return Object.keys(ne).map(Ot=>ne[Ot])}}),Pe.App=ie,$}(ve);return ie.INTERNAL=Object.assign(Object.assign({},ie.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function($){(0,l.ZB)(ie,$)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ie}(),L=new pe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ie=self.firebase.SDK_VERSION;ie&&ie.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ge=k;(0,U.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Qe,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Pn,_DEFAULT_ENTRY_NAME:()=>Ct,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>Vr,_apps:()=>yt,_clearComponents:()=>Nt,_components:()=>sn,_getProvider:()=>en,_registerComponent:()=>Ur,_removeServiceInstance:()=>dt,deleteApp:()=>At,getApp:()=>Tr,getApps:()=>Js,initializeApp:()=>ri,onLog:()=>_n,registerVersion:()=>Qn,setLogLevel:()=>Kt});var l=F(8239),te=F(6034),U=F(5601),pe=F(3854);class ve{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function(mt){const Se=mt.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Mt)){const vn=Mt.getImmediate();return`${vn.library}/${vn.version}`}return null}).filter(Mt=>Mt).join(" ")}}const be="@firebase/app",Y=new U.Yd("@firebase/app"),Ct="[DEFAULT]",ut={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,sn=new Map;function Dn(mt,Se){try{mt.container.addComponent(Se)}catch(Mt){Y.debug(`Component ${Se.name} failed to register with FirebaseApp ${mt.name}`,Mt)}}function Vr(mt,Se){mt.container.addOrOverwriteComponent(Se)}function Ur(mt){const Se=mt.name;if(sn.has(Se))return Y.debug(`There were multiple attempts to register component ${Se}.`),!1;sn.set(Se,mt);for(const Mt of yt.values())Dn(Mt,mt);return!0}function en(mt,Se){return mt.container.getProvider(Se)}function dt(mt,Se,Mt=Ct){en(mt,Se).clearInstance(Mt)}function Nt(){sn.clear()}const ni=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class yn{constructor(Se,Mt,vn){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=vn,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}const Pn="9.1.3";function ri(mt,Se={}){"object"!=typeof Se&&(Se={name:Se});const Mt=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},Se),vn=Mt.name;if("string"!=typeof vn||!vn)throw ni.create("bad-app-name",{appName:String(vn)});const cn=yt.get(vn);if(cn){if((0,pe.vZ)(mt,cn.options)&&(0,pe.vZ)(Mt,cn.config))return cn;throw ni.create("duplicate-app",{appName:vn})}const jt=new te.H0(vn);for(const nt of sn.values())jt.addComponent(nt);const We=new yn(mt,Mt,jt);return yt.set(vn,We),We}function Tr(mt=Ct){const Se=yt.get(mt);if(!Se)throw ni.create("no-app",{appName:mt});return Se}function Js(){return Array.from(yt.values())}function At(mt){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(mt){const Se=mt.name;yt.has(Se)&&(yt.delete(Se),yield Promise.all(mt.container.getProviders().map(Mt=>Mt.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function Qn(mt,Se,Mt){var vn;let cn=null!==(vn=ut[mt])&&void 0!==vn?vn:mt;Mt&&(cn+=`-${Mt}`);const jt=cn.match(/\s|\//),We=Se.match(/\s|\//);if(jt||We){const nt=[`Unable to register library "${cn}" with version "${Se}":`];return jt&&nt.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),jt&&We&&nt.push("and"),We&&nt.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Y.warn(nt.join(" "))}Ur(new te.wA(`${cn}-version`,()=>({library:cn,version:Se}),"VERSION"))}function _n(mt,Se){if(null!==mt&&"function"!=typeof mt)throw ni.create("invalid-log-argument");(0,U.Am)(mt,Se)}function Kt(mt){(0,U.Ub)(mt)}Ur(new te.wA("platform-logger",Se=>new ve(Se),"PRIVATE")),Qn(be,"0.7.4",""),Qn(be,"0.7.4","esm2017"),Qn("fire-js","")},6034:(Qe,we,F)=>{"use strict";F.d(we,{wA:()=>U,H0:()=>_e});var l=F(4762),te=F(3854),U=function(){function Y(k,L,Q){this.name=k,this.instanceFactory=L,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Y.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Y.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Y.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Y}(),pe="[DEFAULT]",ve=function(){function Y(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var Q=new te.BH;if(this.instancesDeferred.set(L,Q),this.isInitialized(L)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:L});K&&Q.resolve(K)}catch(J){}}return this.instancesDeferred.get(L).promise},Y.prototype.getImmediate=function(k){var L,Q=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),K=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(J){if(K)return null;throw J}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(k){var L,Q;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(Pe){}try{for(var K=(0,l.XA)(this.instancesDeferred.entries()),J=K.next();!J.done;J=K.next()){var ge=(0,l.CR)(J.value,2),ne=ge[1],$=this.normalizeInstanceIdentifier(ge[0]);try{var Ce=this.getOrInitializeService({instanceIdentifier:$});ne.resolve(Ce)}catch(Pe){}}}catch(Pe){L={error:Pe}}finally{try{J&&!J.done&&(Q=K.return)&&Q.call(K)}finally{if(L)throw L.error}}}},Y.prototype.clearInstance=function(k){void 0===k&&(k=pe),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Y.prototype.delete=function(){return(0,l.mG)(this,void 0,void 0,function(){var k;return(0,l.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,l.ev)((0,l.ev)([],(0,l.CR)(k.filter(function(Q){return"INTERNAL"in Q}).map(function(Q){return Q.INTERNAL.delete()}))),(0,l.CR)(k.filter(function(Q){return"_delete"in Q}).map(function(Q){return Q._delete()}))))];case 1:return L.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(k){return void 0===k&&(k=pe),this.instances.has(k)},Y.prototype.getOptions=function(k){return void 0===k&&(k=pe),this.instancesOptions.get(k)||{}},Y.prototype.initialize=function(k){var L,Q;void 0===k&&(k={});var K=k.options,J=void 0===K?{}:K,ge=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(ge))throw Error(this.name+"("+ge+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ie=this.getOrInitializeService({instanceIdentifier:ge,options:J});try{for(var ne=(0,l.XA)(this.instancesDeferred.entries()),$=ne.next();!$.done;$=ne.next()){var Ce=(0,l.CR)($.value,2),Be=Ce[1];ge===this.normalizeInstanceIdentifier(Ce[0])&&Be.resolve(ie)}}catch(Re){L={error:Re}}finally{try{$&&!$.done&&(Q=ne.return)&&Q.call(ne)}finally{if(L)throw L.error}}return ie},Y.prototype.onInit=function(k,L){var Q,K=this.normalizeInstanceIdentifier(L),J=null!==(Q=this.onInitCallbacks.get(K))&&void 0!==Q?Q:new Set;J.add(k),this.onInitCallbacks.set(K,J);var ge=this.instances.get(K);return ge&&k(ge,K),function(){J.delete(k)}},Y.prototype.invokeOnInitCallbacks=function(k,L){var Q,K,J=this.onInitCallbacks.get(L);if(J)try{for(var ge=(0,l.XA)(J),ie=ge.next();!ie.done;ie=ge.next()){var ne=ie.value;try{ne(k,L)}catch($){}}}catch($){Q={error:$}}finally{try{ie&&!ie.done&&(K=ge.return)&&K.call(ge)}finally{if(Q)throw Q.error}}},Y.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,Q=k.options,K=void 0===Q?{}:Q,J=this.instances.get(L);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:le(L),options:K}),this.instances.set(L,J),this.instancesOptions.set(L,K),this.invokeOnInitCallbacks(J,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,J)}catch(ge){}return J||null},Y.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=pe),this.component?this.component.multipleInstances?k:pe:k},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function le(Y){return Y===pe?void 0:Y}var _e=function(){function Y(k){this.name=k,this.providers=new Map}return Y.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},Y.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Y.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new ve(k,this);return this.providers.set(k,L),L},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},5601:(Qe,we,F)=>{"use strict";F.d(we,{in:()=>te,Yd:()=>be,Ub:()=>_e,Am:()=>Y});const l=[];var te=(()=>{return(k=te||(te={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",te;var k})();const U={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pe=te.INFO,ve={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},le=(k,L,...Q)=>{if(L<k.logLevel)return;const K=(new Date).toISOString(),J=ve[L];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[J](`[${K}]  ${k.name}:`,...Q)};class be{constructor(L){this.name=L,this._logLevel=pe,this._logHandler=le,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in te))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?U[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...L),this._logHandler(this,te.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...L),this._logHandler(this,te.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,te.INFO,...L),this._logHandler(this,te.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,te.WARN,...L),this._logHandler(this,te.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...L),this._logHandler(this,te.ERROR,...L)}}function _e(k){l.forEach(L=>{L.setLogLevel(k)})}function Y(k,L){for(const Q of l){let K=null;L&&L.level&&(K=U[L.level]),Q.userLogHandler=null===k?null:(J,ge,...ie)=>{const ne=ie.map($=>{if(null==$)return null;if("string"==typeof $)return $;if("number"==typeof $||"boolean"==typeof $)return $.toString();if($ instanceof Error)return $.message;try{return JSON.stringify($)}catch(Ce){return null}}).filter($=>$).join(" ");ge>=(null!=K?K:J.logLevel)&&k({level:te[ge].toLowerCase(),message:ne,args:ie,type:J.name})}}}},3854:(Qe,we,F)=>{"use strict";F.d(we,{BH:()=>K,LL:()=>X,ZR:()=>ue,tV:()=>Y,r3:()=>en,Sg:()=>J,ne:()=>At,vZ:()=>ni,ZB:()=>L,pd:()=>Tr,m9:()=>eo,z$:()=>ge,jU:()=>$,ru:()=>Ce,d:()=>Be,xb:()=>Nt,w1:()=>ze,hl:()=>Te,uI:()=>ie,UG:()=>ne,b$:()=>Pe,G6:()=>Ot,Mn:()=>Re,xO:()=>Pn,zd:()=>ri});const pe=function(G){const z=[];let H=0;for(let Ie=0;Ie<G.length;Ie++){let oe=G.charCodeAt(Ie);oe<128?z[H++]=oe:oe<2048?(z[H++]=oe>>6|192,z[H++]=63&oe|128):55296==(64512&oe)&&Ie+1<G.length&&56320==(64512&G.charCodeAt(Ie+1))?(oe=65536+((1023&oe)<<10)+(1023&G.charCodeAt(++Ie)),z[H++]=oe>>18|240,z[H++]=oe>>12&63|128,z[H++]=oe>>6&63|128,z[H++]=63&oe|128):(z[H++]=oe>>12|224,z[H++]=oe>>6&63|128,z[H++]=63&oe|128)}return z},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let oe=0;oe<G.length;oe+=3){const Ge=G[oe],Ue=oe+1<G.length,qt=Ue?G[oe+1]:0,bn=oe+2<G.length,an=bn?G[oe+2]:0;let ln=(15&qt)<<2|an>>6,hr=63&an;bn||(hr=64,Ue||(ln=64)),Ie.push(H[Ge>>2],H[(3&Ge)<<4|qt>>4],H[ln],H[hr])}return Ie.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(pe(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let H=0,Ie=0;for(;H<G.length;){const oe=G[H++];if(oe<128)z[Ie++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ge=G[H++];z[Ie++]=String.fromCharCode((31&oe)<<6|63&Ge)}else if(oe>239&&oe<365){const bn=((7&oe)<<18|(63&G[H++])<<12|(63&G[H++])<<6|63&G[H++])-65536;z[Ie++]=String.fromCharCode(55296+(bn>>10)),z[Ie++]=String.fromCharCode(56320+(1023&bn))}else{const Ge=G[H++],Ue=G[H++];z[Ie++]=String.fromCharCode((15&oe)<<12|(63&Ge)<<6|63&Ue)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const H=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let oe=0;oe<G.length;){const Ge=H[G.charAt(oe++)],qt=oe<G.length?H[G.charAt(oe)]:0;++oe;const an=oe<G.length?H[G.charAt(oe)]:64;++oe;const kt=oe<G.length?H[G.charAt(oe)]:64;if(++oe,null==Ge||null==qt||null==an||null==kt)throw Error();Ie.push(Ge<<2|qt>>4),64!==an&&(Ie.push(qt<<4&240|an>>2),64!==kt&&Ie.push(an<<6&192|kt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},_e=function(G){return function(G){const z=pe(G);return le.encodeByteArray(z,!0)}(G).replace(/\./g,"")},Y=function(G){try{return le.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function L(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const H in z)!z.hasOwnProperty(H)||!Q(H)||(G[H]=L(G[H],z[H]));return G}function Q(G){return"__proto__"!==G}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,H)=>{this.resolve=z,this.reject=H})}wrapCallback(z){return(H,Ie)=>{H?this.reject(H):this.resolve(Ie),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(H):z(H,Ie))}}}function J(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=z||"demo-project",oe=G.iat||0,Ge=G.sub||G.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:oe,exp:oe+3600,auth_time:oe,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},G);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Ue)),""].join(".")}function ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function $(){return"object"==typeof self&&self.self===self}function Ce(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return ge().indexOf("Electron/")>=0}function ze(){const G=ge();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Re(){return ge().indexOf("MSAppHost/")>=0}function Ot(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){return"object"==typeof indexedDB}class ue extends Error{constructor(z,H,Ie){super(H),this.code=z,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(z,H,Ie){this.service=z,this.serviceName=H,this.errors=Ie}create(z,...H){const Ie=H[0]||{},oe=`${this.service}/${z}`,Ge=this.errors[z],Ue=Ge?function(G,z){return G.replace($e,(H,Ie)=>{const oe=z[Ie];return null!=oe?String(oe):`<${Ie}?>`})}(Ge,Ie):"Error";return new ue(oe,`${this.serviceName}: ${Ue} (${oe}).`,Ie)}}const $e=/\{\$([^}]+)}/g;function en(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function Nt(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function ni(G,z){if(G===z)return!0;const H=Object.keys(G),Ie=Object.keys(z);for(const oe of H){if(!Ie.includes(oe))return!1;const Ge=G[oe],Ue=z[oe];if(yn(Ge)&&yn(Ue)){if(!ni(Ge,Ue))return!1}else if(Ge!==Ue)return!1}for(const oe of Ie)if(!H.includes(oe))return!1;return!0}function yn(G){return null!==G&&"object"==typeof G}function Pn(G){const z=[];for(const[H,Ie]of Object.entries(G))Array.isArray(Ie)?Ie.forEach(oe=>{z.push(encodeURIComponent(H)+"="+encodeURIComponent(oe))}):z.push(encodeURIComponent(H)+"="+encodeURIComponent(Ie));return z.length?"&"+z.join("&"):""}function ri(G){const z={};return G.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[oe,Ge]=Ie.split("=");z[decodeURIComponent(oe)]=decodeURIComponent(Ge)}}),z}function Tr(G){const z=G.indexOf("?");if(!z)return"";const H=G.indexOf("#",z);return G.substring(z,H>0?H:void 0)}function At(G,z){const H=new dr(G,z);return H.subscribe.bind(H)}class dr{constructor(z,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{z(this)}).catch(Ie=>{this.error(Ie)})}next(z){this.forEachObserver(H=>{H.next(z)})}error(z){this.forEachObserver(H=>{H.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,H,Ie){let oe;if(void 0===z&&void 0===H&&void 0===Ie)throw new Error("Missing Observer.");oe=function(G,z){if("object"!=typeof G||null===G)return!1;for(const H of["next","error","complete"])if(H in G&&"function"==typeof G[H])return!0;return!1}(z)?z:{next:z,error:H,complete:Ie},void 0===oe.next&&(oe.next=Kt),void 0===oe.error&&(oe.error=Kt),void 0===oe.complete&&(oe.complete=Kt);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(Ue){}}),this.observers.push(oe),Ge}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,z)}sendOne(z,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{H(this.observers[z])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function eo(G){return G&&G._delegate?G._delegate:G}},7841:(Qe,we,F)=>{"use strict";F.d(we,{Z:()=>l.Z});var l=F(4486);l.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Qe,we,F)=>{"use strict";F.r(we);var l=F(8239),te=F(4486),U=F(3854),pe=F(5452),ve=F(4762),le=F(5601),be=F(6034);const ge=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ie=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ne=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new le.Yd("@firebase/auth");function Pe(v,...p){Ce.logLevel<=le.in.ERROR&&Ce.error(`Auth (${pe.SDK_VERSION}): ${v}`,...p)}function Be(v,...p){throw Ot(v,...p)}function ze(v,...p){return Ot(v,...p)}function Re(v,p,g){const b=Object.assign(Object.assign({},ie()),{[p]:g});return new U.LL("auth","Firebase",b).create(p,{appName:v.name})}function bt(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Be(v,"argument-error"),Re(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(v,...p){if("string"!=typeof v){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return ne.create(v,...p)}function Te(v,p,...g){if(!v)throw Ot(p,...g)}function se(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Pe(p),new Error(p)}function de(v,p){v||se(p)}const he=new Map;function ae(v){de(v instanceof Function,"Expected a class definition");let p=he.get(v);return p?(de(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,he.set(v,p),p)}function Oe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function $e(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class sn{constructor(p,g){this.shortDelay=p,this.longDelay=g,de(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Dn(v,p){de(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Vr{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ur={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new sn(3e4,6e4);function dt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Nt(v,p,g,b){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(v,p,g,b,S={}){return ni(v,S,()=>{let P={},W={};b&&("GET"===p?W=b:P={body:JSON.stringify(b)});const fe=(0,U.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),Ve=new(Vr.headers());return Ve.set("Content-Type","application/json"),Ve.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Ve.set("X-Firebase-Locale",v.languageCode),Vr.fetch()(Tr(v,v.config.apiHost,g,fe),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function ni(v,p,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(v,p,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ur),p);try{const S=new Js(v),P=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield P.json();if("needConfirmation"in W)throw At(v,"account-exists-with-different-credential",W);if(P.ok&&!("errorMessage"in W))return W;{const fe=P.ok?W.errorMessage:W.error.message,[Ve,tt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw At(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ve)throw At(v,"email-already-in-use",W);const Xe=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Re(v,Xe,tt);Be(v,Xe)}}catch(S){if(S instanceof U.ZR)throw S;Be(v,"network-request-failed")}})).apply(this,arguments)}function Pn(v,p,g,b){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(v,p,g,b,S={}){const P=yield Nt(v,p,g,b,S);return"mfaPendingCredential"in P&&Be(v,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Tr(v,p,g,b){const S=`${p}${g}?${b}`;return v.config.emulator?Dn(v.config,S):`${v.config.apiScheme}://${S}`}class Js{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ze(this.auth,"timeout")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function At(v,p,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=ze(v,p,b);return S.customData._tokenResponse=g,S}function Qn(){return(Qn=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function _n(v,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vn(v,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Se(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function cn(){return(cn=(0,l.Z)(function*(v,p=!1){const g=(0,U.m9)(v),b=yield g.getIdToken(p),S=We(b);Te(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,W=null==P?void 0:P.sign_in_provider;return{claims:S,token:b,authTime:Se(jt(S.auth_time)),issuedAtTime:Se(jt(S.iat)),expirationTime:Se(jt(S.exp)),signInProvider:W||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function jt(v){return 1e3*Number(v)}function We(v){const[p,g,b]=v.split(".");if(void 0===p||void 0===g||void 0===b)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,U.tV)(g);return S?JSON.parse(S):(Pe("Failed to decode base64 JWT payload"),null)}catch(S){return Pe("Caught error parsing JWT payload as JSON",S),null}}function wn(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof U.ZR&&ss(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function ss({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Jt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Br{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eo(v){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(v){var p;const g=v.auth,b=yield v.getIdToken(),S=yield wn(v,Vn(g,{idToken:b}));Te(null==S?void 0:S.users.length,g,"internal-error");const P=S.users[0];v._notifyReloadListener(P);const W=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?oe(P.providerUserInfo):[],fe=Ie(v.providerData,W),Xe=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==fe?void 0:fe.length)),at={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:fe,metadata:new Br(P.createdAt,P.lastLoginAt),isAnonymous:Xe};Object.assign(v,at)})).apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(v){const p=(0,U.m9)(v);yield eo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ie(v,p){return[...v.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function oe(v){return v.map(p=>{var{providerId:g}=p,b=(0,ve._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ue(){return(Ue=(0,l.Z)(function*(v,p){const g=yield ni(v,{},()=>{const b=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:P}=v.config,W=Tr(v,S,"/v1/token",`key=${P}`);return Vr.fetch()(W,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Te(p.idToken,"internal-error"),Te(void 0!==p.idToken,"internal-error"),Te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=We(v);return Te(p,"internal-error"),Te(void 0!==p.exp,"internal-error"),Te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,l.Z)(function*(){return Te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:W}=yield function(v,p){return Ue.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(S,P,Number(W))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:S,expirationTime:P}=g,W=new qt;return b&&(Te("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),S&&(Te("string"==typeof S,"internal-error",{appName:p}),W.accessToken=S),P&&(Te("number"==typeof P,"internal-error",{appName:p}),W.expirationTime=P),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return se("not implemented")}}function bn(v,p){Te("string"==typeof v||void 0===v,"internal-error",{appName:p})}class an{constructor(p){var{uid:g,auth:b,stsTokenManager:S}=p,P=(0,ve._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new Br(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const b=yield wn(g,g.stsTokenManager.getToken(g.auth,p));return Te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(v){return cn.apply(this,arguments)}(this,p)}reload(){return function(v){return H.apply(this,arguments)}(this)}_assign(p){this!==p&&(Te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new an(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield eo(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield wn(p,function(v,p){return Qn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,S,P,W,fe,Ve,tt,Xe;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,Gn=null!==(S=g.email)&&void 0!==S?S:void 0,Di=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,di=null!==(W=g.photoURL)&&void 0!==W?W:void 0,nh=null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,fp=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,Jm=null!==(tt=g.createdAt)&&void 0!==tt?tt:void 0,pp=null!==(Xe=g.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:gp,emailVerified:mp,isAnonymous:Xm,providerData:rh,stsTokenManager:ey}=g;Te(gp&&ey,p,"internal-error");const Qi=qt.fromJSON(this.name,ey);Te("string"==typeof gp,p,"internal-error"),bn(at,p.name),bn(Gn,p.name),Te("boolean"==typeof mp,p,"internal-error"),Te("boolean"==typeof Xm,p,"internal-error"),bn(Di,p.name),bn(di,p.name),bn(nh,p.name),bn(fp,p.name),bn(Jm,p.name),bn(pp,p.name);const Mn=new an({uid:gp,auth:p,email:Gn,emailVerified:mp,displayName:at,isAnonymous:Xm,photoURL:di,phoneNumber:Di,tenantId:nh,stsTokenManager:Qi,createdAt:Jm,lastLoginAt:pp});return rh&&Array.isArray(rh)&&(Mn.providerData=rh.map(FE=>Object.assign({},FE))),fp&&(Mn._redirectEventId=fp),Mn}static _fromIdTokenResponse(p,g,b=!1){return(0,l.Z)(function*(){const S=new qt;S.updateFromServerResponse(g);const P=new an({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield eo(P),P})()}}const kt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,l.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,l.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,l.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function ln(v,p,g){return`firebase:${v}:${p}:${g}`}class hr{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:S,name:P}=this.auth;this.fullUserKey=ln(this.userKey,S.apiKey,P),this.fullPersistenceKey=ln("persistence",S.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?an._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,l.Z)(function*(){if(!g.length)return new hr(ae(kt),p,b);const S=(yield Promise.all(g.map(function(){var tt=(0,l.Z)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let P=S[0]||ae(kt);const W=ln(b,p.config.apiKey,p.name);let fe=null;for(const tt of g)try{const Xe=yield tt._get(W);if(Xe){const at=an._fromJSON(p,Xe);tt!==P&&(fe=at),P=tt;break}}catch(Xe){}const Ve=S.filter(tt=>tt._shouldAllowMigration);return P._shouldAllowMigration&&Ve.length?(P=Ve[0],fe&&(yield P._set(W,fe.toJSON())),yield Promise.all(g.map(function(){var tt=(0,l.Z)(function*(Xe){if(Xe!==P)try{yield Xe._remove(W)}catch(at){}});return function(Xe){return tt.apply(this,arguments)}}())),new hr(P,p,b)):new hr(P,p,b)})()}}function dl(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(hl(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Tt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(wa(p))return"Blackberry";if(Oo(p))return"Webos";if(Tu(p))return"Safari";if((p.includes("chrome/")||Iu(p))&&!p.includes("edge/"))return"Chrome";if(Po(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Tt(v=(0,U.z$)()){return/firefox\//i.test(v)}function Tu(v=(0,U.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Iu(v=(0,U.z$)()){return/crios\//i.test(v)}function hl(v=(0,U.z$)()){return/iemobile/i.test(v)}function Po(v=(0,U.z$)()){return/android/i.test(v)}function wa(v=(0,U.z$)()){return/blackberry/i.test(v)}function Oo(v=(0,U.z$)()){return/webos/i.test(v)}function ii(v=(0,U.z$)()){return/iphone|ipad|ipod/i.test(v)}function zi(v=(0,U.z$)()){return ii(v)||Po(v)||Oo(v)||wa(v)||/windows phone/i.test(v)||hl(v)}function Dr(v,p=[]){let g;switch(v){case"Browser":g=dl((0,U.z$)());break;case"Worker":g=`${dl((0,U.z$)())}-${v}`;break;default:g=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${pe.SDK_VERSION}/${b}`}class Df{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S;b._deleted||(b.persistenceManager=yield hr.create(b,p),!b._deleted&&((null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(g),!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==S?void 0:S._redirectEventId,fe=yield g.tryRedirectSignIn(p);(!P||P===W)&&(null==fe?void 0:fe.user)&&(S=fe.user)}return S?S._redirectEventId?(Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield eo(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const b=p?(0,U.m9)(p):null;return b&&Te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){if(!g._deleted)return p&&Te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,l.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,l.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ae(p)||g._popupRedirectResolver;Te(b,g,"argument-error"),g.redirectPersistenceManager=yield hr.create(g,[ae(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,S){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(W,this,"internal-error"),W.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,b,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function $t(v){return(0,U.m9)(v)}class je{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function un(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ss(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ar{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return se("not implemented")}_getIdTokenResponse(p){return se("not implemented")}_linkToIdToken(p,g){return se("not implemented")}_getReauthenticationResolver(p){return se("not implemented")}}function En(v,p){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:resetPassword",dt(v,p))})).apply(this,arguments)}function Fo(v,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bi(v,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:update",dt(v,p))})).apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithPassword",dt(v,p))})).apply(this,arguments)}function Jn(v,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:sendOobCode",dt(v,p))})).apply(this,arguments)}function Cn(v,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(v,p){return Jn(v,p)})).apply(this,arguments)}function tn(v,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(v,p){return Jn(v,p)})).apply(this,arguments)}function _t(v,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(v,p){return Jn(v,p)})).apply(this,arguments)}function Au(v,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(v,p){return Jn(v,p)})).apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithEmailLink",dt(v,p))})).apply(this,arguments)}function Su(){return(Su=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithEmailLink",dt(v,p))})).apply(this,arguments)}class si extends Ar{constructor(p,g,b,S=null){super("password",b),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new si(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new si(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return sr.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return Wi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Be(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return Fo(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(v,p){return Su.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Gt(v,p){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithIdp",dt(v,p))})).apply(this,arguments)}class oi extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new oi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Be("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=g,P=(0,ve._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new oi(b,S);return W.idToken=P.idToken||void 0,W.accessToken=P.accessToken||void 0,W.secret=P.secret,W.nonce=P.nonce,W.pendingToken=P.pendingToken||null,W}_getIdTokenResponse(p){return Gt(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Gt(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Gt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,U.xO)(g)}return p}}function pr(v,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:sendVerificationCode",dt(v,p))})).apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",dt(v,p))})).apply(this,arguments)}function pd(){return(pd=(0,l.Z)(function*(v,p){const g=yield Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",dt(v,p));if(g.temporaryProof)throw At(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const gd={USER_NOT_FOUND:"user-not-found"};function md(){return(md=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",dt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),gd)})).apply(this,arguments)}class Bo extends Ar{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Bo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Bo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return Ru.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return pd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return md.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:P}=p;return b||g||S||P?new Bo({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:P}):null}}class jo{constructor(p){var g,b,S,P,W,fe;const Ve=(0,U.zd)((0,U.pd)(p)),tt=null!==(g=Ve.apiKey)&&void 0!==g?g:null,Xe=null!==(b=Ve.oobCode)&&void 0!==b?b:null,at=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);Te(tt&&Xe&&at,"argument-error"),this.apiKey=tt,this.operation=at,this.code=Xe,this.continueUrl=null!==(P=Ve.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(W=Ve.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(fe=Ve.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const g=function(v){const p=(0,U.zd)((0,U.pd)(v)).link,g=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,b=(0,U.zd)((0,U.pd)(v)).deep_link_id;return(b?(0,U.zd)((0,U.pd)(b)).link:null)||b||g||p||v}(p);try{return new jo(g)}catch(b){return null}}}let yd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return si._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=jo.parseLink(b);return Te(S,"argument-error"),si._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class so{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ea extends so{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class oo extends Ea{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),oi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Te(p.idToken||p.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return oo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return oo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:P,nonce:W,providerId:fe}=p;if(!b&&!S&&!g&&!P||!fe)return null;try{return new oo(fe)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:P})}catch(Ve){return null}}}let Mu=(()=>{class v extends Ea{constructor(){super("facebook.com")}static credential(g){return oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Nu=(()=>{class v extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return v.credential(b,S)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Pu=(()=>{class v extends Ea{constructor(){super("github.com")}static credential(g){return oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Zo extends Ar{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Gt(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Gt(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Gt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:P}=g;return b&&S&&P&&b===S?new Zo(b,P):null}static _create(p,g){return new Zo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ml=(()=>{class v extends Ea{constructor(){super("twitter.com")}static credential(g,b){return oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return v.credential(b,S)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function as(v,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signUp",dt(v,p))})).apply(this,arguments)}class Pi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,S=!1){return(0,l.Z)(function*(){const P=yield an._fromIdTokenResponse(p,b,S),W=yl(b);return new Pi({user:P,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=yl(b);return new Pi({user:p,providerId:S,_tokenResponse:b,operationType:g})})()}}function yl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ca(){return(Ca=(0,l.Z)(function*(v){var p;const g=$t(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Pi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield as(g,{returnSecureToken:!0}),S=yield Pi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class _l extends U.ZR{constructor(p,g,b,S){var P;super(g.code,g.message),this.operationType=b,this.user=S,this.name="FirebaseError",Object.setPrototypeOf(this,_l.prototype),this.appName=p.name,this.code=g.code,this.tenantId=null!==(P=p.tenantId)&&void 0!==P?P:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(p,g,b,S){return new _l(p,g,b,S)}}function Ho(v,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?_l._fromErrorAndOperation(v,P,p,b):P})}function _d(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function vl(){return(vl=(0,l.Z)(function*(v,p){const g=(0,U.m9)(v);yield ls(!0,g,p);const{providerUserInfo:b}=yield _n(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=_d(b||[]);return g.providerData=g.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ta(v,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(v,p,g=!1){const b=yield wn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Pi._forOperation(v,"link",b)})).apply(this,arguments)}function ls(v,p,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(v,p,g){yield eo(p);const S=!1===v?"provider-already-linked":"no-such-provider";Te(_d(p.providerData).has(g)===v,p.auth,S)})).apply(this,arguments)}function wl(v,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(v,p,g=!1){const{auth:b}=v,S="reauthenticate";try{const P=yield wn(v,Ho(b,S,p,v),g);Te(P.idToken,b,"internal-error");const W=We(P.idToken);Te(W,b,"internal-error");const{sub:fe}=W;return Te(v.uid===fe,b,"user-mismatch"),Pi._forOperation(v,S,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Be(b,"user-mismatch"),P}})).apply(this,arguments)}function vd(v,p){return bl.apply(this,arguments)}function bl(){return(bl=(0,l.Z)(function*(v,p,g=!1){const b="signIn",S=yield Ho(v,b,p),P=yield Pi._fromIdTokenResponse(v,b,S);return g||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function El(v,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,p){return vd($t(v),p)})).apply(this,arguments)}function wd(v,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(v,p){const g=(0,U.m9)(v);return yield ls(!1,g,p.providerId),Ta(g,p)})).apply(this,arguments)}function Da(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(v,p){return wl((0,U.m9)(v),p)})).apply(this,arguments)}function Im(v,p){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,p){return Pn(v,"POST","/v1/accounts:signInWithCustomToken",dt(v,p))})).apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,p){const g=$t(v),b=yield Im(g,{token:p,returnSecureToken:!0}),S=yield Pi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Sa{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?xa._fromServerResponse(p,g):Be(p,"internal-error")}}class xa extends Sa{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new xa(g)}}function Ra(v,p,g){var b;Te((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Cl(){return(Cl=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v),S={requestType:"PASSWORD_RESET",email:p};g&&Ra(b,S,g),yield tn(b,S)})).apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(v,p,g){yield En((0,U.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(v,p){yield bi((0,U.m9)(v),{oobCode:p})})).apply(this,arguments)}function $o(v,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,l.Z)(function*(v,p){const g=(0,U.m9)(v),b=yield En(g,{oobCode:p}),S=b.requestType;switch(Te(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(b.mfaInfo,g,"internal-error");default:Te(b.email,g,"internal-error")}let P=null;return b.mfaInfo&&(P=Sa._fromServerResponse($t(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(v,p){const{data:g}=yield $o((0,U.m9)(v),p);return g.email})).apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(v,p,g){const b=$t(v),S=yield as(b,{returnSecureToken:!0,email:p,password:g}),P=yield Pi._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Te(g.handleCodeInApp,b,"argument-error"),g&&Ra(b,S,g),yield _t(b,S)})).apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v),S=yd.credentialWithLink(p,g||Oe());return Te(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),El(b,S)})).apply(this,arguments)}function Pa(v,p){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:createAuthUri",dt(v,p))})).apply(this,arguments)}function Cd(){return(Cd=(0,l.Z)(function*(v,p){const b={identifier:p,continueUri:$e()?Oe():"http://localhost"},{signinMethods:S}=yield Pa((0,U.m9)(v),b);return S||[]})).apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(v,p){const g=(0,U.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ra(g.auth,S,p);const{email:P}=yield Cn(g.auth,S);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Ra(b.auth,P,g);const{email:W}=yield Au(b.auth,P);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function Tl(v,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(v,p){return Nt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,U.m9)(v),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield wn(b,Tl(b.auth,P));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const fe=b.providerData.find(({providerId:Ve})=>"password"===Ve);fe&&(fe.displayName=b.displayName,fe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Uu(v,p,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(v,p,g){const{auth:b}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const W=yield wn(v,Fo(b,P));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class uo{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class ju extends uo{constructor(p,g,b,S){super(p,g,b),this.username=S}}class Rf extends uo{constructor(p,g){super(p,"facebook.com",g)}}class Mf extends ju{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ka extends uo{constructor(p,g){super(p,"google.com",g)}}class Fa extends ju{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Td(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:b}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const W=null===(g=null===(p=We(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new uo(P,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Rf(P,S);case"github.com":return new Mf(P,S);case"google.com":return new ka(P,S);case"twitter.com":return new Fa(P,S,v.screenName||null);case"custom":case"anonymous":return new uo(P,null);default:return new uo(P,b,S)}}(g)}class Ci{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ci("enroll",p)}static _fromMfaPendingCredential(p){return new Ci("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ci._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Ci._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Zu{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=$t(p),S=(g.serverResponse.mfaInfo||[]).map(W=>Sa._fromServerResponse(b,W));Te(g.serverResponse.mfaPendingCredential,b,"internal-error");const P=Ci._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new Zu(P,S,function(){var W=(0,l.Z)(function*(fe){const Ve=yield fe._process(b,P);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const tt=Object.assign(Object.assign({},g.serverResponse),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(g.operationType){case"signIn":const Xe=yield Pi._fromIdTokenResponse(b,g.operationType,tt);return yield b._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return Te(g.user,b,"internal-error"),Pi._forOperation(g.user,g.operationType,tt);default:Be(b,"internal-error")}});return function(fe){return W.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function Nf(v,p){return Nt(v,"POST","/v2/accounts/mfaEnrollment:start",dt(v,p))}class Ns{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Sa._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ns(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Ci._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,l.Z)(function*(){const S=p,P=yield b.getSession(),W=yield wn(b.user,S._process(b.user.auth,P,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),P=yield wn(g.user,function(v,p){return Nt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(v,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const ho=new WeakMap,Yi="__sak";class fs{constructor(p,g){this.storage=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Yi,"1"),this.storage.removeItem(Yi),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const xe=(()=>{class v extends fs{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,U.z$)();return Tu(v)||ii(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),P=this.localCache[b];S!==P&&g(b,P,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((fe,Ve,tt)=>{this.notifyListeners(fe,tt)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(S);if(g.newValue!==fe)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const P=()=>{const fe=this.storage.getItem(S);!b&&this.localCache[S]===fe||this.notifyListeners(S,fe)},W=this.storage.getItem(S);(0,U.w1)()&&10===document.documentMode&&W!==g.newValue&&g.newValue!==g.oldValue?setTimeout(P,10):P()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,P=this;return(0,l.Z)(function*(){yield S().call(P,g,b),P.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,l.Z)(function*(){const P=yield b().call(S,g);return S.localCache[g]=JSON.stringify(P),P})()}_remove(g){var b=()=>super._remove,S=this;return(0,l.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),zt=(()=>{class v extends fs{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let xn=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(P=>P.isListeningto(g));if(b)return b;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,l.Z)(function*(){const S=g,{eventId:P,eventType:W,data:fe}=S.data,Ve=b.handlersMap[W];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:W});const tt=Array.from(Ve).map(function(){var at=(0,l.Z)(function*(Gn){return Gn(S.origin,fe)});return function(Gn){return at.apply(this,arguments)}}()),Xe=yield function(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(tt);S.ports[0].postMessage({status:"done",eventId:P,eventType:W,response:Xe})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ps(v="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return v+g}class Sd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var S=this;return(0,l.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let W,fe;return new Promise((Ve,tt)=>{const Xe=ps("",20);P.port1.start();const at=setTimeout(()=>{tt(new Error("unsupported_event"))},b);fe={messageChannel:P,onMessage(Gn){const Di=Gn;if(Di.data.eventId===Xe)switch(Di.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ve(Di.data.response);break;default:clearTimeout(at),clearTimeout(W),tt(new Error("invalid_response"))}}},S.handlers.add(fe),P.port1.addEventListener("message",fe.onMessage),S.target.postMessage({eventType:p,eventId:Xe,data:g},[P.port2])}).finally(()=>{fe&&S.removeMessageHandler(fe)})})()}}function Rn(){return window}function xd(){return void 0!==Rn().WorkerGlobalScope&&"function"==typeof Rn().importScripts}function Ff(){return(Ff=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Sm="firebaseLocalStorageDb",Gu="firebaseLocalStorage",Rd="fbase_key";class Md{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Nd(v,p){return v.transaction([Gu],p?"readwrite":"readonly").objectStore(Gu)}function ui(){const v=indexedDB.open(Sm,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Gu,{keyPath:Rd})}catch(S){g(S)}}),v.addEventListener("success",(0,l.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Gu)?p(b):(b.close(),yield function(){const v=indexedDB.deleteDatabase(Sm);return new Md(v).toPromise()}(),p(yield ui()))}))})}function Pd(v,p,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(v,p,g){const b=Nd(v,!0).put({[Rd]:p,value:g});return new Md(b).toPromise()})).apply(this,arguments)}function zu(){return(zu=(0,l.Z)(function*(v,p){const g=Nd(v,!1).get(p),b=yield new Md(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function zo(v,p){const g=Nd(v,!0).delete(p);return new Md(g).toPromise()}const Al=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield ui()),g.db})()}_withRetries(g){var b=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const P=yield b._openDb();return yield g(P)}catch(P){if(S++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return xd()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=xn._getInstance(xd()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(S,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(S,P){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function(){return Ff.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Sd(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ui();return yield Pd(g,Yi,"1"),yield zo(g,Yi),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(P=>Pd(P,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,l.Z)(function*(){const S=yield b._withRetries(P=>function(v,p){return zu.apply(this,arguments)}(P,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(S=>zo(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const b=yield g._withRetries(W=>{const fe=Nd(W,!1).getAll();return new Md(fe).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:W,value:fe}of b)P.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(fe)&&(g.notifyListeners(W,fe),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!P.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Vf(v,p){return Nt(v,"POST","/v2/accounts/mfaSignIn:start",dt(v,p))}function Uf(){return(Uf=(0,l.Z)(function*(v){return(yield Nt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Li(v){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=S=>{const P=ze("internal-error");P.customData=S,g(P)},b.type="text/javascript",b.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function Bf(v){return`__${v}${Math.floor(1e6*Math.random())}`}const po=1e12;class Je{constructor(p){this.auth=p,this.counter=po,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Od(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||po;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||po))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var b;return null===(b=g._widgets.get(p||po))||void 0===b||b.execute(),""})()}}class Od{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Te(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const go=Bf("rcb"),Ua=new sn(3e4,6e4);class Sl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rn().grecaptcha}load(p,g=""){return Te((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Rn().grecaptcha):new Promise((b,S)=>{const P=Rn().setTimeout(()=>{S(ze(p,"network-request-failed"))},Ua.get());Rn()[go]=()=>{Rn().clearTimeout(P),delete Rn()[go];const fe=Rn().grecaptcha;if(!fe)return void S(ze(p,"internal-error"));const Ve=fe.render;fe.render=(tt,Xe)=>{const at=Ve(tt,Xe);return this.counter++,at},this.hostLanguage=g,b(fe)},Li(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:go,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),S(ze(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Rn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wo{load(p){return(0,l.Z)(function*(){return new Je(p)})()}clearedOneInstance(){}}const Yo="recaptcha",Mv={theme:"light",type:"image"};class Rm{constructor(p,g=Object.assign({},Mv),b){this.parameters=g,this.type=Yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(b),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wo:new Sl,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(P=>{const W=fe=>{!fe||(p.tokenChangeListeners.delete(W),P(fe))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Rn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){Te($e()&&!xd(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return Uf.apply(this,arguments)}(p.auth);Te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ld{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Bo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Vd(){return(Vd=(0,l.Z)(function*(v,p,g){const b=$t(v),S=yield jd(b,p,(0,U.m9)(g));return new Ld(S,P=>El(b,P))})).apply(this,arguments)}function Ud(){return(Ud=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v);yield ls(!1,b,"phone");const S=yield jd(b.auth,p,(0,U.m9)(g));return new Ld(S,P=>wd(b,P))})).apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v),S=yield jd(b.auth,p,(0,U.m9)(g));return new Ld(S,P=>Da(b,P))})).apply(this,arguments)}function jd(v,p,g){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,l.Z)(function*(v,p,g){var b;const S=yield g.verify();try{let P;if(Te("string"==typeof S,v,"argument-error"),Te(g.type===Yo,v,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const W=P.session;if("phoneNumber"in P)return Te("enroll"===W.type,v,"internal-error"),(yield Nf(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Te("signin"===W.type,v,"internal-error");const fe=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return Te(fe,v,"missing-multi-factor-info"),(yield Vf(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield pr(v,{phoneNumber:P.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function Zd(){return(Zd=(0,l.Z)(function*(v,p){yield Ta((0,U.m9)(v),p)})).apply(this,arguments)}let ja=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=$t(g)}verifyPhoneNumber(g,b){return jd(this.auth,g,(0,U.m9)(b))}static credential(g,b){return Bo._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Bo._fromTokenResponse(b,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Za(v,p){return p?ae(p):(Te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ko extends Ar{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Gt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Gt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Gt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function kv(v){return vd(v.auth,new Ko(v),v.bypassAuthState)}function Zt(v){const{auth:p,user:g}=v;return Te(g,p,"internal-error"),wl(g,new Ko(v),v.bypassAuthState)}function ms(v){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(v){const{auth:p,user:g}=v;return Te(g,p,"internal-error"),Ta(g,new Ko(v),v.bypassAuthState)})).apply(this,arguments)}class EE{constructor(p,g,b,S,P=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:P,tenantId:W,error:fe,type:Ve}=p;if(fe)return void g.reject(fe);const tt={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(tt))}catch(Xe){g.reject(Xe)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return kv;case"linkViaPopup":case"linkViaRedirect":return ms;case"reauthViaPopup":case"reauthViaRedirect":return Zt;default:Be(this.auth,"internal-error")}}resolve(p){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CE=new sn(2e3,1e4);function or(){return(or=(0,l.Z)(function*(v,p,g){const b=$t(v);bt(v,p,so);const S=Za(b,g);return new qf(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v);bt(b.auth,p,so);const S=Za(b.auth,g);return new qf(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v);bt(b.auth,p,so);const S=Za(b.auth,g);return new qf(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let qf=(()=>{class v extends EE{constructor(g,b,S,P,W){super(g,b,P,W),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const b=yield g.execute();return Te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,l.Z)(function*(){de(1===g.filter.length,"Popup operations only handle one event");const b=ps();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ze(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,CE.get())};g()}}return v.currentPopupAction=null,v})();const Fv=new Map;class XD extends EE{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let b=Fv.get(g.auth._key());if(!b){try{const P=(yield function(v,p){return Ti.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(P)}catch(S){b=()=>Promise.reject(S)}Fv.set(g.auth._key(),b)}return b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ti(){return(Ti=(0,l.Z)(function*(v,p){const g=Yu(p),b="true"===(yield Xo(v)._get(g));return yield Xo(v)._remove(g),b})).apply(this,arguments)}function qd(v,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(v,p){return Xo(v)._set(Yu(p),"true")})).apply(this,arguments)}function Xo(v){return ae(v._redirectPersistence)}function Yu(v){return ln("pendingRedirect",v.config.apiKey,v.name)}function Ku(){return(Ku=(0,l.Z)(function*(v,p,g){const b=$t(v);bt(v,p,so);const S=Za(b,g);return yield qd(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v);bt(b.auth,p,so);const S=Za(b.auth,g);yield qd(S,b.auth);const P=yield Mm(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(v,p,g){const b=(0,U.m9)(v);bt(b.auth,p,so);const S=Za(b.auth,g);yield ls(!1,b,p.providerId),yield qd(S,b.auth);const P=yield Mm(b);return S._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(v,p){return yield $t(v)._initializationPromise,Gd(v,p,!1)})).apply(this,arguments)}function Gd(v,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,l.Z)(function*(v,p,g=!1){const b=$t(v),S=Za(b,p),W=yield new XD(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function Mm(v){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(v){const p=ps(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class $a{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ys(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!ys(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ze(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tc(p))}saveEventToCache(p){this.cachedEventUids.add(tc(p)),this.lastProcessedEventTime=Date.now()}}function tc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ys({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function gn(v){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(v,p={}){return Nt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const DE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mo=/^https?/;function nc(){return(nc=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield gn(v);for(const g of p)try{if(Gf(g))return}catch(b){}Be(v,"unauthorized-domain")})).apply(this,arguments)}function Gf(v){const p=Oe(),{protocol:g,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!mo.test(g))return!1;if(DE.test(v))return b===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Wd=new sn(3e4,6e4);function zf(){const v=Rn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let $r=null;function Ga(v){return $r=$r||function(v){return new Promise((p,g)=>{var b,S,P;function W(){zf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{zf(),g(ze(v,"network-request-failed"))},timeout:Wd.get()})}if(null===(S=null===(b=Rn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=Rn().gapi)||void 0===P?void 0:P.load)){const fe=Bf("iframefcb");return Rn()[fe]=()=>{gapi.load?W():g(ze(v,"network-request-failed"))},Li(`https://apis.google.com/js/api.js?onload=${fe}`)}W()}}).catch(p=>{throw $r=null,p})}(v),$r}const na=new sn(5e3,15e3),Ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},rc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uv(v){const p=v.config;Te(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Dn(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:pe.SDK_VERSION},S=rc.get(v.config.apiHost);S&&(b.eid=S);const P=v._getFrameworks();return P.length&&(b.fw=P.join(",")),`${g}?${(0,U.xO)(b).slice(1)}`}function Pm(){return(Pm=(0,l.Z)(function*(v){const p=yield Ga(v),g=Rn().gapi;return Te(g,v,"internal-error"),p.open({where:document.body,url:Uv(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ol,dontclear:!0},b=>new Promise(function(){var S=(0,l.Z)(function*(P,W){yield b.restyle({setHideOnLeave:!1});const fe=ze(v,"network-request-failed"),Ve=Rn().setTimeout(()=>{W(fe)},na.get());function tt(){Rn().clearTimeout(Ve),P(b)}b.ping(tt).then(tt,()=>{W(fe)})});return function(P,W){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const ic={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function kl(v,p,g,b,S,P){Te(v.config.authDomain,v,"auth-domain-config-required"),Te(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:pe.SDK_VERSION,eventId:S};if(p instanceof so){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,tt]of Object.entries(P||{}))W[Ve]=tt}if(p instanceof Ea){const Ve=p.getScopes().filter(tt=>""!==tt);Ve.length>0&&(W.scopes=Ve.join(","))}v.tenantId&&(W.tid=v.tenantId);const fe=W;for(const Ve of Object.keys(fe))void 0===fe[Ve]&&delete fe[Ve];return`${function({config:v}){return v.emulator?Dn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,U.xO)(fe).slice(1)}`}const yo="webStorageSupport";class za extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new za(p)}_finalizeEnroll(p,g,b){return function(v,p){return Nt(v,"POST","/v2/accounts/mfaEnrollment:finalize",dt(v,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return Nt(v,"POST","/v2/accounts/mfaSignIn:finalize",dt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ac=(()=>{class v{constructor(){}static assertion(g){return za._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,Qf="@firebase/auth";class Fm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wa(){return window}function _s(){return(_s=(0,l.Z)(function*(v,p,g){var b;const{BuildInfo:S}=Wa();de(p.sessionId,"AuthEvent did not contain a session ID");const P=yield $v(p.sessionId),W={};return ii()?W.ibi=S.packageName:Po()?W.apn=S.packageName:Be(v,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=P,kl(v,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Kd(){return(Kd=(0,l.Z)(function*(v){const{BuildInfo:p}=Wa(),g={};ii()?g.iosBundleId=p.packageName:Po()?g.androidPackageName=p.packageName:Be(v,"operation-not-supported-in-this-environment"),yield gn(v,g)})).apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(v,p,g){const{cordova:b}=Wa();let S=()=>{};try{yield new Promise((P,W)=>{let fe=null;function Ve(){var at;P();const Gn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Gn&&Gn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function tt(){fe||(fe=window.setTimeout(()=>{W(ze(v,"redirect-cancelled-by-user"))},2e3))}function Xe(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}p.addPassiveListener(Ve),document.addEventListener("resume",tt,!1),Po()&&document.addEventListener("visibilitychange",Xe,!1),S=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",Xe,!1),fe&&window.clearTimeout(fe)}})}finally{S()}})).apply(this,arguments)}function $v(v){return lc.apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(v){const p=Gv(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gv(v){if(de(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let b=0;b<v.length;b++)g[b]=v.charCodeAt(b);return g}v="Browser",(0,pe._registerComponent)(new be.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:P}=b.options;return(W=>{Te(S&&!S.includes(":"),"invalid-api-key",{appName:W.name}),Te(!(null==P?void 0:P.includes(":")),"argument-error",{appName:W.name});const fe={apiKey:S,authDomain:P,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(v)},Ve=new Df(W,fe);return function(v,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Ve,g),Ve})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new be.wA("auth-internal",p=>{const g=$t(p.getProvider("auth").getImmediate());return new Fm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Qf,"0.18.3",void 0),(0,pe.registerVersion)(Qf,"0.18.3","esm2017");class ep extends $a{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function np(v){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(v){const p=yield ia()._get(Qd(v));return p&&(yield ia()._remove(Qd(v))),p})).apply(this,arguments)}function Ps(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);v.push(p.charAt(b))}return v.join("")}function ia(){return ae(xe)}function Qd(v){return ln("authEvent",v.config.apiKey,v.name)}function Xd(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,U.zd)(g.join("?"))}function uc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ze("no-auth-event")}}function ap(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Kv(v=(0,U.z$)()){return!("file:"!==ap()&&"ionic:"!==ap()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Os(){try{const v=self.localStorage,p=ps();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,U.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,U.hl)()}catch(v){return qm()&&(0,U.hl)()}return!1}function qm(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function He(){return("http:"===ap()||"https:"===ap()||(0,U.ru)()||Kv())&&!((0,U.b$)()||(0,U.UG)())&&Os()&&!qm()}function ks(){return Kv()&&"undefined"!=typeof document}function Gr(){return(Gr=(0,l.Z)(function*(){return!!ks()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Rr={LOCAL:"local",NONE:"none",SESSION:"session"},zr=Te,$m="persistence";function lp(v){return up.apply(this,arguments)}function up(){return(up=(0,l.Z)(function*(v){yield v._initializationPromise;const p=Gm(),g=ln($m,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function Gm(){return"undefined"!=typeof window?window:null}const cc=Te;class jn{constructor(){this.browserResolver=ae(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zt,this._completeRedirectFn=Gd}_openPopup(p,g,b,S){var P=this;return(0,l.Z)(function*(){var W;de(null===(W=P.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const fe=kl(p,g,b,Oe(),S);return function(v,p,g,b=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let fe="";const Ve=Object.assign(Object.assign({},ic),{width:b.toString(),height:S.toString(),top:P,left:W}),tt=(0,U.z$)().toLowerCase();g&&(fe=Iu(tt)?"_blank":g),Tt(tt)&&(p=p||"http://localhost",Ve.scrollbars="yes");const Xe=Object.entries(Ve).reduce((Gn,[Di,di])=>`${Gn}${Di}=${di},`,"");if(function(v=(0,U.z$)()){var p;return ii(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(tt)&&"_self"!==fe)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",fe),new Wf(null);const at=window.open(p||"",fe,Xe);Te(at,v,"popup-blocked");try{at.focus()}catch(Gn){}return new Wf(at)}(p,fe,ps())})()}_openRedirect(p,g,b,S){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(p),v=kl(p,g,b,Oe(),S),Rn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:P}=this.eventManagers[g];return S?Promise.resolve(S):(de(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const b=yield function(v){return Pm.apply(this,arguments)}(p),S=new $a(p);return b.register("authEvent",P=>(Te(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(yo,{type:yo},S=>{var P;const W=null===(P=null==S?void 0:S[0])||void 0===P?void 0:P[yo];void 0!==W&&g(!!W),Be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return nc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return zi()||Tu()||ii()}}),this.cordovaResolver=ae(class{constructor(){this._redirectPersistence=zt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gd}_initialize(p){var g=this;return(0,l.Z)(function*(){const b=p._key();let S=g.eventManagers.get(b);return S||(S=new ep(p),g.eventManagers.set(b,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Be(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,S){var P=this;return(0,l.Z)(function*(){!function(v){var p,g,b,S,P,W,fe,Ve,tt,Xe;const at=Wa();Te("function"==typeof(null===(p=null==at?void 0:at.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(P=null===(S=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Ve=null===(fe=null===(W=null==at?void 0:at.cordova)||void 0===W?void 0:W.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Xe=null===(tt=null==at?void 0:at.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===Xe?void 0:Xe.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield P._initialize(p);yield W.initialized(),W.resetRedirect(),Fv.clear(),yield P._originValidation(p);const fe=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ps(),postBody:null,tenantId:v.tenantId,error:ze(v,"no-auth-event")}}(p,b,S);yield function(v,p){return ia()._set(Qd(v),p)}(p,fe);const Ve=yield function(v,p,g){return _s.apply(this,arguments)}(p,fe,g),tt=yield function(v){const{cordova:p}=Wa();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(v):S=p.InAppBrowser.open(v,function(v=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(S)})})}(Ve);return function(v,p,g){return Fl.apply(this,arguments)}(p,W,tt)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Kd.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:P}=Wa(),W=setTimeout((0,l.Z)(function*(){yield np(p),g.onEvent(uc())}),500),fe=function(){var Xe=(0,l.Z)(function*(at){clearTimeout(W);const Gn=yield np(p);let Di=null;Gn&&(null==at?void 0:at.url)&&(Di=function(v,p){var g,b;const S=function(v){const p=Xd(v),g=p.link?decodeURIComponent(p.link):void 0,b=Xd(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Xd(S).link||S||b||g||v}(p);if(S.includes("/__/auth/callback")){const P=Xd(S),W=P.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,fe=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ve=fe?ze(fe):null;return Ve?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:S,postBody:null}}return null}(Gn,at.url)),g.onEvent(Di||uc())});return function(Gn){return Xe.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,fe);const Ve=S,tt=`${P.packageName.toLowerCase()}://`;Wa().handleOpenURL=function(){var Xe=(0,l.Z)(function*(at){if(at.toLowerCase().startsWith(tt)&&fe({url:at}),"function"==typeof Ve)try{Ve(at)}catch(Gn){console.error(Gn)}});return function(at){return Xe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zt,this._completeRedirectFn=Gd}_initialize(p){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,S){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,g,b,S)})()}_openRedirect(p,g,b,S){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,g,b,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return ks()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Gr.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function eh(v){return v.unwrap()}function dc(v){return Vl(v)}function Vl(v){const{_tokenResponse:p}=v instanceof U.ZR?v.customData:v;if(!p)return null;if(!(v instanceof U.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ja.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Nu;break;case"facebook.com":b=Mu;break;case"github.com":b=Pu;break;case"twitter.com":b=ml;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:W,pendingToken:fe,nonce:Ve}=p;return P||W||S||fe?fe?g.startsWith("saml.")?Zo._create(g,fe):oi._fromParams({providerId:g,signInMethod:g,pendingToken:fe,idToken:S,accessToken:P}):new oo(g).credential({idToken:S,accessToken:P,rawNonce:Ve}):null}return v instanceof U.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function gr(v,p){return p.catch(g=>{throw g instanceof U.ZR&&function(v,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new zm(v,function(v,p){var g;const b=(0,U.m9)(v),S=p;return Te(p.operationType,b,"argument-error"),Te(null===(g=S.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Zu._fromError(b,S)}(v,p));else if(b){const S=Vl(p),P=p;S&&(P.credential=S,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(v,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:dc(g),additionalUserInfo:Td(g),user:Ii.getOrCreate(S)}})}function Fs(v,p){return th.apply(this,arguments)}function th(){return(th=(0,l.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>gr(v,g.confirm(b))}})).apply(this,arguments)}class zm{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return gr(eh(this.auth),this.resolver.resolveSignIn(p))}}class Ii{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,U.m9)(v);return ho.has(p)||ho.set(p,Ns._fromUser(p)),ho.get(p)}(p)}static getOrCreate(p){return Ii.USER_MAP.has(p)||Ii.USER_MAP.set(p,new Ii(p)),Ii.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,l.Z)(function*(){return gr(g.auth,wd(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,l.Z)(function*(){return Fs(b.auth,function(v,p,g){return Ud.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,l.Z)(function*(){return gr(g.auth,function(v,p,g){return Rl.apply(this,arguments)}(g._delegate,p,jn))})()}linkWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield lp($t(g.auth)),function(v,p,g){return function(v,p,g){return ea.apply(this,arguments)}(v,p,g)}(g._delegate,p,jn)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,l.Z)(function*(){return gr(g.auth,Da(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Fs(this.auth,function(v,p,g){return Bd.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return gr(this.auth,function(v,p,g){return Ki.apply(this,arguments)}(this._delegate,p,jn))}reauthenticateWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield lp($t(g.auth)),function(v,p,g){return function(v,p,g){return Ju.apply(this,arguments)}(v,p,g)}(g._delegate,p,jn)})()}sendEmailVerification(p){return function(v,p){return ds.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,l.Z)(function*(){return yield function(v,p){return vl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return Uu((0,U.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return Uu((0,U.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return Zd.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return Vu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return qr.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ii.USER_MAP=new WeakMap;const kn=Te;let Wm=(()=>{class v{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;kn(S,"invalid-api-key",{appName:g.name});let P=[kt];if("undefined"!=typeof window){P=function(v,p){const g=Gm();if(!(null==g?void 0:g.sessionStorage))return[];const b=ln($m,v,p);switch(g.sessionStorage.getItem(b)){case Rr.NONE:return[kt];case Rr.LOCAL:return[Al,zt];case Rr.SESSION:return[zt];default:return[]}}(S,g.name);for(const fe of[Al,xe,zt])P.includes(fe)||P.push(fe)}kn(S,"invalid-api-key",{appName:g.name});const W="undefined"!=typeof window?jn:void 0;this._delegate=b.initialize({options:{persistence:P,popupRedirectResolver:W}}),this._delegate._updateErrorMap(ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(v,p,g){const b=$t(v);Te(b._canInitEmulator,b,"emulator-config-failed"),Te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),P=un(p),{host:W,port:fe}=function(v){const p=un(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const P=S[1];return{host:P,port:Ss(b.substr(P.length+1))}}{const[P,W]=b.split(":");return{host:P,port:Ss(W)}}}(p);b.config.emulator={url:`${P}//${W}${null===fe?"":`:${fe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,b)}applyActionCode(g){return function(v,p){return ao.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $o(this._delegate,g)}confirmPasswordReset(g,b){return function(v,p,g){return lt.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,l.Z)(function*(){return gr(S._delegate,function(v,p,g){return Ae.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return Cd.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=jo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){kn(He(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(v,p){return Ha.apply(this,arguments)}(g._delegate,jn);return b?gr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){$t(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:P,error:W,complete:fe}=cp(g,b,S);return this._delegate.onAuthStateChanged(P,W,fe)}onIdTokenChanged(g,b,S){const{next:P,error:W,complete:fe}=cp(g,b,S);return this._delegate.onIdTokenChanged(P,W,fe)}sendSignInLinkToEmail(g,b){return function(v,p,g){return Sn.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(v,p,g){return Cl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,l.Z)(function*(){let S;switch(function(v,p){zr(Object.values(Rr).includes(p),v,"invalid-persistence-type"),(0,U.b$)()?zr(p!==Rr.SESSION,v,"unsupported-persistence-type"):(0,U.UG)()?zr(p===Rr.NONE,v,"unsupported-persistence-type"):qm()?zr(p===Rr.NONE||p===Rr.LOCAL&&(0,U.hl)(),v,"unsupported-persistence-type"):zr(p===Rr.NONE||Os(),v,"unsupported-persistence-type")}(b._delegate,g),g){case Rr.SESSION:S=zt;break;case Rr.LOCAL:S=(yield ae(Al)._isAvailable())?Al:xe;break;case Rr.NONE:S=kt;break;default:return Be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return gr(this._delegate,function(v){return Ca.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return gr(this._delegate,El(this._delegate,g))}signInWithCustomToken(g){return gr(this._delegate,function(v,p){return Sr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return gr(this._delegate,function(v,p,g){return El((0,U.m9)(v),yd.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return gr(this._delegate,function(v,p,g){return Ei.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Fs(this._delegate,function(v,p,g){return Vd.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,l.Z)(function*(){return kn(He(),b._delegate,"operation-not-supported-in-this-environment"),gr(b._delegate,function(v,p,g){return or.apply(this,arguments)}(b._delegate,g,jn))})()}signInWithRedirect(g){var b=this;return(0,l.Z)(function*(){return kn(He(),b._delegate,"operation-not-supported-in-this-environment"),yield lp(b._delegate),function(v,p,g){return function(v,p,g){return Ku.apply(this,arguments)}(v,p,g)}(b._delegate,g,jn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return lo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Rr,v})();function cp(v,p,g){let b=v;"function"!=typeof v&&({next:b,error:p,complete:g}=v);const S=b;return{next:W=>S(W&&Ii.getOrCreate(W)),error:p,complete:g}}class Ym{constructor(){this.providerId="phone",this._delegate=new ja(eh(te.Z.auth()))}static credential(p,g){return ja.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Ym.PHONE_SIGN_IN_METHOD=ja.PHONE_SIGN_IN_METHOD,Ym.PROVIDER_ID=ja.PROVIDER_ID;const Km=Te;class dp{constructor(p,g,b=te.Z.app()){var S;Km(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Rm(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new be.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Wm(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yd,FacebookAuthProvider:Mu,GithubAuthProvider:Pu,GoogleAuthProvider:Nu,OAuthProvider:oo,PhoneAuthProvider:Ym,PhoneMultiFactorGenerator:ac,RecaptchaVerifier:dp,TwitterAuthProvider:ml,Auth:Wm,AuthCredential:Ar,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(te.Z)},7574:(Qe,we,F)=>{"use strict";F.d(we,{y:()=>L});var l=F(7393),U=F(9181),pe=F(6490),le=F(6554),be=F(4487);var k=F(2494);let L=(()=>{class K{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const ie=new K;return ie.source=this,ie.operator=ge,ie}subscribe(ge,ie,ne){const{operator:$}=this,Ce=function(K,J,ge){if(K){if(K instanceof l.L)return K;if(K[U.b])return K[U.b]()}return K||J||ge?new l.L(K,J,ge):new l.L(pe.c)}(ge,ie,ne);if(Ce.add($?$.call(Ce,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Ce.syncErrorThrowable?this._subscribe(Ce):this._trySubscribe(Ce)),k.v.useDeprecatedSynchronousErrorHandling&&Ce.syncErrorThrowable&&(Ce.syncErrorThrowable=!1,Ce.syncErrorThrown))throw Ce.syncErrorValue;return Ce}_trySubscribe(ge){try{return this._subscribe(ge)}catch(ie){k.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=ie),function(K){for(;K;){const{closed:J,destination:ge,isStopped:ie}=K;if(J||ie)return!1;K=ge&&ge instanceof l.L?ge:null}return!0}(ge)?ge.error(ie):console.warn(ie)}}forEach(ge,ie){return new(ie=Q(ie))((ne,$)=>{let Ce;Ce=this.subscribe(Pe=>{try{ge(Pe)}catch(Be){$(Be),Ce&&Ce.unsubscribe()}},$,ne)})}_subscribe(ge){const{source:ie}=this;return ie&&ie.subscribe(ge)}[le.L](){return this}pipe(...ge){return 0===ge.length?this:function(K){return 0===K.length?be.y:1===K.length?K[0]:function(ge){return K.reduce((ie,ne)=>ne(ie),ge)}}(ge)(this)}toPromise(ge){return new(ge=Q(ge))((ie,ne)=>{let $;this.subscribe(Ce=>$=Ce,Ce=>ne(Ce),()=>ie($))})}}return K.create=J=>new K(J),K})();function Q(K){if(K||(K=k.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Qe,we,F)=>{"use strict";F.d(we,{c:()=>U});var l=F(2494),te=F(4449);const U={closed:!0,next(pe){},error(pe){if(l.v.useDeprecatedSynchronousErrorHandling)throw pe;(0,te.z)(pe)},complete(){}}},9765:(Qe,we,F)=>{"use strict";F.d(we,{Yc:()=>be,xQ:()=>_e});var l=F(7574),te=F(7393),U=F(5319),pe=F(7971),ve=F(8858),le=F(9181);class be extends te.L{constructor(L){super(L),this.destination=L}}let _e=(()=>{class k extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[le.b](){return new be(this)}lift(Q){const K=new Y(this,this);return K.operator=Q,K}next(Q){if(this.closed)throw new pe.N;if(!this.isStopped){const{observers:K}=this,J=K.length,ge=K.slice();for(let ie=0;ie<J;ie++)ge[ie].next(Q)}}error(Q){if(this.closed)throw new pe.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:K}=this,J=K.length,ge=K.slice();for(let ie=0;ie<J;ie++)ge[ie].error(Q);this.observers.length=0}complete(){if(this.closed)throw new pe.N;this.isStopped=!0;const{observers:Q}=this,K=Q.length,J=Q.slice();for(let ge=0;ge<K;ge++)J[ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new pe.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new pe.N;return this.hasError?(Q.error(this.thrownError),U.w.EMPTY):this.isStopped?(Q.complete(),U.w.EMPTY):(this.observers.push(Q),new ve.W(this,Q))}asObservable(){const Q=new l.y;return Q.source=this,Q}}return k.create=(L,Q)=>new Y(L,Q),k})();class Y extends _e{constructor(L,Q){super(),this.destination=L,this.source=Q}next(L){const{destination:Q}=this;Q&&Q.next&&Q.next(L)}error(L){const{destination:Q}=this;Q&&Q.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:Q}=this;return Q?this.source.subscribe(L):U.w.EMPTY}}},8858:(Qe,we,F)=>{"use strict";F.d(we,{W:()=>te});var l=F(5319);class te extends l.w{constructor(pe,ve){super(),this.subject=pe,this.subscriber=ve,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const pe=this.subject,ve=pe.observers;if(this.subject=null,!ve||0===ve.length||pe.isStopped||pe.closed)return;const le=ve.indexOf(this.subscriber);-1!==le&&ve.splice(le,1)}}},7393:(Qe,we,F)=>{"use strict";F.d(we,{L:()=>be});var l=F(9105),te=F(6490),U=F(5319),pe=F(9181),ve=F(2494),le=F(4449);class be extends U.w{constructor(k,L,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!k){this.destination=te.c;break}if("object"==typeof k){k instanceof be?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,k,L,Q)}}[pe.b](){return this}static create(k,L,Q){const K=new be(k,L,Q);return K.syncErrorThrowable=!1,K}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class _e extends be{constructor(k,L,Q,K){super(),this._parentSubscriber=k;let J,ge=this;(0,l.m)(L)?J=L:L&&(J=L.next,Q=L.error,K=L.complete,L!==te.c&&(ge=Object.create(L),(0,l.m)(ge.unsubscribe)&&this.add(ge.unsubscribe.bind(ge)),ge.unsubscribe=this.unsubscribe.bind(this))),this._context=ge,this._next=J,this._error=Q,this._complete=K}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;ve.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:Q}=ve.v;if(this._error)Q&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)Q?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,le.z)(k),this.unsubscribe();else{if(this.unsubscribe(),Q)throw k;(0,le.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);ve.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(Q){if(this.unsubscribe(),ve.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,le.z)(Q)}}__tryOrSetError(k,L,Q){if(!ve.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,Q)}catch(K){return ve.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=K,k.syncErrorThrown=!0,!0):((0,le.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Qe,we,F)=>{"use strict";F.d(we,{w:()=>le});var l=F(9796),te=F(1555),U=F(9105);const ve=(()=>{function _e(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return _e.prototype=Object.create(Error.prototype),_e})();class le{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:Q,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof le)k.remove(this);else if(null!==k)for(let J=0;J<k.length;++J)k[J].remove(this);if((0,U.m)(Q)){L&&(this._unsubscribe=void 0);try{Q.call(this)}catch(J){Y=J instanceof ve?be(J.errors):[J]}}if((0,l.k)(K)){let J=-1,ge=K.length;for(;++J<ge;){const ie=K[J];if((0,te.K)(ie))try{ie.unsubscribe()}catch(ne){Y=Y||[],ne instanceof ve?Y=Y.concat(be(ne.errors)):Y.push(ne)}}}if(Y)throw new ve(Y)}add(Y){let k=Y;if(!Y)return le.EMPTY;switch(typeof Y){case"function":k=new le(Y);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof le)){const K=k;k=new le,k._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof le){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[k]:Q.push(k),k}remove(Y){const k=this._subscriptions;if(k){const L=k.indexOf(Y);-1!==L&&k.splice(L,1)}}}var _e;function be(_e){return _e.reduce((Y,k)=>Y.concat(k instanceof ve?k.errors:k),[])}le.EMPTY=((_e=new le).closed=!0,_e)},2494:(Qe,we,F)=>{"use strict";F.d(we,{v:()=>te});let l=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const pe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+pe.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=U},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Qe,we,F)=>{"use strict";F.d(we,{IY:()=>pe,Ds:()=>le,ft:()=>_e});var l=F(7393),te=F(7574),U=F(7444);class pe extends l.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class le extends l.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function _e(Y,k){if(k.closed)return;if(Y instanceof te.y)return Y.subscribe(k);let L;try{L=(0,U.s)(Y)(k)}catch(Q){k.error(Q)}return L}},2441:(Qe,we,F)=>{"use strict";F.d(we,{c:()=>ve,N:()=>le});var l=F(9765),te=F(7574),U=F(5319),pe=F(1307);class ve extends te.y{constructor(L,Q){super(),this.source=L,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new U.w,L.add(this.source.subscribe(new be(this.getSubject(),this))),L.closed&&(this._connection=null,L=U.w.EMPTY)),L}refCount(){return(0,pe.x)()(this)}}const le=(()=>{const k=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class be extends l.Yc{constructor(L,Q){super(L),this.connectable=Q}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const Q=L._connection;L._refCount=0,L._subject=null,L._connection=null,Q&&Q.unsubscribe()}}}},9193:(Qe,we,F)=>{"use strict";F.d(we,{E:()=>te,c:()=>U});var l=F(7574);const te=new l.y(ve=>ve.complete());function U(ve){return ve?function(ve){return new l.y(le=>ve.schedule(()=>le.complete()))}(ve):te}},4402:(Qe,we,F)=>{"use strict";F.d(we,{D:()=>ge});var l=F(7574),te=F(7444),U=F(5319),pe=F(6554),be=F(4087),_e=F(377),L=F(4072),Q=F(9489);function ge(ie,ne){return ne?function(ie,ne){if(null!=ie){if(function(ie){return ie&&"function"==typeof ie[pe.L]}(ie))return function(ie,ne){return new l.y($=>{const Ce=new U.w;return Ce.add(ne.schedule(()=>{const Pe=ie[pe.L]();Ce.add(Pe.subscribe({next(Be){Ce.add(ne.schedule(()=>$.next(Be)))},error(Be){Ce.add(ne.schedule(()=>$.error(Be)))},complete(){Ce.add(ne.schedule(()=>$.complete()))}}))})),Ce})}(ie,ne);if((0,L.t)(ie))return function(ie,ne){return new l.y($=>{const Ce=new U.w;return Ce.add(ne.schedule(()=>ie.then(Pe=>{Ce.add(ne.schedule(()=>{$.next(Pe),Ce.add(ne.schedule(()=>$.complete()))}))},Pe=>{Ce.add(ne.schedule(()=>$.error(Pe)))}))),Ce})}(ie,ne);if((0,Q.z)(ie))return(0,be.r)(ie,ne);if(function(ie){return ie&&"function"==typeof ie[_e.hZ]}(ie)||"string"==typeof ie)return function(ie,ne){if(!ie)throw new Error("Iterable cannot be null");return new l.y($=>{const Ce=new U.w;let Pe;return Ce.add(()=>{Pe&&"function"==typeof Pe.return&&Pe.return()}),Ce.add(ne.schedule(()=>{Pe=ie[_e.hZ](),Ce.add(ne.schedule(function(){if($.closed)return;let Be,ze;try{const Re=Pe.next();Be=Re.value,ze=Re.done}catch(Re){return void $.error(Re)}ze?$.complete():($.next(Be),this.schedule())}))})),Ce})}(ie,ne)}throw new TypeError((null!==ie&&typeof ie||ie)+" is not observable")}(ie,ne):ie instanceof l.y?ie:new l.y((0,te.s)(ie))}},6693:(Qe,we,F)=>{"use strict";F.d(we,{n:()=>pe});var l=F(7574),te=F(5015),U=F(4087);function pe(ve,le){return le?(0,U.r)(ve,le):new l.y((0,te.V)(ve))}},6682:(Qe,we,F)=>{"use strict";F.d(we,{T:()=>ve});var l=F(7574),te=F(4869),U=F(3282),pe=F(6693);function ve(...le){let be=Number.POSITIVE_INFINITY,_e=null,Y=le[le.length-1];return(0,te.K)(Y)?(_e=le.pop(),le.length>1&&"number"==typeof le[le.length-1]&&(be=le.pop())):"number"==typeof Y&&(be=le.pop()),null===_e&&1===le.length&&le[0]instanceof l.y?le[0]:(0,U.J)(be)((0,pe.n)(le,_e))}},5917:(Qe,we,F)=>{"use strict";F.d(we,{of:()=>pe});var l=F(4869),te=F(6693),U=F(4087);function pe(...ve){let le=ve[ve.length-1];return(0,l.K)(le)?(ve.pop(),(0,U.r)(ve,le)):(0,te.n)(ve)}},8002:(Qe,we,F)=>{"use strict";F.d(we,{U:()=>te});var l=F(7393);function te(ve,le){return function(_e){if("function"!=typeof ve)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _e.lift(new U(ve,le))}}class U{constructor(le,be){this.project=le,this.thisArg=be}call(le,be){return be.subscribe(new pe(le,this.project,this.thisArg))}}class pe extends l.L{constructor(le,be,_e){super(le),this.project=be,this.count=0,this.thisArg=_e||this}_next(le){let be;try{be=this.project.call(this.thisArg,le,this.count++)}catch(_e){return void this.destination.error(_e)}this.destination.next(be)}}},3282:(Qe,we,F)=>{"use strict";F.d(we,{J:()=>U});var l=F(9773),te=F(4487);function U(pe=Number.POSITIVE_INFINITY){return(0,l.zg)(te.y,pe)}},9773:(Qe,we,F)=>{"use strict";F.d(we,{zg:()=>pe});var l=F(8002),te=F(4402),U=F(5345);function pe(_e,Y,k=Number.POSITIVE_INFINITY){return"function"==typeof Y?L=>L.pipe(pe((Q,K)=>(0,te.D)(_e(Q,K)).pipe((0,l.U)((J,ge)=>Y(Q,J,K,ge))),k)):("number"==typeof Y&&(k=Y),L=>L.lift(new ve(_e,k)))}class ve{constructor(Y,k=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=k}call(Y,k){return k.subscribe(new le(Y,this.project,this.concurrent))}}class le extends U.Ds{constructor(Y,k,L=Number.POSITIVE_INFINITY){super(Y),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let k;const L=this.index++;try{k=this.project(Y,L)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(k)}_innerSub(Y){const k=new U.IY(this),L=this.destination;L.add(k);const Q=(0,U.ft)(Y,k);Q!==k&&L.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Qe,we,F)=>{"use strict";F.d(we,{ht:()=>L,QV:()=>Y});var l=F(7393),te=F(9193),U=F(5917),pe=F(7574);class _e{constructor(J,ge,ie){this.kind=J,this.value=ge,this.error=ie,this.hasValue="N"===J}observe(J){switch(this.kind){case"N":return J.next&&J.next(this.value);case"E":return J.error&&J.error(this.error);case"C":return J.complete&&J.complete()}}do(J,ge,ie){switch(this.kind){case"N":return J&&J(this.value);case"E":return ge&&ge(this.error);case"C":return ie&&ie()}}accept(J,ge,ie){return J&&"function"==typeof J.next?this.observe(J):this.do(J,ge,ie)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return K=this.error,new pe.y(ge=>ge.error(K));case"C":return(0,te.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(J){return void 0!==J?new _e("N",J):_e.undefinedValueNotification}static createError(J){return new _e("E",void 0,J)}static createComplete(){return _e.completeNotification}}function Y(K,J=0){return function(ie){return ie.lift(new k(K,J))}}_e.completeNotification=new _e("C"),_e.undefinedValueNotification=new _e("N",void 0);class k{constructor(J,ge=0){this.scheduler=J,this.delay=ge}call(J,ge){return ge.subscribe(new L(J,this.scheduler,this.delay))}}class L extends l.L{constructor(J,ge,ie=0){super(J),this.scheduler=ge,this.delay=ie}static dispatch(J){const{notification:ge,destination:ie}=J;ge.observe(ie),this.unsubscribe()}scheduleMessage(J){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new Q(J,this.destination)))}_next(J){this.scheduleMessage(_e.createNext(J))}_error(J){this.scheduleMessage(_e.createError(J)),this.unsubscribe()}_complete(){this.scheduleMessage(_e.createComplete()),this.unsubscribe()}}class Q{constructor(J,ge){this.notification=J,this.destination=ge}}},1307:(Qe,we,F)=>{"use strict";F.d(we,{x:()=>te});var l=F(7393);function te(){return function(le){return le.lift(new U(le))}}class U{constructor(le){this.connectable=le}call(le,be){const{connectable:_e}=this;_e._refCount++;const Y=new pe(le,_e),k=be.subscribe(Y);return Y.closed||(Y.connection=_e.connect()),k}}class pe extends l.L{constructor(le,be){super(le),this.connectable=be}_unsubscribe(){const{connectable:le}=this;if(!le)return void(this.connection=null);this.connectable=null;const be=le._refCount;if(be<=0)return void(this.connection=null);if(le._refCount=be-1,be>1)return void(this.connection=null);const{connection:_e}=this,Y=le._connection;this.connection=null,Y&&(!_e||Y===_e)&&Y.unsubscribe()}}},2639:(Qe,we,F)=>{"use strict";F.d(we,{R:()=>ie});var l=F(7574);let te=1;const U=Promise.resolve(),pe={};function ve($){return $ in pe&&(delete pe[$],!0)}const le={setImmediate($){const Ce=te++;return pe[Ce]=!0,U.then(()=>ve(Ce)&&$()),Ce},clearImmediate($){ve($)}};var _e=F(6465),k=F(6102);const K=new class extends k.v{flush(Ce){this.active=!0,this.scheduled=void 0;const{actions:Pe}=this;let Be,ze=-1,Re=Pe.length;Ce=Ce||Pe.shift();do{if(Be=Ce.execute(Ce.state,Ce.delay))break}while(++ze<Re&&(Ce=Pe.shift()));if(this.active=!1,Be){for(;++ze<Re&&(Ce=Pe.shift());)Ce.unsubscribe();throw Be}}}(class extends _e.o{constructor(Ce,Pe){super(Ce,Pe),this.scheduler=Ce,this.work=Pe}requestAsyncId(Ce,Pe,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Pe,Be):(Ce.actions.push(this),Ce.scheduled||(Ce.scheduled=le.setImmediate(Ce.flush.bind(Ce,null))))}recycleAsyncId(Ce,Pe,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Ce,Pe,Be);0===Ce.actions.length&&(le.clearImmediate(Pe),Ce.scheduled=void 0)}});var J=F(6561);class ge extends l.y{constructor(Ce,Pe=0,Be=K){super(),this.source=Ce,this.delayTime=Pe,this.scheduler=Be,(!(0,J.k)(Pe)||Pe<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=K)}static create(Ce,Pe=0,Be=K){return new ge(Ce,Pe,Be)}static dispatch(Ce){const{source:Pe,subscriber:Be}=Ce;return this.add(Pe.subscribe(Be))}_subscribe(Ce){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:Ce})}}function ie($,Ce=0){return function(Be){return Be.lift(new ne($,Ce))}}class ne{constructor(Ce,Pe){this.scheduler=Ce,this.delay=Pe}call(Ce,Pe){return new ge(Pe,this.delay,this.scheduler).subscribe(Ce)}}},3342:(Qe,we,F)=>{"use strict";F.d(we,{b:()=>pe});var l=F(7393);function te(){}var U=F(9105);function pe(be,_e,Y){return function(L){return L.lift(new ve(be,_e,Y))}}class ve{constructor(_e,Y,k){this.nextOrObserver=_e,this.error=Y,this.complete=k}call(_e,Y){return Y.subscribe(new le(_e,this.nextOrObserver,this.error,this.complete))}}class le extends l.L{constructor(_e,Y,k,L){super(_e),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=k||te,this._tapComplete=L||te,(0,U.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||te,this._tapError=Y.error||te,this._tapComplete=Y.complete||te)}_next(_e){try{this._tapNext.call(this._context,_e)}catch(Y){return void this.destination.error(Y)}this.destination.next(_e)}_error(_e){try{this._tapError.call(this._context,_e)}catch(Y){return void this.destination.error(Y)}this.destination.error(_e)}_complete(){try{this._tapComplete.call(this._context)}catch(_e){return void this.destination.error(_e)}return this.destination.complete()}}},4087:(Qe,we,F)=>{"use strict";F.d(we,{r:()=>U});var l=F(7574),te=F(5319);function U(pe,ve){return new l.y(le=>{const be=new te.w;let _e=0;return be.add(ve.schedule(function(){_e!==pe.length?(le.next(pe[_e++]),le.closed||be.add(this.schedule())):le.complete()})),be})}},6465:(Qe,we,F)=>{"use strict";F.d(we,{o:()=>U});var l=F(5319);class te extends l.w{constructor(ve,le){super()}schedule(ve,le=0){return this}}class U extends te{constructor(ve,le){super(ve,le),this.scheduler=ve,this.work=le,this.pending=!1}schedule(ve,le=0){if(this.closed)return this;this.state=ve;const be=this.id,_e=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(_e,be,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(_e,this.id,le),this}requestAsyncId(ve,le,be=0){return setInterval(ve.flush.bind(ve,this),be)}recycleAsyncId(ve,le,be=0){if(null!==be&&this.delay===be&&!1===this.pending)return le;clearInterval(le)}execute(ve,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ve,le);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,le){let _e,be=!1;try{this.work(ve)}catch(Y){be=!0,_e=!!Y&&Y||new Error(Y)}if(be)return this.unsubscribe(),_e}_unsubscribe(){const ve=this.id,le=this.scheduler,be=le.actions,_e=be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==_e&&be.splice(_e,1),null!=ve&&(this.id=this.recycleAsyncId(le,ve,null)),this.delay=null}}},6102:(Qe,we,F)=>{"use strict";F.d(we,{v:()=>te});let l=(()=>{class U{constructor(ve,le=U.now){this.SchedulerAction=ve,this.now=le}schedule(ve,le=0,be){return new this.SchedulerAction(this,ve).schedule(be,le)}}return U.now=()=>Date.now(),U})();class te extends l{constructor(pe,ve=l.now){super(pe,()=>te.delegate&&te.delegate!==this?te.delegate.now():ve()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(pe,ve=0,le){return te.delegate&&te.delegate!==this?te.delegate.schedule(pe,ve,le):super.schedule(pe,ve,le)}flush(pe){const{actions:ve}=this;if(this.active)return void ve.push(pe);let le;this.active=!0;do{if(le=pe.execute(pe.state,pe.delay))break}while(pe=ve.shift());if(this.active=!1,le){for(;pe=ve.shift();)pe.unsubscribe();throw le}}}},3637:(Qe,we,F)=>{"use strict";F.d(we,{z:()=>U,P:()=>pe});var l=F(6465);const U=new(F(6102).v)(l.o),pe=U},7771:(Qe,we,F)=>{"use strict";F.d(we,{c:()=>le,N:()=>ve});var l=F(6465),U=F(6102);const ve=new class extends U.v{}(class extends l.o{constructor(_e,Y){super(_e,Y),this.scheduler=_e,this.work=Y}schedule(_e,Y=0){return Y>0?super.schedule(_e,Y):(this.delay=Y,this.state=_e,this.scheduler.flush(this),this)}execute(_e,Y){return Y>0||this.closed?super.execute(_e,Y):this._execute(_e,Y)}requestAsyncId(_e,Y,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(_e,Y,k):_e.flush(this)}}),le=ve},377:(Qe,we,F)=>{"use strict";F.d(we,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Qe,we,F)=>{"use strict";F.d(we,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Qe,we,F)=>{"use strict";F.d(we,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Qe,we,F)=>{"use strict";F.d(we,{N:()=>te});const te=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Qe,we,F)=>{"use strict";function l(te){setTimeout(()=>{throw te},0)}F.d(we,{z:()=>l})},4487:(Qe,we,F)=>{"use strict";function l(te){return te}F.d(we,{y:()=>l})},9796:(Qe,we,F)=>{"use strict";F.d(we,{k:()=>l});const l=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Qe,we,F)=>{"use strict";F.d(we,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Qe,we,F)=>{"use strict";function l(te){return"function"==typeof te}F.d(we,{m:()=>l})},6561:(Qe,we,F)=>{"use strict";F.d(we,{k:()=>te});var l=F(9796);function te(U){return!(0,l.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Qe,we,F)=>{"use strict";function l(te){return null!==te&&"object"==typeof te}F.d(we,{K:()=>l})},4072:(Qe,we,F)=>{"use strict";function l(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}F.d(we,{t:()=>l})},4869:(Qe,we,F)=>{"use strict";function l(te){return te&&"function"==typeof te.schedule}F.d(we,{K:()=>l})},7444:(Qe,we,F)=>{"use strict";F.d(we,{s:()=>L});var l=F(5015),te=F(4449),pe=F(377),le=F(6554),_e=F(9489),Y=F(4072),k=F(1555);const L=Q=>{if(Q&&"function"==typeof Q[le.L])return(Q=>K=>{const J=Q[le.L]();if("function"!=typeof J.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return J.subscribe(K)})(Q);if((0,_e.z)(Q))return(0,l.V)(Q);if((0,Y.t)(Q))return(Q=>K=>(Q.then(J=>{K.closed||(K.next(J),K.complete())},J=>K.error(J)).then(null,te.z),K))(Q);if(Q&&"function"==typeof Q[pe.hZ])return(Q=>K=>{const J=Q[pe.hZ]();for(;;){let ge;try{ge=J.next()}catch(ie){return K.error(ie),K}if(ge.done){K.complete();break}if(K.next(ge.value),K.closed)break}return"function"==typeof J.return&&K.add(()=>{J.return&&J.return()}),K})(Q);{const J=`You provided ${(0,k.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(J)}}},5015:(Qe,we,F)=>{"use strict";F.d(we,{V:()=>l});const l=te=>U=>{for(let pe=0,ve=te.length;pe<ve&&!U.closed;pe++)U.next(te[pe]);U.complete()}},8259:function(Qe){Qe.exports=function(){"use strict";const we=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),F="SweetAlert2:",te=C=>C.charAt(0).toUpperCase()+C.slice(1),U=C=>Array.prototype.slice.call(C),pe=C=>{console.warn("".concat(F," ").concat("object"==typeof C?C.join(" "):C))},ve=C=>{console.error("".concat(F," ").concat(C))},le=[],_e=(C,T)=>{(C=>{le.includes(C)||(le.push(C),pe(C))})('"'.concat(C,'" is deprecated and will be removed in the next major release. Please use "').concat(T,'" instead.'))},Y=C=>"function"==typeof C?C():C,k=C=>C&&"function"==typeof C.toPromise,L=C=>k(C)?C.toPromise():Promise.resolve(C),Q=C=>C&&Promise.resolve(C)===C,J=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C),ne=C=>{const T={};for(const R in C)T[C[R]]="swal2-"+C[R];return T},$=ne(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Ce=ne(["success","warning","info","question","error"]),Pe=()=>document.body.querySelector(".".concat($.container)),Be=C=>{const T=Pe();return T?T.querySelector(C):null},ze=C=>Be(".".concat(C)),Re=()=>ze($.popup),bt=()=>ze($.icon),Ot=()=>ze($.title),Te=()=>ze($["html-container"]),se=()=>ze($.image),de=()=>ze($["progress-steps"]),he=()=>ze($["validation-message"]),ae=()=>Be(".".concat($.actions," .").concat($.confirm)),ue=()=>Be(".".concat($.actions," .").concat($.deny)),Oe=()=>Be(".".concat($.loader)),$e=()=>Be(".".concat($.actions," .").concat($.cancel)),Ct=()=>ze($.actions),ut=()=>ze($.footer),yt=()=>ze($["timer-progress-bar"]),sn=()=>ze($.close),Vr=()=>{const C=U(Re().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,Z)=>(R=parseInt(R.getAttribute("tabindex")))>(Z=parseInt(Z.getAttribute("tabindex")))?1:R<Z?-1:0),T=U(Re().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(C=>{const T=[];for(let R=0;R<C.length;R++)-1===T.indexOf(C[R])&&T.push(C[R]);return T})(C.concat(T)).filter(R=>Mt(R))},Ur=()=>!en()&&!document.body.classList.contains($["no-backdrop"]),en=()=>document.body.classList.contains($["toast-shown"]),Nt={previousBodyPadding:null},An=(C,T)=>{if(C.textContent="",T){const Z=(new DOMParser).parseFromString(T,"text/html");U(Z.querySelector("head").childNodes).forEach(xe=>{C.appendChild(xe)}),U(Z.querySelector("body").childNodes).forEach(xe=>{C.appendChild(xe)})}},ni=(C,T)=>{if(!T)return!1;const R=T.split(/\s+/);for(let Z=0;Z<R.length;Z++)if(!C.classList.contains(R[Z]))return!1;return!0},Pn=(C,T,R)=>{if(((C,T)=>{U(C.classList).forEach(R=>{!Object.values($).includes(R)&&!Object.values(Ce).includes(R)&&!Object.values(T.showClass).includes(R)&&C.classList.remove(R)})})(C,T),T.customClass&&T.customClass[R]){if("string"!=typeof T.customClass[R]&&!T.customClass[R].forEach)return pe("Invalid type of customClass.".concat(R,'! Expected string or iterable object, got "').concat(typeof T.customClass[R],'"'));At(C,T.customClass[R])}},ri=(C,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return Qn(C,$[T]);case"checkbox":return C.querySelector(".".concat($.checkbox," input"));case"radio":return C.querySelector(".".concat($.radio," input:checked"))||C.querySelector(".".concat($.radio," input:first-child"));case"range":return C.querySelector(".".concat($.range," input"));default:return Qn(C,$.input)}},Tr=C=>{if(C.focus(),"file"!==C.type){const T=C.value;C.value="",C.value=T}},Js=(C,T,R)=>{!C||!T||("string"==typeof T&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(Z=>{C.forEach?C.forEach(xe=>{R?xe.classList.add(Z):xe.classList.remove(Z)}):R?C.classList.add(Z):C.classList.remove(Z)}))},At=(C,T)=>{Js(C,T,!0)},dr=(C,T)=>{Js(C,T,!1)},Qn=(C,T)=>{for(let R=0;R<C.childNodes.length;R++)if(ni(C.childNodes[R],T))return C.childNodes[R]},_n=(C,T,R)=>{R==="".concat(parseInt(R))&&(R=parseInt(R)),R||0===parseInt(R)?C.style[T]="number"==typeof R?"".concat(R,"px"):R:C.style.removeProperty(T)},Kt=(C,T="flex")=>{C.style.display=T},Vn=C=>{C.style.display="none"},mt=(C,T,R,Z)=>{const xe=C.querySelector(T);xe&&(xe.style[R]=Z)},Se=(C,T,R)=>{T?Kt(C,R):Vn(C)},Mt=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),cn=C=>C.scrollHeight>C.clientHeight,jt=C=>{const T=window.getComputedStyle(C),R=parseFloat(T.getPropertyValue("animation-duration")||"0"),Z=parseFloat(T.getPropertyValue("transition-duration")||"0");return R>0||Z>0},We=(C,T=!1)=>{const R=yt();Mt(R)&&(T&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition="width ".concat(C/1e3,"s linear"),R.style.width="0%"},10))},wn=()=>"undefined"==typeof window||"undefined"==typeof document,Xs='\n <div aria-labelledby="'.concat($.title,'" aria-describedby="').concat($["html-container"],'" class="').concat($.popup,'" tabindex="-1">\n   <button type="button" class="').concat($.close,'"></button>\n   <ul class="').concat($["progress-steps"],'"></ul>\n   <div class="').concat($.icon,'"></div>\n   <img class="').concat($.image,'" />\n   <h2 class="').concat($.title,'" id="').concat($.title,'"></h2>\n   <div class="').concat($["html-container"],'" id="').concat($["html-container"],'"></div>\n   <input class="').concat($.input,'" />\n   <input type="file" class="').concat($.file,'" />\n   <div class="').concat($.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat($.select,'"></select>\n   <div class="').concat($.radio,'"></div>\n   <label for="').concat($.checkbox,'" class="').concat($.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat($.label,'"></span>\n   </label>\n   <textarea class="').concat($.textarea,'"></textarea>\n   <div class="').concat($["validation-message"],'" id="').concat($["validation-message"],'"></div>\n   <div class="').concat($.actions,'">\n     <div class="').concat($.loader,'"></div>\n     <button type="button" class="').concat($.confirm,'"></button>\n     <button type="button" class="').concat($.deny,'"></button>\n     <button type="button" class="').concat($.cancel,'"></button>\n   </div>\n   <div class="').concat($.footer,'"></div>\n   <div class="').concat($["timer-progress-bar-container"],'">\n     <div class="').concat($["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Jt=()=>{fs.isVisible()&&fs.resetValidationMessage()},H=C=>{const T=(()=>{const C=Pe();return!!C&&(C.remove(),dr([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0)})();if(wn())return void ve("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=$.container,T&&At(R,$["no-transition"]),An(R,Xs);const Z=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);Z.appendChild(R),(C=>{const T=Re();T.setAttribute("role",C.toast?"alert":"dialog"),T.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||T.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&At(Pe(),$.rtl)})(Z),(()=>{const C=Re(),T=Qn(C,$.input),R=Qn(C,$.file),Z=C.querySelector(".".concat($.range," input")),xe=C.querySelector(".".concat($.range," output")),ot=Qn(C,$.select),zt=C.querySelector(".".concat($.checkbox," input")),li=Qn(C,$.textarea);T.oninput=Jt,R.onchange=Jt,ot.onchange=Jt,zt.onchange=Jt,li.oninput=Jt,Z.oninput=()=>{Jt(),xe.value=Z.value},Z.onchange=()=>{Jt(),Z.nextSibling.value=Z.value}})()},Ie=(C,T)=>{C instanceof HTMLElement?T.appendChild(C):"object"==typeof C?oe(C,T):C&&An(T,C)},oe=(C,T)=>{C.jquery?Ge(T,C):An(T,C.toString())},Ge=(C,T)=>{if(C.textContent="",0 in T)for(let R=0;R in T;R++)C.appendChild(T[R].cloneNode(!0));else C.appendChild(T.cloneNode(!0))},Ue=(()=>{if(wn())return!1;const C=document.createElement("div"),T={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const R in T)if(Object.prototype.hasOwnProperty.call(T,R)&&void 0!==C.style[R])return T[R];return!1})(),bn=(C,T)=>{const R=Ct(),Z=Oe(),xe=ae(),ot=ue(),zt=$e();T.showConfirmButton||T.showDenyButton||T.showCancelButton?Kt(R):Vn(R),Pn(R,T,"actions"),Ir(xe,"confirm",T),Ir(ot,"deny",T),Ir(zt,"cancel",T),function(C,T,R,Z){if(!Z.buttonsStyling)return dr([C,T,R],$.styled);At([C,T,R],$.styled),Z.confirmButtonColor&&(C.style.backgroundColor=Z.confirmButtonColor,At(C,$["default-outline"])),Z.denyButtonColor&&(T.style.backgroundColor=Z.denyButtonColor,At(T,$["default-outline"])),Z.cancelButtonColor&&(R.style.backgroundColor=Z.cancelButtonColor,At(R,$["default-outline"]))}(xe,ot,zt,T),T.reverseButtons&&(R.insertBefore(zt,Z),R.insertBefore(ot,Z),R.insertBefore(xe,Z)),An(Z,T.loaderHtml),Pn(Z,T,"loader")};function Ir(C,T,R){Se(C,R["show".concat(te(T),"Button")],"inline-block"),An(C,R["".concat(T,"ButtonText")]),C.setAttribute("aria-label",R["".concat(T,"ButtonAriaLabel")]),C.className=$[T],Pn(C,R,"".concat(T,"Button")),At(C,R["".concat(T,"ButtonClass")])}const dl=(C,T)=>{const R=Pe();!R||(function(C,T){"string"==typeof T?C.style.background=T:T||At([document.documentElement,document.body],$["no-backdrop"])}(R,T.backdrop),function(C,T){T in $?At(C,$[T]):(pe('The "position" parameter is not valid, defaulting to "center"'),At(C,$.center))}(R,T.position),function(C,T){if(T&&"string"==typeof T){const R="grow-".concat(T);R in $&&At(C,$[R])}}(R,T.grow),Pn(R,T,"container"))};var Tt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Tu=["input","file","range","select","radio","checkbox","textarea"],hl=C=>{if(!Ht[C.input])return ve('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(C.input,'"'));const T=Du(C.input),R=Ht[C.input](T,C);Kt(R),setTimeout(()=>{Tr(R)})},wa=(C,T)=>{const R=ri(Re(),C);if(R){(C=>{for(let T=0;T<C.attributes.length;T++){const R=C.attributes[T].name;["type","value","style"].includes(R)||C.removeAttribute(R)}})(R);for(const Z in T)R.setAttribute(Z,T[Z])}},Oo=C=>{const T=Du(C.input);C.customClass&&At(T,C.customClass.input)},ii=(C,T)=>{(!C.placeholder||T.inputPlaceholder)&&(C.placeholder=T.inputPlaceholder)},ko=(C,T,R)=>{if(R.inputLabel){C.id=$.input;const Z=document.createElement("label"),xe=$["input-label"];Z.setAttribute("for",C.id),Z.className=xe,At(Z,R.customClass.inputLabel),Z.innerText=R.inputLabel,T.insertAdjacentElement("beforebegin",Z)}},Du=C=>{const T=$[C]?$[C]:$.input;return Qn(Re(),T)},Ht={};Ht.text=Ht.email=Ht.password=Ht.number=Ht.tel=Ht.url=(C,T)=>("string"==typeof T.inputValue||"number"==typeof T.inputValue?C.value=T.inputValue:Q(T.inputValue)||pe('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof T.inputValue,'"')),ko(C,C,T),ii(C,T),C.type=T.input,C),Ht.file=(C,T)=>(ko(C,C,T),ii(C,T),C),Ht.range=(C,T)=>{const R=C.querySelector("input"),Z=C.querySelector("output");return R.value=T.inputValue,R.type=T.input,Z.value=T.inputValue,ko(R,C,T),C},Ht.select=(C,T)=>{if(C.textContent="",T.inputPlaceholder){const R=document.createElement("option");An(R,T.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,C.appendChild(R)}return ko(C,C,T),C},Ht.radio=C=>(C.textContent="",C),Ht.checkbox=(C,T)=>{const R=ri(Re(),"checkbox");R.value=1,R.id=$.checkbox,R.checked=Boolean(T.inputValue);const Z=C.querySelector("span");return An(Z,T.inputPlaceholder),C},Ht.textarea=(C,T)=>{C.value=T.inputValue,ii(C,T),ko(C,C,T);return setTimeout(()=>{if("MutationObserver"in window){const Z=parseInt(window.getComputedStyle(Re()).width);new MutationObserver(()=>{const ot=C.offsetWidth+(Z=>parseInt(window.getComputedStyle(Z).marginLeft)+parseInt(window.getComputedStyle(Z).marginRight))(C);Re().style.width=ot>Z?"".concat(ot,"px"):null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const zi=(C,T)=>{const R=Te();Pn(R,T,"htmlContainer"),T.html?(Ie(T.html,R),Kt(R,"block")):T.text?(R.textContent=T.text,Kt(R,"block")):Vn(R),((C,T)=>{const R=Re(),Z=Tt.innerParams.get(C),xe=!Z||T.input!==Z.input;Tu.forEach(ot=>{const zt=$[ot],li=Qn(R,zt);wa(ot,T.inputAttributes),li.className=zt,xe&&Vn(li)}),T.input&&(xe&&hl(T),Oo(T))})(C,T)},$t=(C,T)=>{for(const R in Ce)T.icon!==R&&dr(C,Ce[R]);At(C,Ce[T.icon]),un(C,T),je(),Pn(C,T,"icon")},je=()=>{const C=Re(),T=window.getComputedStyle(C).getPropertyValue("background-color"),R=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Z=0;Z<R.length;Z++)R[Z].style.backgroundColor=T},St=(C,T)=>{C.textContent="",An(C,T.iconHtml?jr(T.iconHtml):"success"===T.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===T.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':jr({question:"?",warning:"!",info:"i"}[T.icon]))},un=(C,T)=>{if(T.iconColor){C.style.color=T.iconColor,C.style.borderColor=T.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])mt(C,R,"backgroundColor",T.iconColor);mt(C,".swal2-success-ring","borderColor",T.iconColor)}},jr=C=>'<div class="'.concat($["icon-content"],'">').concat(C,"</div>"),En=(C,T)=>{const R=de();if(!T.progressSteps||0===T.progressSteps.length)return Vn(R);Kt(R),R.textContent="",T.currentProgressStep>=T.progressSteps.length&&pe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),T.progressSteps.forEach((Z,xe)=>{const ot=(C=>{const T=document.createElement("li");return At(T,$["progress-step"]),An(T,C),T})(Z);if(R.appendChild(ot),xe===T.currentProgressStep&&At(ot,$["active-progress-step"]),xe!==T.progressSteps.length-1){const zt=(C=>{const T=document.createElement("li");return At(T,$["progress-step-line"]),C.progressStepsDistance&&(T.style.width=C.progressStepsDistance),T})(T);R.appendChild(zt)}})},Et=(C,T)=>{C.className="".concat($.popup," ").concat(Mt(C)?T.showClass.popup:""),T.toast?(At([document.documentElement,document.body],$["toast-shown"]),At(C,$.toast)):At(C,$.modal),Pn(C,T,"popup"),"string"==typeof T.customClass&&At(C,T.customClass),T.icon&&At(C,$["icon-".concat(T.icon)])},bi=(C,T)=>{((C,T)=>{const R=Pe(),Z=Re();T.toast?(_n(R,"width",T.width),Z.style.width="100%",Z.insertBefore(Oe(),bt())):_n(Z,"width",T.width),_n(Z,"padding",T.padding),T.background&&(Z.style.background=T.background),Vn(he()),Et(Z,T)})(0,T),dl(0,T),En(0,T),((C,T)=>{const R=Tt.innerParams.get(C),Z=bt();R&&T.icon===R.icon?(St(Z,T),$t(Z,T)):T.icon||T.iconHtml?T.icon&&-1===Object.keys(Ce).indexOf(T.icon)?(ve('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(T.icon,'"')),Vn(Z)):(Kt(Z),St(Z,T),$t(Z,T),At(Z,T.showClass.icon)):Vn(Z)})(C,T),((C,T)=>{const R=se();if(!T.imageUrl)return Vn(R);Kt(R,""),R.setAttribute("src",T.imageUrl),R.setAttribute("alt",T.imageAlt),_n(R,"width",T.imageWidth),_n(R,"height",T.imageHeight),R.className=$.image,Pn(R,T,"image")})(0,T),((C,T)=>{const R=Ot();Se(R,T.title||T.titleText,"block"),T.title&&Ie(T.title,R),T.titleText&&(R.innerText=T.titleText),Pn(R,T,"title")})(0,T),((C,T)=>{const R=sn();An(R,T.closeButtonHtml),Pn(R,T,"closeButton"),Se(R,T.showCloseButton),R.setAttribute("aria-label",T.closeButtonAriaLabel)})(0,T),zi(C,T),bn(0,T),((C,T)=>{const R=ut();Se(R,T.footer),T.footer&&Ie(T.footer,R),Pn(R,T,"footer")})(0,T),"function"==typeof T.didRender&&T.didRender(Re())},fl=()=>ae()&&ae().click();const Xn=C=>{let T=Re();T||fs.fire(),T=Re();const R=Oe();en()?Vn(bt()):tn(T,C),Kt(R),T.setAttribute("data-loading",!0),T.setAttribute("aria-busy",!0),T.focus()},tn=(C,T)=>{const R=Ct(),Z=Oe();!T&&Mt(ae())&&(T=ae()),Kt(R),T&&(Vn(T),Z.setAttribute("data-button-to-replace",T.className)),Z.parentNode.insertBefore(Z,T),At([C,R],$.loading)},_t={},Au=C=>new Promise(T=>{if(!C)return T();const R=window.scrollX,Z=window.scrollY;_t.restoreFocusTimeout=setTimeout(()=>{_t.previousActiveElement&&_t.previousActiveElement.focus?(_t.previousActiveElement.focus(),_t.previousActiveElement=null):document.body&&document.body.focus(),T()},100),window.scrollTo(R,Z)}),Uo=()=>{if(_t.timeout)return(()=>{const C=yt(),T=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const R=parseInt(window.getComputedStyle(C).width),Z=parseInt(T/R*100);C.style.removeProperty("transition"),C.style.width="".concat(Z,"%")})(),_t.timeout.stop()},Wi=()=>{if(_t.timeout){const C=_t.timeout.start();return We(C),C}};let Gt=!1;const io={};const oi=C=>{for(let T=C.target;T&&T!==document;T=T.parentNode)for(const R in io){const Z=T.getAttribute(R);if(Z)return void io[R].fire({template:Z})}},pr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],vm={},Ru=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],fd=C=>Object.prototype.hasOwnProperty.call(pr,C),gd=C=>vm[C],wm=C=>{fd(C)||pe('Unknown parameter "'.concat(C,'"'))},md=C=>{Ru.includes(C)&&pe('The parameter "'.concat(C,'" is incompatible with toasts'))},Bo=C=>{gd(C)&&_e(C,gd(C))};var Em=Object.freeze({isValidParameter:fd,isUpdatableParameter:C=>-1!==xu.indexOf(C),isDeprecatedParameter:gd,argsToParams:C=>{const T={};return"object"!=typeof C[0]||J(C[0])?["title","html","icon"].forEach((R,Z)=>{const xe=C[Z];"string"==typeof xe||J(xe)?T[R]=xe:void 0!==xe&&ve("Unexpected type of ".concat(R,'! Expected "string" or "Element", got ').concat(typeof xe))}):Object.assign(T,C[0]),T},isVisible:()=>Mt(Re()),clickConfirm:fl,clickDeny:()=>ue()&&ue().click(),clickCancel:()=>$e()&&$e().click(),getContainer:Pe,getPopup:Re,getTitle:Ot,getHtmlContainer:Te,getImage:se,getIcon:bt,getInputLabel:()=>ze($["input-label"]),getCloseButton:sn,getActions:Ct,getConfirmButton:ae,getDenyButton:ue,getCancelButton:$e,getLoader:Oe,getFooter:ut,getTimerProgressBar:yt,getFocusableElements:Vr,getValidationMessage:he,isLoading:()=>Re().hasAttribute("data-loading"),fire:function(...C){return new this(...C)},mixin:function(C){return class extends(this){_main(Z,xe){return super._main(Z,Object.assign({},C,xe))}}},showLoading:Xn,enableLoading:Xn,getTimerLeft:()=>_t.timeout&&_t.timeout.getTimerLeft(),stopTimer:Uo,resumeTimer:Wi,toggleTimer:()=>{const C=_t.timeout;return C&&(C.running?Uo():Wi())},increaseTimer:C=>{if(_t.timeout){const T=_t.timeout.increase(C);return We(T,!0),T}},isTimerRunning:()=>_t.timeout&&_t.timeout.isRunning(),bindClickHandler:function(C="data-swal-template"){io[C]=this,Gt||(document.body.addEventListener("click",oi),Gt=!0)}});function jo(){const C=Tt.innerParams.get(this);if(!C)return;const T=Tt.domCache.get(this);Vn(T.loader),en()?C.icon&&Kt(bt()):Cm(T),dr([T.popup,T.actions],$.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}const Cm=C=>{const T=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));T.length?Kt(T[0],"inline-block"):!Mt(ae())&&!Mt(ue())&&!Mt($e())&&Vn(C.actions)};const so=()=>{null===Nt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Nt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Nt.previousBodyPadding+(()=>{const C=document.createElement("div");C.className=$["scrollbar-measure"],document.body.appendChild(C);const T=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),T})(),"px"))},Mu=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const T=44;Re().scrollHeight>window.innerHeight-T&&(Pe().style.paddingBottom="".concat(T,"px"))}},Nu=()=>{const C=Pe();let T;C.ontouchstart=R=>{T=Pu(R)},C.ontouchmove=R=>{T&&(R.preventDefault(),R.stopPropagation())}},Pu=C=>{const T=C.target,R=Pe();return!(gl(C)||Zo(C)||T!==R&&(cn(R)||"INPUT"===T.tagName||"TEXTAREA"===T.tagName||cn(Te())&&Te().contains(T)))},gl=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,Zo=C=>C.touches&&C.touches.length>1,ml=()=>{U(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})};var as={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function qo(C,T,R,Z){en()?Ta(C,Z):(Au(R).then(()=>Ta(C,Z)),_t.keydownTarget.removeEventListener("keydown",_t.keydownHandler,{capture:_t.keydownListenerCapture}),_t.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),Ur()&&(null!==Nt.previousBodyPadding&&(document.body.style.paddingRight="".concat(Nt.previousBodyPadding,"px"),Nt.previousBodyPadding=null),(()=>{if(ni(document.body,$.iosfix)){const C=parseInt(document.body.style.top,10);dr(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),ml()),dr([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function yl(C){C=_d(C);const T=as.swalPromiseResolve.get(this),R=Ca(this);this.isAwaitingPromise()?C.isDismissed||(Ho(this),T(C)):R&&T(C)}const Ca=C=>{const T=Re();if(!T)return!1;const R=Tt.innerParams.get(C);if(!R||ni(T,R.hideClass.popup))return!1;dr(T,R.showClass.popup),At(T,R.hideClass.popup);const Z=Pe();return dr(Z,R.showClass.backdrop),At(Z,R.hideClass.backdrop),Oi(C,T,R),!0};const Ho=C=>{C.isAwaitingPromise()&&(Tt.awaitingPromise.delete(C),Tt.innerParams.get(C)||C._destroy())},_d=C=>void 0===C?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),Oi=(C,T,R)=>{const Z=Pe(),xe=Ue&&jt(T);"function"==typeof R.willClose&&R.willClose(T),xe?vl(C,T,Z,R.returnFocus,R.didClose):qo(C,Z,R.returnFocus,R.didClose)},vl=(C,T,R,Z,xe)=>{_t.swalCloseEventFinishedCallback=qo.bind(null,C,R,Z,xe),T.addEventListener(Ue,function(ot){ot.target===T&&(_t.swalCloseEventFinishedCallback(),delete _t.swalCloseEventFinishedCallback)})},Ta=(C,T)=>{setTimeout(()=>{"function"==typeof T&&T.bind(C.params)(),C._destroy()})};function Rs(C,T,R){const Z=Tt.domCache.get(C);T.forEach(xe=>{Z[xe].disabled=R})}function ls(C,T){if(!C)return!1;if("radio"===C.type){const Z=C.parentNode.parentNode.querySelectorAll("input");for(let xe=0;xe<Z.length;xe++)Z[xe].disabled=T}else C.disabled=T}class wd{constructor(T,R){this.callback=T,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(T){const R=this.running;return R&&this.stop(),this.remaining+=T,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Ou={email:(C,T)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(C,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function Im(C){(function(C){C.inputValidator||Object.keys(Ou).forEach(T=>{C.input===T&&(C.inputValidator=Ou[T])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&pe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(pe('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),H(C)}const us=["swal-title","swal-html","swal-footer"],Sr=C=>{const T={};return U(C.querySelectorAll("swal-param")).forEach(R=>{lt(R,["name","value"]);const Z=R.getAttribute("name");let xe=R.getAttribute("value");"boolean"==typeof pr[Z]&&"false"===xe&&(xe=!1),"object"==typeof pr[Z]&&(xe=JSON.parse(xe)),T[Z]=xe}),T},Sa=C=>{const T={};return U(C.querySelectorAll("swal-button")).forEach(R=>{lt(R,["type","color","aria-label"]);const Z=R.getAttribute("type");T["".concat(Z,"ButtonText")]=R.innerHTML,T["show".concat(te(Z),"Button")]=!0,R.hasAttribute("color")&&(T["".concat(Z,"ButtonColor")]=R.getAttribute("color")),R.hasAttribute("aria-label")&&(T["".concat(Z,"ButtonAriaLabel")]=R.getAttribute("aria-label"))}),T},xa=C=>{const T={},R=C.querySelector("swal-image");return R&&(lt(R,["src","width","height","alt"]),R.hasAttribute("src")&&(T.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(T.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(T.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(T.imageAlt=R.getAttribute("alt"))),T},Ra=C=>{const T={},R=C.querySelector("swal-icon");return R&&(lt(R,["type","color"]),R.hasAttribute("type")&&(T.icon=R.getAttribute("type")),R.hasAttribute("color")&&(T.iconColor=R.getAttribute("color")),T.iconHtml=R.innerHTML),T},Ms=C=>{const T={},R=C.querySelector("swal-input");R&&(lt(R,["type","label","placeholder","value"]),T.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(T.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(T.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(T.inputValue=R.getAttribute("value")));const Z=C.querySelectorAll("swal-input-option");return Z.length&&(T.inputOptions={},U(Z).forEach(xe=>{lt(xe,["value"]);const ot=xe.getAttribute("value");T.inputOptions[ot]=xe.innerHTML})),T},Cl=(C,T)=>{const R={};for(const Z in T){const xe=T[Z],ot=C.querySelector(xe);ot&&(lt(ot,[]),R[xe.replace(/^swal-/,"")]=ot.innerHTML.trim())}return R},ku=C=>{const T=us.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);U(C.children).forEach(R=>{const Z=R.tagName.toLowerCase();-1===T.indexOf(Z)&&pe("Unrecognized element <".concat(Z,">"))})},lt=(C,T)=>{U(C.attributes).forEach(R=>{-1===T.indexOf(R.name)&&pe(['Unrecognized attribute "'.concat(R.name,'" on <').concat(C.tagName.toLowerCase(),">."),"".concat(T.length?"Allowed attributes are: ".concat(T.join(", ")):"To set the value, use HTML within the element.")])})},ao=C=>{const T=Pe(),R=Re();"function"==typeof C.willOpen&&C.willOpen(R);const xe=window.getComputedStyle(document.body).overflowY;lo(T,R,C),setTimeout(()=>{Ma(T,R)},10),Ur()&&(Fu(T,C.scrollbarPadding,xe),U(document.body.children).forEach(T=>{T===Pe()||T.contains(Pe())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")),T.setAttribute("aria-hidden","true"))})),!en()&&!_t.previousActiveElement&&(_t.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(R)),dr(T,$["no-transition"])},$o=C=>{const T=Re();if(C.target!==T)return;const R=Pe();T.removeEventListener(Ue,$o),R.style.overflowY="auto"},Ma=(C,T)=>{Ue&&jt(T)?(C.style.overflowY="hidden",T.addEventListener(Ue,$o)):C.style.overflowY="auto"},Fu=(C,T,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ni(document.body,$.iosfix)){const T=document.body.scrollTop;document.body.style.top="".concat(-1*T,"px"),At(document.body,$.iosfix),Nu(),Mu()}})(),T&&"hidden"!==R&&so(),setTimeout(()=>{C.scrollTop=0})},lo=(C,T,R)=>{At(C,R.showClass.backdrop),T.style.setProperty("opacity","0","important"),Kt(T,"grid"),setTimeout(()=>{At(T,R.showClass.popup),T.style.removeProperty("opacity")},10),At([document.documentElement,document.body],$.shown),R.heightAuto&&R.backdrop&&!R.toast&&At([document.documentElement,document.body],$["height-auto"])},Ft=C=>C.checked?1:0,Lu=C=>C.checked?C.value:null,Sn=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,Ed=(C,T)=>{const R=Re(),Z=xe=>Ei[T.input](R,Pa(xe),T);k(T.inputOptions)||Q(T.inputOptions)?(Xn(ae()),L(T.inputOptions).then(xe=>{C.hideLoading(),Z(xe)})):"object"==typeof T.inputOptions?Z(T.inputOptions):ve("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof T.inputOptions))},Na=(C,T)=>{const R=C.getInput();Vn(R),L(T.inputValue).then(Z=>{R.value="number"===T.input?parseFloat(Z)||0:"".concat(Z),Kt(R),R.focus(),C.hideLoading()}).catch(Z=>{ve("Error in inputValue promise: ".concat(Z)),R.value="",Kt(R),R.focus(),C.hideLoading()})},Ei={select:(C,T,R)=>{const Z=Qn(C,$.select),xe=(ot,zt,li)=>{const xn=document.createElement("option");xn.value=li,An(xn,zt),xn.selected=cs(li,R.inputValue),ot.appendChild(xn)};T.forEach(ot=>{const zt=ot[0],li=ot[1];if(Array.isArray(li)){const xn=document.createElement("optgroup");xn.label=zt,xn.disabled=!1,Z.appendChild(xn),li.forEach(ps=>xe(xn,ps[1],ps[0]))}else xe(Z,li,zt)}),Z.focus()},radio:(C,T,R)=>{const Z=Qn(C,$.radio);T.forEach(ot=>{const zt=ot[0],li=ot[1],xn=document.createElement("input"),ps=document.createElement("label");xn.type="radio",xn.name=$.radio,xn.value=zt,cs(zt,R.inputValue)&&(xn.checked=!0);const Sd=document.createElement("span");An(Sd,li),Sd.className=$.label,ps.appendChild(xn),ps.appendChild(Sd),Z.appendChild(ps)});const xe=Z.querySelectorAll("input");xe.length&&xe[0].focus()}},Pa=C=>{const T=[];return"undefined"!=typeof Map&&C instanceof Map?C.forEach((R,Z)=>{let xe=R;"object"==typeof xe&&(xe=Pa(xe)),T.push([Z,xe])}):Object.keys(C).forEach(R=>{let Z=C[R];"object"==typeof Z&&(Z=Pa(Z)),T.push([R,Z])}),T},cs=(C,T)=>T&&T.toString()===C.toString(),ds=(C,T)=>{const R=Tt.innerParams.get(C),Z=((C,T)=>{const R=C.getInput();if(!R)return null;switch(T.input){case"checkbox":return Ft(R);case"radio":return Lu(R);case"file":return Sn(R);default:return T.inputAutoTrim?R.value.trim():R.value}})(C,R);R.inputValidator?Zr(C,Z,T):C.getInput().checkValidity()?"deny"===T?qr(C,Z):ki(C,Z):(C.enableButtons(),C.showValidationMessage(R.validationMessage))},Zr=(C,T,R)=>{const Z=Tt.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>L(Z.inputValidator(T,Z.validationMessage))).then(ot=>{C.enableButtons(),C.enableInput(),ot?C.showValidationMessage(ot):"deny"===R?qr(C,T):ki(C,T)})},qr=(C,T)=>{const R=Tt.innerParams.get(C||void 0);R.showLoaderOnDeny&&Xn(ue()),R.preDeny?(Tt.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>L(R.preDeny(T,R.validationMessage))).then(xe=>{!1===xe?C.hideLoading():C.closePopup({isDenied:!0,value:void 0===xe?T:xe})}).catch(xe=>hs(C||void 0,xe))):C.closePopup({isDenied:!0,value:T})},Tl=(C,T)=>{C.closePopup({isConfirmed:!0,value:T})},hs=(C,T)=>{C.rejectPromise(T)},ki=(C,T)=>{const R=Tt.innerParams.get(C||void 0);R.showLoaderOnConfirm&&Xn(),R.preConfirm?(C.resetValidationMessage(),Tt.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>L(R.preConfirm(T,R.validationMessage))).then(xe=>{Mt(he())||!1===xe?C.hideLoading():Tl(C,void 0===xe?T:xe)}).catch(xe=>hs(C||void 0,xe))):Tl(C,T)},Il=(C,T,R)=>{const Z=Vr();if(Z.length)return(T+=R)===Z.length?T=0:-1===T&&(T=Z.length-1),Z[T].focus();Re().focus()},Dl=["ArrowRight","ArrowDown"],Uu=["ArrowLeft","ArrowUp"],Oa=(C,T,R)=>{const Z=Tt.innerParams.get(C);!Z||(Z.stopKeydownPropagation&&T.stopPropagation(),"Enter"===T.key?Bu(C,T,Z):"Tab"===T.key?uo(T,Z):[...Dl,...Uu].includes(T.key)?ju(T.key):"Escape"===T.key&&Rf(T,Z,R))},Bu=(C,T,R)=>{if(!T.isComposing&&T.target&&C.getInput()&&T.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;fl(),T.preventDefault()}},uo=(C,T)=>{const R=C.target,Z=Vr();let xe=-1;for(let ot=0;ot<Z.length;ot++)if(R===Z[ot]){xe=ot;break}Il(0,xe,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},ju=C=>{if(![ae(),ue(),$e()].includes(document.activeElement))return;const xe=Dl.includes(C)?"nextElementSibling":"previousElementSibling",ot=document.activeElement[xe];ot&&ot.focus()},Rf=(C,T,R)=>{Y(T.allowEscapeKey)&&(C.preventDefault(),R(we.esc))},ka=(C,T,R)=>{T.popup.onclick=()=>{const Z=Tt.innerParams.get(C);Z.showConfirmButton||Z.showDenyButton||Z.showCancelButton||Z.showCloseButton||Z.timer||Z.input||R(we.close)}};let Fa=!1;const Td=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(T){C.container.onmouseup=void 0,T.target===C.container&&(Fa=!0)}}},Id=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(T){C.popup.onmouseup=void 0,(T.target===C.popup||C.popup.contains(T.target))&&(Fa=!0)}}},Dm=(C,T,R)=>{T.container.onclick=Z=>{const xe=Tt.innerParams.get(C);Fa?Fa=!1:Z.target===T.container&&Y(xe.allowOutsideClick)&&R(we.backdrop)}};const Sv=(C,T)=>{const R=(C=>{const T="string"==typeof C.template?document.querySelector(C.template):C.template;if(!T)return{};const R=T.content;return ku(R),Object.assign(Sr(R),Sa(R),xa(R),Ra(R),Ms(R),Cl(R,us))})(C),Z=Object.assign({},pr,T,R,C);return Z.showClass=Object.assign({},pr.showClass,Z.showClass),Z.hideClass=Object.assign({},pr.hideClass,Z.hideClass),Z},xv=(C,T,R)=>new Promise((Z,xe)=>{const ot=zt=>{C.closePopup({isDismissed:!0,dismiss:zt})};as.swalPromiseResolve.set(C,Z),as.swalPromiseReject.set(C,xe),T.confirmButton.onclick=()=>(C=>{const T=Tt.innerParams.get(C);C.disableButtons(),T.input?ds(C,"confirm"):ki(C,!0)})(C),T.denyButton.onclick=()=>(C=>{const T=Tt.innerParams.get(C);C.disableButtons(),T.returnInputValueOnDeny?ds(C,"deny"):qr(C,!1)})(C),T.cancelButton.onclick=()=>((C,T)=>{C.disableButtons(),T(we.cancel)})(C,ot),T.closeButton.onclick=()=>ot(we.close),((C,T,R)=>{Tt.innerParams.get(C).toast?ka(C,T,R):(Td(T),Id(T),Dm(C,T,R))})(C,T,ot),((C,T,R,Z)=>{T.keydownTarget&&T.keydownHandlerAdded&&(T.keydownTarget.removeEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!1),R.toast||(T.keydownHandler=xe=>Oa(C,xe,Z),T.keydownTarget=R.keydownListenerCapture?window:Re(),T.keydownListenerCapture=R.keydownListenerCapture,T.keydownTarget.addEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!0)})(C,_t,R,ot),((C,T)=>{"select"===T.input||"radio"===T.input?Ed(C,T):["text","email","number","tel","textarea"].includes(T.input)&&(k(T.inputValue)||Q(T.inputValue))&&(Xn(ae()),Na(C,T))})(C,R),ao(R),co(_t,R,ot),fn(T,R),setTimeout(()=>{T.container.scrollTop=0})}),Hr=C=>{const T={popup:Re(),container:Pe(),actions:Ct(),confirmButton:ae(),denyButton:ue(),cancelButton:$e(),loader:Oe(),closeButton:sn(),validationMessage:he(),progressSteps:de()};return Tt.domCache.set(C,T),T},co=(C,T,R)=>{const Z=yt();Vn(Z),T.timer&&(C.timeout=new wd(()=>{R("timer"),delete C.timeout},T.timer),T.timerProgressBar&&(Kt(Z),setTimeout(()=>{C.timeout&&C.timeout.running&&We(T.timer)})))},fn=(C,T)=>{if(!T.toast){if(!Y(T.allowEnterKey))return Zu();Ci(C,T)||Il(0,-1,1)}},Ci=(C,T)=>T.focusDeny&&Mt(C.denyButton)?(C.denyButton.focus(),!0):T.focusCancel&&Mt(C.cancelButton)?(C.cancelButton.focus(),!0):!(!T.focusConfirm||!Mt(C.confirmButton)||(C.confirmButton.focus(),0)),Zu=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const Pf=C=>{Ad(C),delete C.params,delete _t.keydownHandler,delete _t.keydownTarget,delete _t.currentInstance},Ad=C=>{C.isAwaitingPromise()?(Ns(Tt,C),Tt.awaitingPromise.set(C,!0)):(Ns(as,C),Ns(Tt,C))},Ns=(C,T)=>{for(const R in C)C[R].delete(T)};var ho=Object.freeze({hideLoading:jo,disableLoading:jo,getInput:function(C){const T=Tt.innerParams.get(C||this),R=Tt.domCache.get(C||this);return R?ri(R.popup,T.input):null},close:yl,isAwaitingPromise:function(){return!!Tt.awaitingPromise.get(this)},rejectPromise:function(C){const T=as.swalPromiseReject.get(this);Ho(this),T&&T(C)},closePopup:yl,closeModal:yl,closeToast:yl,enableButtons:function(){Rs(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Rs(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ls(this.getInput(),!1)},disableInput:function(){return ls(this.getInput(),!0)},showValidationMessage:function(C){const T=Tt.domCache.get(this),R=Tt.innerParams.get(this);An(T.validationMessage,C),T.validationMessage.className=$["validation-message"],R.customClass&&R.customClass.validationMessage&&At(T.validationMessage,R.customClass.validationMessage),Kt(T.validationMessage);const Z=this.getInput();Z&&(Z.setAttribute("aria-invalid",!0),Z.setAttribute("aria-describedby",$["validation-message"]),Tr(Z),At(Z,$.inputerror))},resetValidationMessage:function(){const C=Tt.domCache.get(this);C.validationMessage&&Vn(C.validationMessage);const T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),dr(T,$.inputerror))},getProgressSteps:function(){return Tt.domCache.get(this).progressSteps},_main:function(C,T={}){(C=>{!C.backdrop&&C.allowOutsideClick&&pe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const T in C)wm(T),C.toast&&md(T),Bo(T)})(Object.assign({},T,C)),_t.currentInstance&&(_t.currentInstance._destroy(),Ur()&&ml()),_t.currentInstance=this;const R=Sv(C,T);Im(R),Object.freeze(R),_t.timeout&&(_t.timeout.stop(),delete _t.timeout),clearTimeout(_t.restoreFocusTimeout);const Z=Hr(this);return bi(this,R),Tt.innerParams.set(this,R),xv(this,Z,R)},update:function(C){const T=Re(),R=Tt.innerParams.get(this);if(!T||ni(T,R.hideClass.popup))return pe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Z={};Object.keys(C).forEach(ot=>{fs.isUpdatableParameter(ot)?Z[ot]=C[ot]:pe('Invalid parameter to update: "'.concat(ot,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const xe=Object.assign({},R,Z);bi(this,xe),Tt.innerParams.set(this,xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})},_destroy:function(){const C=Tt.domCache.get(this),T=Tt.innerParams.get(this);T?(C.popup&&_t.swalCloseEventFinishedCallback&&(_t.swalCloseEventFinishedCallback(),delete _t.swalCloseEventFinishedCallback),_t.deferDisposalTimer&&(clearTimeout(_t.deferDisposalTimer),delete _t.deferDisposalTimer),"function"==typeof T.didDestroy&&T.didDestroy(),Pf(this)):Ad(this)}});let La;class Yi{constructor(...T){if("undefined"==typeof window)return;La=this;const R=Object.freeze(this.constructor.argsToParams(T));Object.defineProperties(this,{params:{value:R,writable:!1,enumerable:!0,configurable:!0}});const Z=this._main(this.params);Tt.promise.set(this,Z)}then(T){return Tt.promise.get(this).then(T)}finally(T){return Tt.promise.get(this).finally(T)}}Object.assign(Yi.prototype,ho),Object.assign(Yi,Em),Object.keys(ho).forEach(C=>{Yi[C]=function(...T){if(La)return La[C](...T)}}),Yi.DismissReason=we,Yi.version="11.1.9";const fs=Yi;return fs.default=fs,fs}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(we,F){var l=we.createElement("style");if(we.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=F);else try{l.innerHTML=F}catch(te){l.innerText=F}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},3717:(Qe,we,F)=>{"use strict";var l=F(3018);let te=null;function U(){return te}const be=new l.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function Y(){return(0,l.LFG)(L)}const k=new l.OlP("Location Initialized");let L=(()=>{class n extends _e{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){Q()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){Q()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(be))},n.\u0275prov=(0,l.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function K(){return new L((0,l.LFG)(be))}function J(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ge(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:$,token:n,providedIn:"root"}),n})();function $(n){const e=(0,l.LFG)(be).location;return new Pe((0,l.LFG)(_e),e&&e.origin||"")}const Ce=new l.OlP("appBaseHref");let Pe=(()=>{class n extends ne{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return J(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ie(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,c){const f=this.prepareExternalUrl(a+ie(c));this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,c){const f=this.prepareExternalUrl(a+ie(c));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(Ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends ne{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=J(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,c){let f=this.prepareExternalUrl(a+ie(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,c){let f=this.prepareExternalUrl(a+ie(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(Ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ge(Ot(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ie(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ot(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(_e))},n.normalizeQueryParams=ie,n.joinWithSlash=J,n.stripTrailingSlash=ge,n.\u0275prov=(0,l.Yz7)({factory:Re,token:n,providedIn:"root"}),n})();function Re(){return new ze((0,l.LFG)(ne),(0,l.LFG)(_e))}function Ot(n){return n.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other",de))();const Tr=l.kL8;class Ar{}let no=(()=>{class n extends Ar{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Tr(r||this.locale)(t)){case de.Zero:return"zero";case de.One:return"one";case de.Two:return"two";case de.Few:return"few";case de.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bi=(()=>{class n{constructor(t,r,a,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fl{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,c,f)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new fl(null,this._ngForOf,-1,-1),null===f?void 0:f),w=new Jn(a,y);r.push(w)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const y=this._viewContainer.get(c);this._viewContainer.move(y,f);const w=new Jn(a,y);r.push(w)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=c,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Jn{constructor(e,t){this.record=e,this.view=t}}let Cn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Xn{constructor(){this.$implicit=null,this.ngIf=null}}function tn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let jo=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Cm}transform(t,r=Cm){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const a=this.differ.diff(t),c=r!==this.compareFn;return a&&(this.keyValues=[],a.forEachItem(f=>{this.keyValues.push(function(n,e){return{key:n,value:e}}(f.key,f.currentValue))})),(a||c)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.aQg,16))},n.\u0275pipe=l.Yjl({name:"keyvalue",type:n,pure:!1}),n})();function Cm(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const a=String(t),c=String(r);return a==c?0:a<c?-1:1}let gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Ar,useClass:no}]}),n})();function as(n){return"browser"===n}function qo(n){return"server"===n}let Ca=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new _l((0,l.LFG)(be),window)}),n})();class _l{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ho(this.window.history)||Ho(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ho(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Rs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Rs,te||(te=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ls=ls||document.querySelector("base"),ls?ls.getAttribute("href"):null);return null==t?null:function(n){wl=wl||document.createElement("a"),wl.setAttribute("href",n);const e=wl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let wl,ls=null;const vd=new l.OlP("TRANSITION_ID"),El=[{provide:l.ip1,useFactory:function(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=U(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[vd,be,l.zs3],multi:!0}];class hn{static init(){(0,l.VLi)(new hn)}addToWindow(e){l.dqk.getAngularTestability=(r,a=!0)=>{const c=e.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const a=l.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const y=function(w){f=f||w,c--,0==c&&r(f)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let wd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ao=new l.OlP("EventManagerPlugins");let $o=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ao),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ma{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=U().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Fu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),lo=(()=>{class n extends Fu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function bd(n){U().remove(n)}const Ae={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ft=/%COMP%/g;function cs(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?cs(n,a,t):(a=a.replace(Ft,n),t.push(a))}return t}function xf(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Go=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ds(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new hs(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case l.ifc.ShadowDom:return new ki(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=cs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($o),l.LFG(lo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ds{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ae[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const c=Ae[a];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Ae[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,a&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xf(r)):this.eventManager.addEventListener(e,t,xf(r))}}class hs extends ds{constructor(e,t,r,a){super(e),this.component=r;const c=cs(a+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Ft,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ft,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ki extends ds{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cs(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const y=document.createElement("style");y.textContent=c[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vu=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ka=["alt","control","meta","shift"],Td={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Id={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let co=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="";if(ka.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),f+=w+".")}),f+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=a,y.fullKey=f,y}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Id.hasOwnProperty(e)&&(e=Id[e]))}return Td[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ka.forEach(c=>{c!=a&&Hr[c](t)&&(r+=c+".")}),r+=a,r}static eventCallback(t,r,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const C=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Rs.makeCurrent(),hn.init()},multi:!0},{provide:be,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),T=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:ao,useClass:Vu,multi:!0,deps:[be,l.R0b,l.Lbi]},{provide:ao,useClass:co,multi:!0,deps:[be]},[],{provide:Go,useClass:Go,deps:[$o,lo,l.AFp]},{provide:l.FYo,useExisting:Go},{provide:Fu,useExisting:lo},{provide:lo,useClass:lo,deps:[be]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:$o,useClass:$o,deps:[ao,l.R0b]},{provide:class{},useClass:wd,deps:[]},[]];let R=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:vd,useExisting:l.AFp},El]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:T,imports:[gl,l.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(4402),ui=F(7574),Pd=F(9796),gt=F(8002),Lf=F(1555);function zo(n,e){return new ui.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let c=0,f=0;for(let y=0;y<r;y++){const w=(0,pn.D)(n[y]);let D=!1;t.add(w.subscribe({next:x=>{D||(D=!0,f++),a[y]=x},error:x=>t.error(x),complete:()=>{c++,(c===r||!D)&&(f===r&&t.next(e?e.reduce((x,M,V)=>(x[M]=a[V],x),{}):a),t.complete())}}))}})}let Wu=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Va=(()=>{class n extends Wu{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const gs=new l.OlP("NgValueAccessor"),xm={provide:gs,useExisting:(0,l.Gpc)(()=>Fi),multi:!0},Uf=new l.OlP("CompositionEventMode");let Fi=(()=>{class n extends Wu{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Uf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[l._Bn([xm]),l.qOj]}),n})();function Li(n){return null==n||0===n.length}function Bf(n){return null!=n&&"number"==typeof n.length}const xr=new l.OlP("NgValidators"),fo=new l.OlP("NgAsyncValidators"),po=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Je{static min(e){return function(n){return e=>{if(Li(e.value)||Li(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Li(e.value)||Li(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return Li(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return Li(n.value)||po.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>Li(e.value)||!Bf(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>Bf(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Yo;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Li(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return jf(e)}static composeAsync(e){return Pv(e)}}function Yo(n){return null}function Mv(n){return null!=n}function Rm(n){const e=(0,l.QGY)(n)?(0,pn.D)(n):n;return(0,l.CqO)(e),e}function Nv(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ld(n,e){return e.map(t=>t(n))}function Vd(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function jf(n){if(!n)return null;const e=n.filter(Mv);return 0==e.length?null:function(t){return Nv(Ld(t,e))}}function Ud(n){return null!=n?jf(Vd(n)):null}function Pv(n){if(!n)return null;const e=n.filter(Mv);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Pd.k)(e))return zo(e,null);if((0,Lf.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return zo(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return zo(n=1===n.length&&(0,Pd.k)(n[0])?n[0]:n,null).pipe((0,gt.U)(t=>e(...t)))}return zo(n,null)}(Ld(t,e).map(Rm)).pipe((0,gt.U)(Nv))}}function Bd(n){return null!=n?Pv(Vd(n)):null}function jd(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zf(n){return n._rawValidators}function Ov(n){return n._rawAsyncValidators}function Zd(n){return n?Array.isArray(n)?n:[n]:[]}function ja(n,e){return Array.isArray(n)?n.includes(e):n===e}function Za(n,e){const t=Zd(e);return Zd(n).forEach(a=>{ja(t,a)||t.push(a)}),t}function Ko(n,e){return Zd(e).filter(t=>!ja(n,t))}let kv=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ud(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})(),Zt=(()=>{class n extends kv{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();class ms extends kv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qa{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let er=(()=>{class n extends qa{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ms,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),or=(()=>{class n extends qa{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zt,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function Hf(n,e){return[...e.path,n]}function Xo(n,e){Ku(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Xu(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Xu(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yu(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$d(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ku(n,e){const t=Zf(n);null!==e.validator?n.setValidators(jd(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ov(n);null!==e.asyncValidator?n.setAsyncValidators(jd(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Hd(e._rawValidators,a),Hd(e._rawAsyncValidators,a)}function $d(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=Zf(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(f=>f!==e.validator);c.length!==a.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const a=Ov(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(f=>f!==e.asyncValidator);c.length!==a.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return Hd(e._rawValidators,r),Hd(e._rawAsyncValidators,r),t}function Xu(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ea(n,e){Ku(n,e)}function ec(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ml(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Nm(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(c=>{c.constructor===Fi?t=c:function(n){return Object.getPrototypeOf(n.constructor)===Va}(c)?r=c:a=c}),a||r||t||null}function $a(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ys="VALID",zd="INVALID",gn="PENDING",ta="DISABLED";function mo(n){return(Wd(n)?n.validators:n)||null}function Nl(n){return Array.isArray(n)?Ud(n):n||null}function nc(n,e){return(Wd(e)?e.asyncValidators:n)||null}function Gf(n){return Array.isArray(n)?Bd(n):n||null}function Wd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zf{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Nl(this._rawValidators),this._composedAsyncValidatorFn=Gf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ys}get invalid(){return this.status===zd}get pending(){return this.status==gn}get disabled(){return this.status===ta}get enabled(){return this.status!==ta}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Nl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Gf(e)}addValidators(e){this.setValidators(Za(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Za(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ko(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ko(e,this._rawAsyncValidators))}hasValidator(e){return ja(this._rawValidators,e)}hasAsyncValidator(e){return ja(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ta,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ys,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ys||this.status===gn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ta:ys}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator=!0;const t=Rm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof $r?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof Ga&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ta:this.errors?zd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(zd)?zd:ys}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class On extends zf{constructor(e=null,t,r){super(mo(t),nc(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$a(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$a(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $r extends zf{constructor(e,t,r){super(mo(t),nc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof On?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,c)=>{r=t(r,a,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Ga extends zf{constructor(e,t,r){super(mo(t),nc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof On?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const na={provide:Zt,useExisting:(0,l.Gpc)(()=>Ol)},Pl=(()=>Promise.resolve(null))();let Ol=(()=>{class n extends Zt{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new $r({},Ud(t),Bd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Xo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),$a(this._directives,t)})}addFormGroup(t){Pl.then(()=>{const r=this._findContainer(t.path),a=new $r({});ea(a,t),r.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Pl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ml(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xr,10),l.Y36(fo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([na]),l.qOj]}),n})();const xE={provide:ms,useExisting:(0,l.Gpc)(()=>Yf)},Wf=(()=>Promise.resolve(null))();let Yf=(()=>{class n extends ms{constructor(t,r,a,c){super(),this.control=new On,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Nm(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ec(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Hf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Wf.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,a=""===r||r&&"false"!==r;Wf.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zt,9),l.Y36(xr,10),l.Y36(fo,10),l.Y36(gs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([xE]),l.qOj,l.TTD]}),n})(),ra=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const jv={provide:gs,useExisting:(0,l.Gpc)(()=>oc),multi:!0};let oc=(()=>{class n extends Va{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([jv]),l.qOj]}),n})(),yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ac=new l.OlP("NgModelWithFormControlWarning"),Fm={provide:Zt,useExisting:(0,l.Gpc)(()=>ci)};let ci=(()=>{class n extends Zt{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($d(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Xo(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yu(t.control||null,t,!1),$a(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Ml(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(Yu(r||null,t),a instanceof On&&(Xo(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ea(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return $d(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ku(this.form,this),this._oldForm&&$d(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xr,10),l.Y36(fo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Fm]),l.qOj,l.TTD]}),n})();const _s={provide:ms,useExisting:(0,l.Gpc)(()=>Vi)};let Vi=(()=>{class n extends ms{constructor(t,r,a,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Nm(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ec(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zt,13),l.Y36(xr,10),l.Y36(fo,10),l.Y36(gs,10),l.Y36(ac,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([_s]),l.qOj,l.TTD]}),n._ngModelWarningSentOnce=!1,n})();const Kd={provide:gs,useExisting:(0,l.Gpc)(()=>Fl),multi:!0};function Um(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Fl=(()=>{class n extends Va{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const a=Um(r,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Kd]),l.qOj]}),n})(),Xf=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Um(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Fl,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $v={provide:gs,useExisting:(0,l.Gpc)(()=>ep),multi:!0};function lc(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ep=(()=>{class n extends Va{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const a=t.map(c=>this._getOptionId(c));r=(c,f)=>{c._setSelected(a.indexOf(f.toString())>-1)}}else r=(a,c)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let f=0;f<c.length;f++){const y=c.item(f),w=this._getOptionValue(y.value);a.push(w)}}else{const c=r.options;for(let f=0;f<c.length;f++){const y=c.item(f);if(y.selected){const w=this._getOptionValue(y.value);a.push(w)}}}this.value=a,t(a)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([$v]),l.qOj]}),n})(),tp=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(lc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lc(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(ep,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yo]]}),n})(),Ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jm]}),n})(),sa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ac,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jm]}),n})(),Os=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let y,c=null,f=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,f=null!=r.asyncValidators?r.asyncValidators:null,y=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,f=null!=r.asyncValidator?r.asyncValidator:null)),new $r(a,{asyncValidators:f,updateOn:y,validators:c})}control(t,r,a){return new On(t,r,a)}array(t,r,a){const c=t.map(f=>this._createControl(f));return new Ga(c,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof On||t instanceof $r||t instanceof Ga?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,l.Yz7)({factory:function(){return new n},token:n,providedIn:sa}),n})();var He=F(5917),ks=F(9765),Hm=F(7971);class Gr extends ks.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Hm.N;return this._value}next(e){super.next(this._value=e)}}var Rr=F(4869),zr=F(7393);class $m extends zr.L{notifyNext(e,t,r,a,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Qv extends zr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var lp=F(7444);function up(n,e,t,r,a=new Qv(n,t,r)){if(!a.closed)return e instanceof ui.y?e.subscribe(a):(0,lp.s)(e)(a)}var kE=F(6693);const Gm={};class jn{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new eh(e,this.resultSelector))}}class eh extends $m{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Gm),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(up(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,f=this.toRespond?a[r]===Gm?--this.toRespond:this.toRespond:0;a[r]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const dc=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var ar=F(3282);function gr(...n){return(0,ar.J)(1)((0,He.of)(...n))}var Fs=F(9193);function th(n){return new ui.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,pn.D)(t):(0,Fs.c)()).subscribe(e)})}var zm=F(2441),Ii=F(5345);function kn(n,e){return"function"==typeof e?t=>t.pipe(kn((r,a)=>(0,pn.D)(n(r,a)).pipe((0,gt.U)((c,f)=>e(r,c,a,f))))):t=>t.lift(new Wm(n))}class Wm{constructor(e){this.project=e}call(e,t){return t.subscribe(new cp(e,this.project))}}class cp extends Ii.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ii.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,Ii.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Km=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function dp(n){return e=>0===n?(0,Fs.c)():e.lift(new Qm(n))}class Qm{constructor(e){if(this.total=e,this.total<0)throw new Km}call(e,t){return t.subscribe(new hp(e,this.total))}}class hp extends zr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function v(...n){const e=n[n.length-1];return(0,Rr.K)(e)?(n.pop(),t=>gr(n,t,e)):t=>gr(n,t)}function p(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new g(n,e,t))}}class g{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new b(e,this.accumulator,this.seed,this.hasSeed))}}class b extends zr.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function S(n,e){return function(r){return r.lift(new P(n,e))}}class P{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new W(e,this.predicate,this.thisArg))}}class W extends zr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function fe(n){return function(t){const r=new Ve(n),a=t.lift(r);return r.caught=a}}class Ve{constructor(e){this.selector=e}call(e,t){return t.subscribe(new tt(e,this.selector,this.caught))}}class tt extends Ii.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new Ii.IY(this);this.add(r);const a=(0,Ii.ft)(t,r);a!==r&&this.add(a)}}}var Xe=F(9773);function at(n,e){return(0,Xe.zg)(n,e,1)}function Gn(n){return function(t){return 0===n?(0,Fs.c)():t.lift(new Di(n))}}class Di{constructor(e){if(this.total=e,this.total<0)throw new Km}call(e,t){return t.subscribe(new di(e,this.total))}}class di extends zr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<r;c++){const f=t++%r;e.next(a[f])}}e.complete()}}function nh(n=pp){return e=>e.lift(new fp(n))}class fp{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Jm(e,this.errorFactory))}}class Jm extends zr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function pp(){return new dc}function gp(n=null){return e=>e.lift(new mp(n))}class mp{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Xm(e,this.defaultValue))}}class Xm extends zr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var rh=F(4487);function Qi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?S((a,c)=>n(a,c,r)):rh.y,dp(1),t?gp(e):nh(()=>new dc))}var Mn=F(3342),FE=F(1307),eA=F(5319);class wM{constructor(e){this.callback=e}call(e,t){return t.subscribe(new oa(e,this.callback))}}class oa extends zr.L{constructor(e,t){super(e),this.add(new eA.w(t))}}class _o{constructor(e,t){this.id=e,this.url=t}}class yp extends _o{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _p extends _o{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xv extends _o{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vp extends _o{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VE extends _o{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UE extends _o{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ew extends _o{constructor(e,t,r,a,c){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tw extends _o{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BE extends _o{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nw{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jE{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rw{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class rA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ih(n){return new rA(n)}const qE="ngNavigationCancelingError";function iw(n){const e=Error("NavigationCancelingError: "+n);return e[qE]=!0,e}function sw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],y=n[c];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Ls(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!GE(n[a],e[a]))return!1;return!0}function GE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,c)=>r[c]===a)}return n===e}function zE(n){return Array.prototype.concat.apply([],n)}function ow(n){return n.length>0?n[n.length-1]:null}function zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function vo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,He.of)(n)}const sA={exact:function aw(n,e,t){if(!Ka(n.segments,e.segments)||!fc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!aw(n.children[r],e.children[r],t))return!1;return!0},subset:ty},wp={exact:function(n,e){return Ls(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>GE(n[t],e[t]))},ignored:()=>!0};function YE(n,e,t){return sA[t.paths](n.root,e.root,t.matrixParams)&&wp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ty(n,e,t){return lw(n,e,e.segments,t)}function lw(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ka(a,t)||e.hasChildren()||!fc(a,t,r))}if(n.segments.length===t.length){if(!Ka(n.segments,t)||!fc(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!ty(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ka(n.segments,a)&&fc(n.segments,a,r)&&n.children[Vt])&&lw(n.children[Vt],e,c,r)}}function fc(n,e,t){return e.every((r,a)=>wp[t](n[a].parameters,r.parameters))}class aa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ih(this.queryParams)),this._queryParamMap}toString(){return oA.serialize(this)}}class Ut{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zn(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ny(this)}}class pc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ih(this.parameters)),this._parameterMap}toString(){return XE(this)}}function Ka(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class uw{}class cw{parse(e){const t=new eC(e);return new aa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${sh(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Ep(t)}=${Ep(a)}`).join("&"):`${Ep(t)}=${Ep(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const oA=new cw;function ny(n){return n.segments.map(e=>XE(e)).join("/")}function sh(n,e){if(!n.hasChildren())return ny(n);if(e){const t=n.children[Vt]?sh(n.children[Vt],!1):"",r=[];return zn(n.children,(a,c)=>{c!==Vt&&r.push(`${c}:${sh(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return zn(n.children,(r,a)=>{a===Vt&&(t=t.concat(e(r,a)))}),zn(n.children,(r,a)=>{a!==Vt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Vt?[sh(n.children[Vt],!1)]:[`${a}:${sh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${ny(n)}/${t[0]}`:`${ny(n)}/(${t.join("//")})`}}function ry(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ep(n){return ry(n).replace(/%3B/gi,";")}function iy(n){return ry(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sy(n){return decodeURIComponent(n)}function dw(n){return sy(n.replace(/\+/g,"%20"))}function XE(n){return`${iy(n.path)}${function(n){return Object.keys(n).map(e=>`;${iy(e)}=${iy(n[e])}`).join("")}(n.parameters)}`}const lA=/^[^\/()?;=#]+/;function Cp(n){const e=n.match(lA);return e?e[0]:""}const uA=/^[^=?&#]+/,dA=/^[^?&#]+/;class eC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new Ut(e,t)),r}parseSegment(){const e=Cp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new pc(sy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Cp(this.remaining);a&&(r=a,this.capture(r))}e[sy(t)]=sy(r)}parseQueryParam(e){const t=function(n){const e=n.match(uA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(dA);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=dw(t),c=dw(r);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cp(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Vt);const f=this.parseChildren();t[c]=1===Object.keys(f).length?f[Vt]:new Ut([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class tC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return fw(e,this._root).map(t=>t.value)}}function hw(n,e){if(n===e.value)return e;for(const t of e.children){const r=hw(n,t);if(r)return r}return null}function fw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fw(n,t);if(r.length)return r.unshift(e),r}return[]}class ht{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function oh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pw extends tC{constructor(e,t){super(e),this.snapshot=t,ay(this,e)}toString(){return this.snapshot.toString()}}function Tp(n,e){const t=function(n,e){const f=new Vs([],{},{},"",{},Vt,e,null,n.root,-1,{});return new oy("",new ht(f,[]))}(n,e),r=new Gr([new pc("",{})]),a=new Gr({}),c=new Gr({}),f=new Gr({}),y=new Gr(""),w=new gc(r,a,f,y,c,Vt,e,t.root);return w.snapshot=t.root,new pw(new ht(w,[]),t)}class gc{constructor(e,t,r,a,c,f,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>ih(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>ih(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],c=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vs{constructor(e,t,r,a,c,f,y,w,D,x,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=y,this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=x,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ih(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ih(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oy extends tC{constructor(e,t){super(t),this.url=e,ay(this,t)}toString(){return ly(this._root)}}function ay(n,e){e.value._routerState=n,e.children.forEach(t=>ay(n,t))}function ly(n){const e=n.children.length>0?` { ${n.children.map(ly).join(", ")} } `:"";return`${n.value}${e}`}function rC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ls(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ls(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ls(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ls(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uy(n,e){return Ls(n.params,e.params)&&function(n,e){return Ka(n,e)&&n.every((t,r)=>Ls(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||uy(n.parent,e.parent))}function Us(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Us(n,r,a);return Us(n,r)})}(n,e,t);return new ht(r,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const f=c.route;return Ip(e,f),f}}const r=function(n){return new gc(new Gr(n.url),new Gr(n.params),new Gr(n.queryParams),new Gr(n.fragment),new Gr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>Us(n,c));return new ht(r,a)}}function Ip(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Ip(n.children[t],e.children[t])}function dy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ah(n){return"object"==typeof n&&null!=n&&n.outlets}function iC(n,e,t,r,a){let c={};return r&&zn(r,(f,y)=>{c[y]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new aa(t.root===n?e:sC(t.root,n,e),c,a)}function sC(n,e,t){const r={};return zn(n.children,(a,c)=>{r[c]=a===e?t:sC(a,e,t)}),new Ut(n.segments,r)}class fA{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dy(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(ah);if(a&&a!==ow(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gA(n,e,t){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return _w(n,e,t);const r=function(n,e,t){let r=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return c;const f=n.segments[a],y=t[r];if(ah(y))break;const w=`${y}`,D=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!yA(w,D,f))return c;r+=2}else{if(!yA(w,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Ut(n.segments.slice(0,r.pathIndex),{});return c.children[Vt]=new Ut(n.segments.slice(r.pathIndex),n.children),_w(c,0,a)}return r.match&&0===a.length?new Ut(n.segments,{}):r.match&&!n.hasChildren()?aC(n,e,t):r.match?_w(n,0,a):aC(n,e,t)}function _w(n,e,t){if(0===t.length)return new Ut(n.segments,{});{const r=function(n){return ah(n[0])?n[0].outlets:{[Vt]:n}}(t),a={};return zn(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=gA(n.children[f],e,c))}),zn(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new Ut(n.segments,a)}}function aC(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(ah(c)){const w=DM(c.outlets);return new Ut(r,w)}if(0===a&&dy(t[0])){r.push(new pc(n.segments[e].path,mA(t[0]))),a++;continue}const f=ah(c)?c.outlets[Vt]:`${c}`,y=a<t.length-1?t[a+1]:null;f&&y&&dy(y)?(r.push(new pc(f,mA(y))),a+=2):(r.push(new pc(f,{})),a++)}return new Ut(r,{})}function DM(n){const e={};return zn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=aC(new Ut([],{}),0,t))}),e}function mA(n){const e={};return zn(n,(t,r)=>e[r]=`${t}`),e}function yA(n,e,t){return n==t.path&&Ls(e,t.parameters)}class SM{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=oh(t);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),zn(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,c=oh(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=oh(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new rw(c.value.snapshot))}),e.children.length&&this.forwardEvent(new jE(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(rC(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),_A(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=w,f.outlet&&f.outlet.activateWith(a,w),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}function _A(n){rC(n.value),n.children.forEach(_A)}class Dp{constructor(e,t){this.routes=e,this.module=t}}function Bl(n){return"function"==typeof n}function Qa(n){return n instanceof aa}const lh=Symbol("INITIAL_VALUE");function Ap(){return kn(n=>function(...n){let e,t;return(0,Rr.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Pd.k)(n[0])&&(n=n[0]),(0,kE.n)(n,t).lift(new jn(e))}(n.map(e=>e.pipe(dp(1),v(lh)))).pipe(p((e,t)=>{let r=!1;return t.reduce((a,c,f)=>a!==lh?a:(c===lh&&(r=!0),r||!1!==c&&f!==t.length-1&&!Qa(c)?a:c),e)},lh),S(e=>e!==lh),(0,gt.U)(e=>Qa(e)?e:!0===e),dp(1)))}let wA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:function(){return[Op]},encapsulation:2}),n})();function fy(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];bA(r,cC(e,r))}}function bA(n,e){n.children&&fy(n.children,e)}function cC(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ww(n){const e=n.children&&n.children.map(ww),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=wA),t}function Bs(n){return n.outlet||Vt}function uh(n,e){const t=n.filter(r=>Bs(r)===e);return t.push(...n.filter(r=>Bs(r)!==e)),t}const mc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ch(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},mc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||sw)(t,n,e);if(!c)return Object.assign({},mc);const f={};zn(c.posParams,(w,D)=>{f[D]=w.path});const y=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:y,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Ja(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>xp(n,e,r)&&Bs(r)!==Vt)}(n,t,r)){const f=new Ut(e,function(n,e,t,r){const a={};a[Vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Bs(c)!==Vt){const f=new Ut([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Bs(c)]=f}return a}(n,e,r,new Ut(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>xp(n,e,r))}(n,t,r)){const f=new Ut(n.segments,function(n,e,t,r,a,c){const f={};for(const y of r)if(xp(n,t,y)&&!a[Bs(y)]){const w=new Ut([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===c?n.segments.length:e.length,f[Bs(y)]=w}return Object.assign(Object.assign({},a),f)}(n,e,t,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const c=new Ut(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function xp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function py(n,e,t,r){return!!(Bs(n)===r||r!==Vt&&xp(e,t,n))&&("**"===n.path||ch(e,n,t).matched)}function gy(n,e,t){return 0===e.length&&!n.children[t]}class hh{constructor(e){this.segmentGroup=e||null}}class Rp{constructor(e){this.urlTree=e}}function my(n){return new ui.y(e=>e.error(new hh(n)))}function bw(n){return new ui.y(e=>e.error(new Rp(n)))}function xM(n){return new ui.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class CA{constructor(e,t,r,a,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Ja(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ut(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Vt).pipe((0,gt.U)(c=>this.createUrlTree(Ew(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fe(c=>{if(c instanceof Rp)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof hh?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Vt).pipe((0,gt.U)(a=>this.createUrlTree(Ew(a),e.queryParams,e.fragment))).pipe(fe(a=>{throw a instanceof hh?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Ut([],{[Vt]:e}):e;return new aa(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(c=>new Ut([],c))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,pn.D)(a).pipe(at(c=>{const f=r.children[c],y=uh(t,c);return this.expandSegmentGroup(e,y,f,c).pipe((0,gt.U)(w=>({segment:w,outlet:c})))}),p((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?S((a,c)=>n(a,c,r)):rh.y,Gn(1),t?gp(e):nh(()=>new dc))}())}expandSegment(e,t,r,a,c,f){return(0,pn.D)(r).pipe(at(y=>this.expandSegmentAgainstRoute(e,t,r,y,a,c,f).pipe(fe(D=>{if(D instanceof hh)return(0,He.of)(null);throw D}))),Qi(y=>!!y),fe((y,w)=>{if(y instanceof dc||"EmptyError"===y.name){if(gy(t,a,c))return(0,He.of)(new Ut([],{}));throw new hh(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,a,c,f,y){return py(a,t,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f):my(t):my(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bw(c):this.lineralizeSegments(r,c).pipe((0,Xe.zg)(f=>{const y=new Ut(f,{});return this.expandSegment(e,y,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f){const{matched:y,consumedSegments:w,lastChild:D,positionalParamSegments:x}=ch(t,a,c);if(!y)return my(t);const M=this.applyRedirectCommands(w,a.redirectTo,x);return a.redirectTo.startsWith("/")?bw(M):this.lineralizeSegments(a,M).pipe((0,Xe.zg)(V=>this.expandSegment(e,t,r,V.concat(c.slice(D)),f,!1)))}matchSegmentAgainstRoute(e,t,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,He.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,gt.U)(V=>(r._loadedConfig=V,new Ut(a,{})))):(0,He.of)(new Ut(a,{}));const{matched:f,consumedSegments:y,lastChild:w}=ch(t,r,a);if(!f)return my(t);const D=a.slice(w);return this.getChildConfig(e,r,a).pipe((0,Xe.zg)(M=>{const V=M.module,q=M.routes,{segmentGroup:re,slicedSegments:De}=Ja(t,y,D,q),Fe=new Ut(re.segments,re.children);if(0===De.length&&Fe.hasChildren())return this.expandChildren(V,q,Fe).pipe((0,gt.U)(ct=>new Ut(y,ct)));if(0===q.length&&0===De.length)return(0,He.of)(new Ut(y,{}));const qe=Bs(r)===c;return this.expandSegment(V,Fe,q,De,qe?Vt:c,!0).pipe((0,gt.U)(Ke=>new Ut(y.concat(Ke.segments),Ke.children)))}))}getChildConfig(e,t,r){return t.children?(0,He.of)(new Dp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,He.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Xe.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,gt.U)(c=>(t._loadedConfig=c,c))):(n=t,new ui.y(e=>e.error(iw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,He.of)(new Dp([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,He.of)(!0);const c=a.map(f=>{const y=e.get(f);let w;if((n=y)&&Bl(n.canLoad))w=y.canLoad(t,r);else{if(!Bl(y))throw new Error("Invalid CanLoad guard");w=y(t,r)}var n;return vo(w)});return(0,He.of)(c).pipe(Ap(),(0,Mn.b)(f=>{if(!Qa(f))return;const y=iw(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,gt.U)(f=>!0===f))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,He.of)(r);if(a.numberOfChildren>1||!a.children[Vt])return xM(e.redirectTo);a=a.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const c=this.createSegmentGroup(e,t.root,r,a);return new aa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return zn(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[c]=t[y]}else r[c]=a}),r}createSegmentGroup(e,t,r,a){const c=this.createSegments(e,t.segments,r,a);let f={};return zn(t.children,(y,w)=>{f[w]=this.createSegmentGroup(e,y,r,a)}),new Ut(c,f)}createSegments(e,t,r,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function Ew(n){const e={};for(const r of Object.keys(n.children)){const c=Ew(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new Ut(n.segments.concat(e.segments),e.children)}return n}(new Ut(n.segments,e))}class Ji{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yy{constructor(e,t){this.component=e,this.route=t}}function IA(n,e,t){const r=n._root;return _y(r,e?e._root:null,t,[r.value])}function Cw(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function _y(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=oh(e);return n.children.forEach(f=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ka(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ka(n.url,e.url)||!Ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uy(n,e)||!Ls(n.queryParams,e.queryParams);case"paramsChange":default:return!uy(n,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new Ji(r)):(c.data=f.data,c._resolvedData=f._resolvedData),_y(n,e,c.component?y?y.children:null:t,r,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new yy(y.outlet.component,f))}else f&&fh(e,y,a),a.canActivateChecks.push(new Ji(r)),_y(n,null,c.component?y?y.children:null:t,r,a)})(f,c[f.value.outlet],t,r.concat([f.value]),a),delete c[f.value.outlet]}),zn(c,(f,y)=>fh(f,t.getContext(y),a)),a}function fh(n,e,t){const r=oh(n),a=n.value;zn(r,(c,f)=>{fh(c,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new yy(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class _C{}function Iw(n){return new ui.y(e=>e.error(n))}class la{constructor(e,t,r,a,c,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=Ja(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Vt);if(null===t)return null;const r=new Vs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ht(r,t),c=new oy(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=nC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const f=t.children[c],y=uh(e,c),w=this.processSegmentGroup(y,f,c);if(null===w)return null;r.push(...w)}const a=FA(r);return a.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const c of e){const f=this.processSegmentAgainstRoute(c,t,r,a);if(null!==f)return f}return gy(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!py(e,t,r,a))return null;let c,f=[],y=[];if("**"===e.path){const q=r.length>0?ow(r).parameters:{};c=new Vs(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bC(e),Bs(e),e.component,e,vC(t),wC(t)+r.length,vy(e))}else{const q=ch(t,e,r);if(!q.matched)return null;f=q.consumedSegments,y=r.slice(q.lastChild),c=new Vs(f,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bC(e),Bs(e),e.component,e,vC(t),wC(t)+f.length,vy(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:x}=Ja(t,f,y,w.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&D.hasChildren()){const q=this.processChildren(w,D);return null===q?null:[new ht(c,q)]}if(0===w.length&&0===x.length)return[new ht(c,[])];const M=Bs(e)===a,V=this.processSegment(w,D,x,M?Vt:a);return null===V?null:[new ht(c,V)]}}function kA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function FA(n){const e=[],t=new Set;for(const r of n){if(!kA(r)){e.push(r);continue}const a=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=FA(r.children);e.push(new ht(r.value,a))}return e.filter(r=>!t.has(r))}function vC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function bC(n){return n.data||{}}function vy(n){return n.resolve||{}}function Mp(n){return kn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,gt.U)(()=>e)):(0,He.of)(e)})}class jA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xw=new l.OlP("ROUTES");class by{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=c.create(e);return new Dp(zE(f.injector.get(xw,void 0,l.XFs.Self|l.XFs.Optional)).map(ww),f)}),fe(c=>{throw t._loader$=void 0,c}));return t._loader$=new zm.c(a,()=>new ks.xQ).pipe((0,FE.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,pn.D)(this.loader.load(e)):vo(e()).pipe((0,Xe.zg)(t=>t instanceof l.YKP?(0,He.of)(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class MM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ph,this.attachRef=null}}class ph{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new MM,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class TC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function IC(n){throw n}function DC(n,e,t){return e.parse("/")}function Rw(n,e){return(0,He.of)(null)}const Xa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ey={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class n{constructor(t,r,a,c,f,y,w,D){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ks.xQ,this.errorHandler=IC,this.malformedUriErrorHandler=DC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rw,afterPreactivation:Rw},this.urlHandlingStrategy=new TC,this.routeReuseStrategy=new jA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(l.h0i),this.console=f.get(l.c2e);const V=f.get(l.R0b);this.isNgZoneEnabled=V instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new aa(new Ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new by(y,w,q=>this.triggerEvent(new tA(q)),q=>this.triggerEvent(new hc(q))),this.routerState=Tp(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(S(a=>0!==a.id),(0,gt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),kn(a=>{let c=!1,f=!1;return(0,He.of)(a).pipe((0,Mn.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(y=>{const w=this.browserUrlTree.toString(),D=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Mw(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,He.of)(y).pipe(kn(M=>{const V=this.transitions.getValue();return r.next(new yp(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),V!==this.transitions.getValue()?Fs.E:Promise.resolve(M)}),function(n,e,t,r){return kn(a=>function(n,e,t,r,a){return new CA(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,gt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,e,t,r,a){return(0,Xe.zg)(c=>function(n,e,t,r,a="emptyOnly",c="legacy"){try{const f=new la(n,e,t,r,a,c).recognize();return null===f?Iw(new _C):(0,He.of)(f)}catch(f){return Iw(f)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,a).pipe((0,gt.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const V=new VE(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:q,source:re,restoredState:De,extras:Fe}=y,qe=new yp(V,this.serializeUrl(q),re,De);r.next(qe);const et=Tp(q,this.rootComponentType).snapshot;return(0,He.of)(Object.assign(Object.assign({},y),{targetSnapshot:et,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),Fs.E}),Mp(y=>{const{targetSnapshot:w,id:D,extractedUrl:x,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:q}}=y;return this.hooks.beforePreactivation(w,{navigationId:D,appliedUrlTree:x,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!q})}),(0,Mn.b)(y=>{const w=new UE(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,gt.U)(y=>Object.assign(Object.assign({},y),{guards:IA(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Xe.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=t;return 0===f.length&&0===c.length?(0,He.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,pn.D)(n).pipe((0,Xe.zg)(a=>function(n,e,t,r,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,He.of)(!0);const f=c.map(y=>{const w=Cw(y,e,a);let D;if(function(n){return n&&Bl(n.canDeactivate)}(w))D=vo(w.canDeactivate(n,e,t,r));else{if(!Bl(w))throw new Error("Invalid CanDeactivate guard");D=vo(w(n,e,t,r))}return D.pipe(Qi())});return(0,He.of)(f).pipe(Ap())}(a.component,a.route,t,e,r)),Qi(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Xe.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,r){return(0,pn.D)(e).pipe(at(a=>gr(function(n,e){return null!==n&&e&&e(new nw(n)),(0,He.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new nA(n)),(0,He.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>th(()=>{const y=f.guards.map(w=>{const D=Cw(w,f.node,t);let x;if(function(n){return n&&Bl(n.canActivateChild)}(D))x=vo(D.canActivateChild(r,n));else{if(!Bl(D))throw new Error("Invalid CanActivateChild guard");x=vo(D(r,n))}return x.pipe(Qi())});return(0,He.of)(y).pipe(Ap())}));return(0,He.of)(c).pipe(Ap())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,He.of)(!0);const a=r.map(c=>th(()=>{const f=Cw(c,e,t);let y;if(function(n){return n&&Bl(n.canActivate)}(f))y=vo(f.canActivate(e,n));else{if(!Bl(f))throw new Error("Invalid CanActivate guard");y=vo(f(e,n))}return y.pipe(Qi())}));return(0,He.of)(a).pipe(Ap())}(n,a.route,t))),Qi(a=>!0!==a,!0))}(r,c,n,e):(0,He.of)(y)),(0,gt.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Mn.b)(y=>{if(Qa(y.guardsResult)){const D=iw(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw D.url=y.guardsResult,D}const w=new ew(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),S(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Mp(y=>{if(y.guards.canActivateChecks.length)return(0,He.of)(y).pipe((0,Mn.b)(w=>{const D=new tw(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),kn(w=>{let D=!1;return(0,He.of)(w).pipe(function(n,e){return(0,Xe.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,He.of)(t);let c=0;return(0,pn.D)(a).pipe(at(f=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,He.of)({});const c={};return(0,pn.D)(a).pipe((0,Xe.zg)(f=>function(n,e,t,r){const a=Cw(n,e,r);return vo(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,r).pipe((0,Mn.b)(y=>{c[f]=y}))),Gn(1),(0,Xe.zg)(()=>Object.keys(c).length===a.length?(0,He.of)(c):Fs.E))}(n._resolve,n,e,r).pipe((0,gt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),nC(n,t).resolve),null)))}(f.route,r,n,e)),(0,Mn.b)(()=>c++),Gn(1),(0,Xe.zg)(f=>c===a.length?(0,He.of)(t):Fs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Mn.b)(w=>{const D=new BE(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}))}),Mp(y=>{const{targetSnapshot:w,id:D,extractedUrl:x,rawUrl:M,extras:{skipLocationChange:V,replaceUrl:q}}=y;return this.hooks.afterPreactivation(w,{navigationId:D,appliedUrlTree:x,rawUrlTree:M,skipLocationChange:!!V,replaceUrl:!!q})}),(0,gt.U)(y=>{const w=function(n,e,t){const r=Us(n,e._root,t?t._root:void 0);return new pw(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:w})}),(0,Mn.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new SM(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Mn.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new wM(n))}(()=>{var y;if(!c&&!f){const w=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,w)):this.cancelNavigationTransition(a,w)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),fe(y=>{if(f=!0,function(n){return n&&n[qE]}(y)){const w=Qa(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const D=new Xv(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(D),w?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),M={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mw(a.source)};this.scheduleNavigation(x,"imperative",null,M,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new vp(a.id,this.serializeUrl(a.extractedUrl),y);r.next(w);try{a.resolve(this.errorHandler(y))}catch(D){a.reject(D)}}return Fs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:c,urlTree:f}=r,y={replaceUrl:!0};if(c){const w=Object.assign({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(y.state=w)}this.scheduleNavigation(f,a,c,y)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fy(t),this.config=t.map(ww),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:w}=r,D=a||this.routerState.root,x=w?this.currentUrlTree.fragment:f;let M=null;switch(y){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=c||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,e,t,r,a){if(0===t.length)return iC(e.root,e.root,e,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fA(!0,0,n);let e=0,t=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return zn(c.outlets,(w,D)=>{y[D]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new fA(t,e,r)}(t);if(c.toRoot())return iC(e.root,new Ut([],{}),e,r,a);const f=function(n,e,t){if(n.isAbsolute)return new hy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new hy(c,c===e.root,0)}const r=dy(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,c=t;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new hy(r,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),y=f.processChildren?_w(f.segmentGroup,f.index,c.commands):gA(f.segmentGroup,f.index,c.commands);return iC(f.segmentGroup,y,e,r,a)}(D,this.currentUrlTree,t,M,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=Qa(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},Xa):!1===r?Object.assign({},Ey):r,Qa(t))return YE(this.currentUrlTree,t,a);const c=this.parseUrl(t);return YE(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const c=t[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new _p(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,c,f){var y,w;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),x=Mw(r)&&D&&!Mw(D.source),q=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===t.toString();if(x&&q)return Promise.resolve(!0);let re,De,Fe;f?(re=f.resolve,De=f.reject,Fe=f.promise):Fe=new Promise((Ke,ct)=>{re=Ke,De=ct});const qe=++this.navigationId;let et;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),et=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):et=0,this.setTransition({id:qe,targetPageId:et,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:re,reject:De,promise:Fe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fe.catch(Ke=>Promise.reject(Ke))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new Xv(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.DyG),l.LFG(uw),l.LFG(ph),l.LFG(ze),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Mw(n){return"imperative"!==n}let Np=(()=>{class n{constructor(t,r,a){this.router=t,this.route=r,this.locationStrategy=a,this.commands=[],this.onChanges=new ks.xQ,this.subscription=t.events.subscribe(c=>{c instanceof _p&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,a,c,f){if(0!==t||r||a||c||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:ua(this.skipLocationChange),replaceUrl:ua(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ua(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr),l.Y36(gc),l.Y36(ne))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(l.Ikx("href",r.href,l.LSH),l.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})();function ua(n){return""===n||!!n}let Op=(()=>{class n{constructor(t,r,a,c,f){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=c||Vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new AC(t,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ph),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class AC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gc?this.route:e===ph?this.childContexts:this.parent.get(e,t)}}class SC{}class RC{preload(e,t){return(0,He.of)(null)}}let Cy=(()=>{class n{constructor(t,r,a,c,f){this.router=t,this.injector=c,this.preloadingStrategy=f,this.loader=new by(r,a,D=>t.triggerEvent(new tA(D)),D=>t.triggerEvent(new hc(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(S(t=>t instanceof _p),at(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,pn.D)(a).pipe((0,ar.J)(),(0,gt.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,He.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Xe.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mr),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(SC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Nw=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _p&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ZE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ZE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mr),l.LFG(Ca),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ql=new l.OlP("ROUTER_CONFIGURATION"),yc=new l.OlP("ROUTER_FORROOT_GUARD"),HA=[ze,{provide:uw,useClass:cw},{provide:mr,useFactory:function(n,e,t,r,a,c,f,y={},w,D){const x=new mr(null,n,e,t,r,a,c,zE(f));return w&&(x.urlHandlingStrategy=w),D&&(x.routeReuseStrategy=D),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,x),y.enableTracing&&x.events.subscribe(M=>{var V,q;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(q=console.groupEnd)||void 0===q||q.call(console)}),x},deps:[uw,ph,ze,l.zs3,l.v3s,l.Sil,xw,ql,[class{},new l.FiY],[class{},new l.FiY]]},ph,{provide:gc,useFactory:function(n){return n.routerState.root},deps:[mr]},{provide:l.v3s,useClass:l.EAV},Cy,RC,class{preload(e,t){return t().pipe(fe(()=>(0,He.of)(null)))}},{provide:ql,useValue:{enableTracing:!1}}];function $A(){return new l.PXZ("Router",mr)}let el=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[HA,NC(t),{provide:yc,useFactory:WA,deps:[[mr,new l.FiY,new l.tp0]]},{provide:ql,useValue:r||{}},{provide:ne,useFactory:zA,deps:[_e,[new l.tBr(Ce),new l.FiY],ql]},{provide:Nw,useFactory:GA,deps:[mr,Ca,ql]},{provide:SC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:RC},{provide:l.PXZ,multi:!0,useFactory:$A},[Nn,{provide:l.ip1,multi:!0,useFactory:Pw,deps:[Nn]},{provide:ca,useFactory:OM,deps:[Nn]},{provide:l.tb,multi:!0,useExisting:ca}]]}}static forChild(t){return{ngModule:n,providers:[NC(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yc,8),l.LFG(mr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function GA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Nw(n,e,t)}function zA(n,e,t={}){return t.useHash?new Be(n,e):new Pe(n,e)}function WA(n){return"guarded"}function NC(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:xw,multi:!0,useValue:n}]}let Nn=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ks.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),c=this.injector.get(mr),f=this.injector.get(ql);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,He.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(ql),a=this.injector.get(Cy),c=this.injector.get(Nw),f=this.injector.get(mr),y=this.injector.get(l.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Pw(n){return n.appInitializer.bind(n)}function OM(n){return n.bootstrapListener.bind(n)}const ca=new l.OlP("Router Initializer");var kC=F(3637),FC=F(6561);function kp(n=0,e,t){let r=-1;return(0,FC.k)(e)?r=Number(e)<1?1:Number(e):(0,Rr.K)(e)&&(t=e),(0,Rr.K)(t)||(t=kC.P),new ui.y(a=>{const c=(0,FC.k)(n)?n:+n-t.now();return t.schedule(LC,c,{index:0,period:r,subscriber:a})})}function LC(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}var VC=F(8259),yr=F.n(VC),me=F(8239),KA=F(6682),Fp=F(309),Lp=F(7771),kw=F(8858);class UC extends ks.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new BC(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=r.length;let f;if(this.closed)throw new Hm.N;if(this.isStopped||this.hasError?f=eA.w.EMPTY:(this.observers.push(e),f=new kw.W(this,e)),a&&e.add(e=new Fp.ht(e,a)),t)for(let y=0;y<c&&!e.closed;y++)e.next(r[y]);else for(let y=0;y<c&&!e.closed;y++)e.next(r[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||Lp.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,c=a.length;let f=0;for(;f<c&&!(e-a[f].time<r);)f++;return c>t&&(f=Math.max(f,c-t)),f>0&&a.splice(0,f),a}}class BC{constructor(e,t){this.time=e,this.value=t}}function Fw(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,f,c=0,y=!1,w=!1;return function(x){let M;c++,!a||y?(y=!1,a=new UC(n,e,r),M=a.subscribe(this),f=x.subscribe({next(V){a.next(V)},error(V){y=!0,a.error(V)},complete(){w=!0,f=void 0,a.complete()}}),w&&(f=void 0)):M=a.subscribe(this),this.add(()=>{c--,M.unsubscribe(),M=void 0,f&&!w&&t&&0===c&&(f.unsubscribe(),f=void 0,a=void 0)})}}(r))}function ZC(n,e){return e?kn(()=>n,e):kn(()=>n)}var Lw=F(2639),Fn=F(9126),js=F(8939),Ty=F(7841);const Vw=new l.OlP("angularfire2.auth.use-emulator"),qC=new l.OlP("angularfire2.auth.settings"),HC=new l.OlP("angularfire2.auth.tenant-id"),QA=new l.OlP("angularfire2.auth.langugage-code"),JA=new l.OlP("angularfire2.auth.use-device-language"),Iy=new l.OlP("angularfire.auth.persistence"),$C=(n,e,t,r,a,c,f,y)=>(0,Fn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=a,c&&w.useDeviceLanguage(),f)for(const[D,x]of Object.entries(f))w.settings[D]=x;return y&&w.setPersistence(y),w},[t,r,a,c,f,y]);let Vp=(()=>{class n{constructor(t,r,a,c,f,y,w,D,x,M,V){const q=new ks.xQ,re=(0,He.of)(void 0).pipe((0,Fp.QV)(f.outsideAngular),kn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4671)))),(0,gt.U)(()=>(0,js.on)(t,c,r)),(0,gt.U)(De=>$C(De,c,y,D,x,M,w,V)),Fw({bufferSize:1,refCount:!1}));if(qo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,He.of)(null);else{re.pipe(Qi()).subscribe();const Fe=re.pipe(kn(Ke=>Ke.getRedirectResult().then(ct=>ct,()=>null)),Fn.iC,Fw({bufferSize:1,refCount:!1})),qe=re.pipe(kn(Ke=>new ui.y(ct=>({unsubscribe:c.runOutsideAngular(()=>Ke.onAuthStateChanged(In=>ct.next(In),In=>ct.error(In),()=>ct.complete()))})))),et=re.pipe(kn(Ke=>new ui.y(ct=>({unsubscribe:c.runOutsideAngular(()=>Ke.onIdTokenChanged(In=>ct.next(In),In=>ct.error(In),()=>ct.complete()))}))));this.authState=Fe.pipe(ZC(qe),(0,Lw.R)(f.outsideAngular),(0,Fp.QV)(f.insideAngular)),this.user=Fe.pipe(ZC(et),(0,Lw.R)(f.outsideAngular),(0,Fp.QV)(f.insideAngular)),this.idToken=this.user.pipe(kn(Ke=>Ke?(0,pn.D)(Ke.getIdToken()):(0,He.of)(null))),this.idTokenResult=this.user.pipe(kn(Ke=>Ke?(0,pn.D)(Ke.getIdTokenResult()):(0,He.of)(null))),this.credential=(0,KA.T)(Fe,q,this.authState.pipe(S(Ke=>!Ke))).pipe((0,gt.U)(Ke=>(null==Ke?void 0:Ke.user)?Ke:null),(0,Lw.R)(f.outsideAngular),(0,Fp.QV)(f.insideAngular))}return(0,js.pX)(this,re,c,{spy:{apply:(De,Fe,qe)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&qe.then(et=>q.next(et))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(js.Dh),l.LFG(js.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Fn.HU),l.LFG(Vw,8),l.LFG(qC,8),l.LFG(HC,8),l.LFG(QA,8),l.LFG(JA,8),l.LFG(Iy,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GC=(()=>{class n{constructor(){Ty.Z.registerVersion("angularfire",Fn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Vp]}),n})();function zC(){return n=>n.lift(new Eo)}class Eo{call(e,t){return t.subscribe(new FM(e))}}class FM extends zr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class VM{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new WC(e,this.compare,this.keySelector))}}class WC extends zr.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}F(4671);var Ye,Uw=F(4486),Hl=F(5452),Bw=F(6034),$l=F(5601),Rt=F(3854),eS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Co={},jw=jw||{},xt=eS||self;function Dy(){}function Zw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Up(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Gl="closure_uid_"+(1e9*Math.random()>>>0),YC=0;function To(n,e,t){return n.call.apply(n.bind,arguments)}function Bp(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function hi(n,e,t){return(hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?To:Bp).apply(null,arguments)}function Sy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,c){for(var f=Array(arguments.length-2),y=2;y<arguments.length;y++)f[y-2]=arguments[y];return e.prototype[a].apply(r,f)}}function fi(){this.s=this.s,this.o=this.o}var Ai={};fi.prototype.s=!1,fi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Gl)&&n[Gl]||(n[Gl]=++YC)}(this);delete Ai[n]}},fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zl=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Zp=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in a&&e.call(t,a[c],c,n)};function xy(n){return Array.prototype.concat.apply([],arguments)}function Wl(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tl(n){return/^[\s\xa0]*$/.test(n)}var vr,_c=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _r(n,e){return-1!=n.indexOf(e)}function Yl(n,e){return n<e?-1:n>e?1:0}e:{var vc=xt.navigator;if(vc){var wc=vc.userAgent;if(wc){vr=wc;break e}}vr=""}function Kl(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function qw(n){const e={};for(const t in n)e[t]=n[t];return e}var Hw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $w(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<Hw.length;c++)t=Hw[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ry(n){return Ry[" "](n),n}Ry[" "]=Dy;var qp,n,QC=_r(vr,"Opera"),bc=_r(vr,"Trident")||_r(vr,"MSIE"),Gw=_r(vr,"Edge"),My=Gw||bc,JC=_r(vr,"Gecko")&&!(_r(vr.toLowerCase(),"webkit")&&!_r(vr,"Edge"))&&!(_r(vr,"Trident")||_r(vr,"MSIE"))&&!_r(vr,"Edge"),XC=_r(vr.toLowerCase(),"webkit")&&!_r(vr,"Edge");function eT(){var n=xt.document;return n?n.documentMode:void 0}e:{var Ny="",zw=(n=vr,JC?/rv:([^\);]+)(\)|;)/.exec(n):Gw?/Edge\/([\d\.]+)/.exec(n):bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):XC?/WebKit\/(\S+)/.exec(n):QC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zw&&(Ny=zw?zw[1]:""),bc){var tT=eT();if(null!=tT&&tT>parseFloat(Ny)){qp=String(tT);break e}}qp=Ny}var tS={};function nT(){return e=tS,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=_c(String(qp)).split("."),t=_c("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Yl(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Yl(0==a[2].length,0==c[2].length)||Yl(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var nS=xt.document&&bc&&(eT()||parseInt(qp,10))||void 0,rS=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",Dy,e),xt.removeEventListener("test",Dy,e)}catch(t){}return n}();function Ui(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Hp(n,e){if(Ui.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(JC){e:{try{Ry(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hp.Z.h.call(this)}}Ui.prototype.h=function(){this.defaultPrevented=!0},Mr(Hp,Ui);var rT={2:"touch",3:"pen",4:"mouse"};Hp.prototype.h=function(){Hp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Py="closure_listenable_"+(1e6*Math.random()|0),UM=0;function BM(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++UM,this.ca=this.fa=!1}function Oy(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Kw(n){this.src=n,this.g={},this.h=0}function Qw(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=zl(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(Oy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jw(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return a}return-1}Kw.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var f=Jw(n,e,r,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new BM(e,this.src,c,!!r,a)).fa=t,n.push(e)),e};var $p="closure_lm_"+(1e6*Math.random()|0),Gp={};function iT(n,e,t,r,a){if(r&&r.once)return sS(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)iT(n,e[c],t,r,a);return null}return t=Fy(t),n&&n[Py]?n.N(e,t,Up(r)?!!r.capture:!!r,a):iS(n,e,t,!1,r,a)}function iS(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var f=Up(a)?!!a.capture:!!a,y=Ql(n);if(y||(n[$p]=y=new Kw(n)),(t=y.add(e,t,r,f,c)).proxy)return t;if(r=function(){var e=aS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rS||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(oS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sS(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)sS(n,e[c],t,r,a);return null}return t=Fy(t),n&&n[Py]?n.O(e,t,Up(r)?!!r.capture:!!r,a):iS(n,e,t,!0,r,a)}function sT(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)sT(n,e[c],t,r,a);else r=Up(r)?!!r.capture:!!r,t=Fy(t),n&&n[Py]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jw(c=n.g[e],t,r,a))&&(Oy(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Ql(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jw(e,t,r,a)),(t=-1<n?e[n]:null)&&ky(t))}function ky(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Py])Qw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(oS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ql(e))?(Qw(t,n),0==t.h&&(t.src=null,e[$p]=null)):Oy(n)}}}function oS(n){return n in Gp?Gp[n]:Gp[n]="on"+n}function aS(n,e){if(n.ca)n=!0;else{e=new Hp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ky(n),n=t.call(r,e)}return n}function Ql(n){return(n=n[$p])instanceof Kw?n:null}var Xw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(n){return"function"==typeof n?n:(n[Xw]||(n[Xw]=function(e){return n.handleEvent(e)}),n[Xw])}function Wr(){fi.call(this),this.i=new Kw(this),this.P=this,this.I=null}function Yr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ui(e,n);else if(e instanceof Ui)e.target=e.target||n;else{var a=e;$w(e=new Ui(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Ec(f,r,!0,e)&&a}if(a=Ec(f=e.g=n,r,!0,e)&&a,a=Ec(f,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Ec(f=e.g=t[c],r,!1,e)&&a}function Ec(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ca&&f.capture==t){var y=f.listener,w=f.ia||f.src;f.fa&&Qw(n.i,f),a=!1!==y.call(w,r)&&a}}return a&&!r.defaultPrevented}Mr(Wr,fi),Wr.prototype[Py]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){sT(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Oy(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var eb=xt.JSON.stringify;function oT(){var n=nb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ly,aT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new uS,n=>n.reset());class uS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cS(n){xt.setTimeout(()=>{throw n},0)}function tb(n,e){Ly||function(){var n=xt.Promise.resolve(void 0);Ly=function(){n.then(rb)}}(),Vy||(Ly(),Vy=!0),nb.add(n,e)}var Vy=!1,nb=new class{constructor(){this.h=this.g=null}add(e,t){const r=aT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rb(){for(var n;n=oT();){try{n.h.call(n.g)}catch(t){cS(t)}var e=aT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vy=!1}function ib(n,e){Wr.call(this),this.h=n||1,this.g=e||xt,this.j=hi(this.kb,this),this.l=Date.now()}function zp(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function sb(n,e,t){if("function"==typeof n)t&&(n=hi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=hi(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function hS(n){n.g=sb(()=>{n.g=null,n.i&&(n.i=!1,hS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mr(ib,Wr),(Ye=ib.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yr(this,"tick"),this.da&&(zp(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){ib.Z.M.call(this),zp(this),delete this.g};class Wp extends fi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hS(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yp(n){fi.call(this),this.h=n,this.g={}}Mr(Yp,fi);var Uy=[];function By(n,e,t,r){Array.isArray(t)||(t&&(Uy[0]=t.toString()),t=Uy);for(var a=0;a<t.length;a++){var c=iT(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function lT(n){Kl(n.g,function(e,t){this.g.hasOwnProperty(t)&&ky(e)},n),n.g={}}function gh(){this.g=!0}function Kp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return eb(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}Yp.prototype.M=function(){Yp.Z.M.call(this),lT(this)},Yp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gh.prototype.Aa=function(){this.g=!1},gh.prototype.info=function(){};var Jl={},dT=null;function Qp(){return dT=dT||new Wr}function jy(n){Ui.call(this,Jl.Ma,n)}function mh(n){const e=Qp();Yr(e,new jy(e,n))}function Zy(n,e){Ui.call(this,Jl.STAT_EVENT,n),this.stat=e}function pi(n){const e=Qp();Yr(e,new Zy(e,n))}function ab(n,e){Ui.call(this,Jl.Na,n),this.size=e}function Jp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}Jl.Ma="serverreachability",Mr(jy,Ui),Jl.STAT_EVENT="statevent",Mr(Zy,Ui),Jl.Na="timingevent",Mr(ab,Ui);var Xp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eg(){}function hT(){}eg.prototype.h=null;var _h,yh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qy(){Ui.call(this,"d")}function Hy(){Ui.call(this,"c")}function tg(){}function vh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yp(this),this.P=fT,this.W=new ib(n=My?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cb}function cb(){this.i=null,this.g="",this.h=!1}Mr(qy,Ui),Mr(Hy,Ui),Mr(tg,eg),tg.prototype.g=function(){return new XMLHttpRequest},tg.prototype.i=function(){return{}},_h=new tg;var fT=45e3,$y={},ng={};function Gy(n,e,t){n.K=1,n.v=Yy(nl(e)),n.s=t,n.U=!0,db(n,null)}function db(n,e){n.F=Date.now(),wh(n),n.A=nl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),wT(t.h,"t",r),n.C=0,t=n.l.H,n.h=new cb,n.g=mg(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Wp(hi(n.Ia,n,n.g),n.O)),By(n.V,n.g,"readystatechange",n.gb),e=n.H?qw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),mh(1),function(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var f="",y=c.split("&"),w=0;w<y.length;w++){var D=y[w].split("=");if(1<D.length){var x=D[0];D=D[1];var M=x.split("_");f=2<=M.length&&"type"==M[1]?f+(x+"=")+D+"&":f+(x+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function pS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function pT(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=gS(n,t),a==ng){4==e&&(n.o=4,pi(14),r=!1),Kp(n.j,n.m,null,"[Incomplete Response]");break}if(a==$y){n.o=4,pi(15),Kp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kp(n.j,n.m,a,null),hb(n,a)}pS(n)&&a!=ng&&a!=$y&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,pi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),kT(e),e.L=!0,pi(11))):(Kp(n.j,n.m,t,"[Invalid Chunked Response]"),Cc(n),bh(n))}function gS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ng:(t=Number(e.substring(t,r)),isNaN(t)?$y:(r+=1)+t>e.length?ng:(e=e.substr(r,t),n.C=r+t,e))}function wh(n){n.Y=Date.now()+n.P,gT(n,n.P)}function gT(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jp(hi(n.eb,n),e)}function tr(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function bh(n){0==n.l.G||n.I||SS(n.l,n)}function Cc(n){tr(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zp(n.W),lT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function hb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Eh(t.i,n)))if(t.I=n.N,!n.J&&Eh(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Jp(hi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;gg(t),cg(t)}pg(t),pi(18)}if(1>=Qy(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else xc(t,11)}else if((n.J||t.g==n)&&gg(t),!tl(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let D=a[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const x=D[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const M=D[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const V=D[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const re=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var c=r.i;!c.g&&(_r(re,"spdy")||_r(re,"quic")||_r(re,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(sg(c,c.h),c.h=null))}if(r.D){const De=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;De&&(r.sa=De,Qt(r.F,r.D,De))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=LT(r,r.H?r.la:null,r.W),f.J){_b(r.i,f);var y=f,w=r.K;w&&y.setTimeout(w),y.B&&(tr(y),wh(y)),r.g=f}else AS(r);0<t.l.length&&hg(t)}else"stop"!=D[0]&&"close"!=D[0]||xc(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?xc(t,7):n_(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}mh(4)}catch(D){}}function fb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Zw(n)||"string"==typeof n)Zp(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Zw(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Zw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}}function Tc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Tc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function zy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];qs(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)qs(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function qs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=vh.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==ha(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const x=ha(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>x)&&(3!=x||My||this.g&&(this.h.h||this.g.ga()||bb(this.g)))){this.I||4!=x||7==e||mh(8==e||0>=M?3:2),tr(this);var t=this.g.ba();this.N=t;t:if(pS(this)){var r=bb(this.g);n="";var a=r.length,c=4==ha(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Cc(this),bh(this);var f="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,c,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,w=this.g;if((y=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tl(y)){var D=y;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,pi(12),Cc(this),bh(this);break e}Kp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hb(this,t)}this.U?(pT(this,x,f),My&&this.i&&3==x&&(By(this.V,this.W,"tick",this.fb),this.W.start())):(Kp(this.j,this.m,f,null),hb(this,f)),4==x&&Cc(this),this.i&&!this.I&&(4==x?SS(this.l,this):(this.i=!1,wh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,pi(12)):(this.o=0,pi(13)),Cc(this),bh(this)}}}catch(x){}},Ye.fb=function(){if(this.g){var n=ha(this.g),e=this.g.ga();this.C<e.length&&(tr(this),pT(this,n,e),this.i&&4!=n&&wh(this))}},Ye.cancel=function(){this.I=!0,Cc(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mh(3),pi(17)),Cc(this),this.o=2,bh(this)):gT(this,this.Y-n)},(Ye=Tc.prototype).R=function(){zy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return zy(this),this.g.concat()},Ye.get=function(n,e){return qs(this.h,n)?this.h[n]:e},Ye.set=function(n,e){qs(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],c=this.get(a);n.call(e,c,a,this)}};var yT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Xl){this.g=void 0!==e?e:n.g,rg(this,n.j),this.s=n.s,pb(this,n.i),ig(this,n.m),this.l=n.l,e=n.h;var t=new Ic;t.i=e.i,e.g&&(t.g=new Tc(e.g),t.h=e.h),Wy(this,t),this.o=n.o}else n&&(t=String(n).match(yT))?(this.g=!!e,rg(this,t[1]||"",!0),this.s=Bi(t[2]||""),pb(this,t[3]||"",!0),ig(this,t[4]),this.l=Bi(t[5]||"",!0),Wy(this,t[6]||"",!0),this.o=Bi(t[7]||"")):(this.g=!!e,this.h=new Ic(null,this.g))}function nl(n){return new Xl(n)}function rg(n,e,t){n.j=t?Bi(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function pb(n,e,t){n.i=t?Bi(e,!0):e}function ig(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Wy(n,e,t){e instanceof Ic?(n.h=e,function(n,e){e&&!n.j&&(Hs(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(vT(this,r),wT(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ji(e,wS)),n.h=new Ic(e,n.g))}function Qt(n,e,t){n.h.set(e,t)}function Yy(n){return Qt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bi(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ji(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_T),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _T(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ji(e,gb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ji(e,gb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ji(t,"/"==t.charAt(0)?vS:_S,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ji(t,bS)),n.join("")};var gb=/[#\/\?@]/g,_S=/[#\?:]/g,vS=/[#\?]/g,wS=/[#\?@]/g,bS=/#/g;function Ic(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hs(n){n.g||(n.g=new Tc,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vT(n,e){Hs(n),e=Dc(n,e),qs(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,qs((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&zy(n)))}function mb(n,e){return Hs(n),e=Dc(n,e),qs(n.g.h,e)}function wT(n,e,t){vT(n,e),0<t.length&&(n.i=null,n.g.set(Dc(n,e),Wl(t)),n.h+=t.length)}function Dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ET(n){this.l=n||CT,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Ic.prototype).add=function(n,e){Hs(this),this.i=null,n=Dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){Hs(this),this.g.forEach(function(t,r){Zp(t,function(a){n.call(e,a,r,this)},this)},this)},Ye.T=function(){Hs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],c=0;c<a.length;c++)t.push(e[r]);return t},Ye.R=function(n){Hs(this);var e=[];if("string"==typeof n)mb(this,n)&&(e=xy(e,this.g.get(Dc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=xy(e,n[t])}return e},Ye.set=function(n,e){return Hs(this),this.i=null,mb(this,n=Dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var f=a;""!==r[c]&&(f+="="+encodeURIComponent(String(r[c]))),n.push(f)}}return this.i=n.join("&")};var CT=10;function yb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Qy(n){return n.h?1:n.g?n.g.size:0}function Eh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sg(n,e){n.g?n.g.add(e):n.h=e}function _b(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Wl(n.i)}function Jy(){}function TT(){this.g=new Jy}function IT(n,e,t){const r=t||"";try{fb(n,function(a,c){let f=a;Up(a)&&(f=eb(a)),e.push(r+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function og(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(c){}}function ag(n){this.l=n.$b||null,this.j=n.ib||!1}function Xy(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ET.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jy.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},Jy.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},Mr(ag,eg),ag.prototype.g=function(){return new Xy(this.l,this.j)},ag.prototype.i=function(n){return function(){return n}}({}),Mr(Xy,Wr);var wb=0;function AT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function lg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ug(n)}function ug(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=Xy.prototype).open=function(n,e){if(this.readyState!=wb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ug(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lg(this)),this.readyState=wb},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ug(this)),this.g&&(this.readyState=3,ug(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lg(this):ug(this),3==this.readyState&&AT(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,lg(this))},Ye.Ta=function(n){this.g&&(this.response=n,lg(this))},Ye.ha=function(){this.g&&lg(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ES=xt.JSON.parse;function wr(n){Wr.call(this),this.headers=new Tc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ST,this.K=this.L=!1}Mr(wr,Wr);var ST="",CS=/^https?$/i,TS=["POST","PUT"];function DS(n){return"content-type"==n.toLowerCase()}function xT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,RT(n),e_(n)}function RT(n){n.D||(n.D=!0,Yr(n,"complete"),Yr(n,"error"))}function MT(n){if(n.h&&void 0!==jw&&(!n.C[1]||4!=ha(n)||2!=n.ba()))if(n.v&&4==ha(n))sb(n.Fa,0,n);else if(Yr(n,"readystatechange"),4==ha(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var a=String(n.H).match(yT)[1]||null;if(!a&&xt.self&&xt.self.location){var c=xt.self.location.protocol;a=c.substr(0,c.length-1)}r=!CS.test(a?a.toLowerCase():"")}t=r}if(t)Yr(n,"complete"),Yr(n,"success");else{n.m=6;try{var f=2<ha(n)?n.g.statusText:""}catch(w){f=""}n.j=f+" ["+n.ba()+"]",RT(n)}}finally{e_(n)}}}function e_(n,e){if(n.g){NT(n);const t=n.g,r=n.C[0]?Dy:null;n.g=null,n.C=null,e||Yr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function NT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function ha(n){return n.g?n.g.readyState:0}function bb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ST:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function t_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Kl(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qt(n,e,t))}function Ch(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Eb(n){this.za=0,this.l=[],this.h=new gh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ch("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ch("baseRetryDelayMs",5e3,n),this.$a=Ch("retryDelaySeedMs",1e4,n),this.Ya=Ch("forwardChannelMaxRetries",2,n),this.ra=Ch("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ET(n&&n.concurrentRequestLimit),this.Ca=new TT,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function n_(n){if(Cb(n),3==n.G){var e=n.V++,t=nl(n.F);Qt(t,"SID",n.J),Qt(t,"RID",e),Qt(t,"TYPE","terminate"),fg(n,t),(e=new vh(n,n.h,e,void 0)).K=2,e.v=Yy(nl(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=mg(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wh(e)}FT(n)}function cg(n){n.g&&(kT(n),n.g.cancel(),n.g=null)}function Cb(n){cg(n),n.u&&(xt.clearTimeout(n.u),n.u=null),gg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function dg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hg(n)}function hg(n){yb(n.i)||n.m||(n.m=!0,tb(n.Ha,n),n.C=0)}function OT(n,e){var t;t=e?e.m:n.V++;const r=nl(n.F);Qt(r,"SID",n.J),Qt(r,"RID",t),Qt(r,"AID",n.U),fg(n,r),n.o&&n.s&&t_(r,n.o,n.s),t=new vh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Sc(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),sg(n.i,t),Gy(t,r,e)}function fg(n,e){n.j&&fb({},function(t,r){Qt(e,r,t)})}function Sc(n,e,t){t=Math.min(n.l.length,t);var r=n.j?hi(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let y=!0;for(let w=0;w<t;w++){let D=a[w].h;const x=a[w].g;if(D-=c,0>D)c=Math.max(0,a[w].h-100),y=!1;else try{IT(x,f,"req"+D+"_")}catch(M){r&&r(x)}}if(y){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function AS(n){n.g||n.u||(n.Y=1,tb(n.Ga,n),n.A=0)}function pg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Jp(hi(n.Ga,n),ft(n,n.A)),n.A++,0))}function kT(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function Tb(n){n.g=new vh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=nl(n.oa);Qt(e,"RID","rpc"),Qt(e,"SID",n.J),Qt(e,"CI",n.N?"0":"1"),Qt(e,"AID",n.U),fg(n,e),Qt(e,"TYPE","xmlhttp"),n.o&&n.s&&t_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yy(nl(e)),t.s=null,t.U=!0,db(t,n)}function gg(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function SS(n,e){var t=null;if(n.g==e){gg(n),kT(n),n.g=null;var r=2}else{if(!Eh(n.i,e))return;t=e.D,_b(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Yr(r=Qp(),new ab(r,t,e,a)),hg(n)}else AS(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(Qy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Jp(hi(n.Ha,n,e),ft(n,n.C)),n.C++,0)))}(n,e)||2==r&&pg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:xc(n,5);break;case 4:xc(n,10);break;case 3:xc(n,6);break;default:xc(n,2)}}function ft(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function xc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=hi(n.jb,n);t||(t=new Xl("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||rg(t,"https"),Yy(t)),function(n,e){const t=new gh;if(xt.Image){const r=new Image;r.onload=Sy(og,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sy(og,t,r,"TestLoadImage: error",!1,e),r.onabort=Sy(og,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sy(og,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else pi(2);n.G=0,n.j&&n.j.va(e),FT(n),Cb(n)}function FT(n){n.G=0,n.I=-1,n.j&&((0!=vb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Wl(n.l),n.l.length=0),n.j.ua())}function LT(n,e,t){let r=function(n){return n instanceof Xl?nl(n):new Xl(n,void 0)}(t);if(""!=r.i)e&&pb(r,e+"."+r.i),ig(r,r.m);else{const a=xt.location;r=function(n,e,t,r){var a=new Xl(null,void 0);return n&&rg(a,n),e&&pb(a,e),t&&ig(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Kl(n.aa,function(a,c){Qt(r,c,a)}),t=n.sa,(e=n.D)&&t&&Qt(r,e,t),Qt(r,"VER",n.ma),fg(n,r),r}function mg(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new ag({ib:!0}):n.qa)).L=n.H,e}function VT(){}function Rc(){if(bc&&!(10<=Number(nS)))throw Error("Environmental error: no available transport.")}function Si(n,e){Wr.call(this),this.g=new Eb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!tl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mc(this)}function Wn(n){qy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xS(){Hy.call(this),this.status=1}function Mc(n){this.g=n}(Ye=wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_h.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:_h),this.g.onreadystatechange=hi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void xT(this,c)}n=t||"";const a=new Tc(this.headers);r&&fb(r,function(c,f){a.set(f,c)}),r=function(n){e:{var e=DS;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=xt.FormData&&n instanceof xt.FormData,!(0<=zl(TS,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NT(this),0<this.B&&((this.K=function(n){return bc&&nT()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hi(this.pa,this)):this.A=sb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){xT(this,c)}},Ye.pa=function(){void 0!==jw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yr(this,"complete"),Yr(this,"abort"),e_(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),e_(this,!0)),wr.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?MT(this):this.cb())},Ye.cb=function(){MT(this)},Ye.ba=function(){try{return 2<ha(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ES(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=Eb.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new vh(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=qw(c),$w(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sc(this,a,e),Qt(t=nl(this.F),"RID",n),Qt(t,"CVER",22),this.D&&Qt(t,"X-HTTP-Session-Id",this.D),fg(this,t),this.o&&c&&t_(t,this.o,c),sg(this.i,a),this.Ra&&Qt(t,"TYPE","init"),this.ja?(Qt(t,"$req",e),Qt(t,"SID","null"),a.$=!0,Gy(a,t,null)):Gy(a,t,e),this.G=2}}else 3==this.G&&(n?OT(this,n):0==this.l.length||yb(this.i)||OT(this))},Ye.Ga=function(){if(this.u=null,Tb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Jp(hi(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pi(10),cg(this),Tb(this))},Ye.ab=function(){null!=this.v&&(this.v=null,cg(this),pg(this),pi(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),pi(2)):(this.h.info("Failed to ping google.com"),pi(1))},(Ye=VT.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},Rc.prototype.g=function(n,e){return new Si(n,e)},Mr(Si,Wr),Si.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),tb(hi(n.hb,n,e))),pi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=LT(n,null,n.W),hg(n)},Si.prototype.close=function(){n_(this.g)},Si.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,dg(this.g,e)}else this.v?((e={}).__data__=eb(n),dg(this.g,e)):dg(this.g,n)},Si.prototype.M=function(){this.g.j=null,delete this.j,n_(this.g),delete this.g,Si.Z.M.call(this)},Mr(Wn,qy),Mr(xS,Hy),Mr(Mc,VT),Mc.prototype.xa=function(){Yr(this.g,"a")},Mc.prototype.wa=function(n){Yr(this.g,new Wn(n))},Mc.prototype.va=function(n){Yr(this.g,new xS(n))},Mc.prototype.ua=function(){Yr(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,Si.prototype.send=Si.prototype.u,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,Xp.NO_ERROR=0,Xp.TIMEOUT=8,Xp.HTTP_ERROR=6,lb.COMPLETE="complete",hT.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var Ib=Co.createWebChannelTransport=function(){return new Rc},RS=Co.getStatEventTarget=function(){return Qp()},r_=Co.ErrorCode=Xp,UT=Co.EventType=lb,BT=Co.Event=Jl,Db=Co.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},MS=Co.FetchXmlHttpFactory=ag,i_=Co.WebChannel=hT,NS=Co.XhrIo=wr;const Th="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let Ih="9.1.3";const eu=new $l.Yd("@firebase/firestore");function Dh(){return eu.logLevel}function Le(n,...e){if(eu.logLevel<=$l.in.DEBUG){const t=e.map(Nc);eu.debug(`Firestore (${Ih}): ${n}`,...t)}}function lr(n,...e){if(eu.logLevel<=$l.in.ERROR){const t=e.map(Nc);eu.error(`Firestore (${Ih}): ${n}`,...t)}}function yg(n,...e){if(eu.logLevel<=$l.in.WARN){const t=e.map(Nc);eu.warn(`Firestore (${Ih}): ${n}`,...t)}}function Nc(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function wt(n,e){n||rt()}function Ze(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ZT{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class qT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gi.UNAUTHENTICATED))}shutdown(){}}class OS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kS{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=D=>this.i!==a?(a=this.i,t(D)):Promise.resolve();let f=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Nr,e.enqueueRetryable(()=>c(this.currentUser))};const y=()=>{const D=f;e.enqueueRetryable((0,me.Z)(function*(){yield D.promise,yield c(r.currentUser)}))},w=D=>{Le("FirebaseCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Le("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Nr)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new ZT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new gi(e)}}class ZM{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=gi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class qM{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ZM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function HM(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}$s.T=-1;class Ab{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=HM(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function Ah(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function HT(n){return n+"\0"}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Pr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $T(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _g{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_g.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _g?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends _g{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const zT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends _g{construct(e,t,r){return new mi(e,t,r)}static isValidIdentifier(e){return zT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,a+=2}else"`"===y?(f=!f,a++):"."!==y||f?(r+=y,a++):(c(),a++)}if(c(),f)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}class Sh{constructor(e){this.fields=e,e.sort(mi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ah(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Kr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new Kr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const WT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(n){if(wt(!!n),"string"==typeof n){let e=0;const t=WT.exec(n);if(wt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rh(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function s_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function YT(n){const e=n.mapValue.fields.__previous_value__;return s_(e)?YT(e):e}function Oc(n){const e=tu(n.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}function kc(n){return null==n}function vg(n){return 0===n&&1/n==-1/0}function Sb(n){return"number"==typeof n&&Number.isInteger(n)&&!vg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class it{constructor(e){this.path=e}static fromPath(e){return new it(nn.fromString(e))}static fromName(e){return new it(nn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new nn(e.slice()))}}function Fc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?s_(n)?4:10:rt()}function fa(n,e){const t=Fc(n);if(t!==Fc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oc(n).isEqual(Oc(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=tu(r.timestampValue),f=tu(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Rh(n.bytesValue).isEqual(Rh(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return ur(r.geoPointValue.latitude)===ur(a.geoPointValue.latitude)&&ur(r.geoPointValue.longitude)===ur(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return ur(r.integerValue)===ur(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=ur(r.doubleValue),f=ur(a.doubleValue);return c===f?vg(c)===vg(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Ah(n.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:return function(r,a){const c=r.mapValue.fields||{},f=a.mapValue.fields||{};if($T(c)!==$T(f))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(void 0===f[y]||!fa(c[y],f[y])))return!1;return!0}(n,e);default:return rt()}var a}function Lc(n,e){return void 0!==(n.values||[]).find(t=>fa(t,e))}function Mh(n,e){const t=Fc(n),r=Fc(e);if(t!==r)return Lt(t,r);switch(t){case 0:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const f=ur(a.integerValue||a.doubleValue),y=ur(c.integerValue||c.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1}(n,e);case 3:return xb(n.timestampValue,e.timestampValue);case 4:return xb(Oc(n),Oc(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(a,c){const f=Rh(a),y=Rh(c);return f.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),y=c.split("/");for(let w=0;w<f.length&&w<y.length;w++){const D=Lt(f[w],y[w]);if(0!==D)return D}return Lt(f.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Lt(ur(a.latitude),ur(c.latitude));return 0!==f?f:Lt(ur(a.longitude),ur(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],y=c.values||[];for(let w=0;w<f.length&&w<y.length;++w){const D=Mh(f[w],y[w]);if(D)return D}return Lt(f.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const f=a.fields||{},y=Object.keys(f),w=c.fields||{},D=Object.keys(w);y.sort(),D.sort();for(let x=0;x<y.length&&x<D.length;++x){const M=Lt(y[x],D[x]);if(0!==M)return M;const V=Mh(f[y[x]],w[D[x]]);if(0!==V)return V}return Lt(y.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function xb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=tu(n),r=tu(e),a=Lt(t.seconds,r.seconds);return 0!==a?a:Lt(t.nanos,r.nanos)}function Rb(n){return Mb(n)}function Mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=tu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rh(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const f of r.values||[])c?c=!1:a+=",",a+=Mb(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",f=!0;for(const y of a)f?f=!1:c+=",",c+=`${y}:${Mb(r.fields[y])}`;return c+"}"}(n.mapValue):rt();var e}function o_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nb(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function KT(n){return!!n&&"nullValue"in n}function QT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function a_(n){return!!n&&"mapValue"in n}function Nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!a_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(t)}setAll(e){let t=mi.emptyPath(),r={},a=[];e.forEach((f,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,r,a),r={},a=[],t=y.popLast()}f?r[y.lastSegment()]=Nh(f):a.push(y.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());a_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];a_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Pc(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new yi(Nh(this.value))}}function JT(n){const e=[];return Pc(n.fields,(t,r)=>{const a=new mi([t]);if(a_(r)){const c=JT(r.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Sh(e)}class Zn{constructor(e,t,r,a,c){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Zn(e,0,It.min(),yi.empty(),0)}static newFoundDocument(e,t,r){return new Zn(e,1,t,r,0)}static newNoDocument(e,t){return new Zn(e,2,t,yi.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,yi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Zn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class XT{constructor(e,t=null,r=[],a=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=f,this.endAt=y,this.A=null}}function eI(n,e=null,t=[],r=[],a=null,c=null,f=null){return new XT(n,e,t,r,a,c,f)}function wg(n){const e=Ze(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Rb(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),kc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Fb(e.startAt)),e.endAt&&(t+="|ub:",t+=Fb(e.endAt)),e.A=t}return e.A}function Ph(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!Lh(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!fa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l_(n.startAt,e.startAt)&&l_(n.endAt,e.endAt)}function Oh(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class xi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new LS(e,t,r):"array-contains"===t?new nI(e,r):"in"===t?new US(e,r):"not-in"===t?new rI(e,r):"array-contains-any"===t?new iI(e,r):new xi(e,t,r)}static R(e,t,r){return"in"===t?new VS(e,r):new kb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Mh(t,this.value)):null!==t&&Fc(this.value)===Fc(t)&&this.P(Mh(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class LS extends xi{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.P(t)}}class VS extends xi{constructor(e,t){super(e,"in",t),this.keys=tI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kb extends xi{constructor(e,t){super(e,"not-in",t),this.keys=tI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class nI extends xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pb(t)&&Lc(t.arrayValue,this.value)}}class US extends xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lc(this.value.arrayValue,t)}}class rI extends xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lc(this.value.arrayValue,t)}}class iI extends xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}}class kh{constructor(e,t){this.position=e,this.before=t}}function Fb(n){return`${n.before?"b":"a"}:${n.position.map(e=>Rb(e)).join(",")}`}class Fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lh(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function BS(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],f=n.position[a];if(r=c.field.isKeyField()?it.comparator(it.fromName(f.referenceValue),t.key):Mh(f,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function l_(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fa(n.position[t],e.position[t]))return!1;return!0}class Gs{constructor(e,t=null,r=[],a=[],c=null,f="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=w,this.V=null,this.S=null}}function sI(n,e,t,r,a,c,f,y){return new Gs(n,e,t,r,a,c,f,y)}function Io(n){return new Gs(n)}function u_(n){return!kc(n.limit)&&"F"===n.limitType}function Lb(n){return!kc(n.limit)&&"L"===n.limitType}function Vb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zs(n){for(const e of n.filters)if(e.v())return e.field;return null}function c_(n){return null!==n.collectionGroup}function bg(n){const e=Ze(n);if(null===e.V){e.V=[];const t=zs(e),r=Vb(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new Fh(t)),e.V.push(new Fh(mi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Fh(mi.keyField(),c))}}}return e.V}function Zi(n){const e=Ze(n);if(!e.S)if("F"===e.limitType)e.S=eI(e.path,e.collectionGroup,bg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of bg(e))t.push(new Fh(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new kh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new kh(e.startAt.position,!e.startAt.before):null;e.S=eI(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function oI(n,e,t){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eg(n,e){return Ph(Zi(n),Zi(e))&&n.limitType===e.limitType}function jS(n){return`${wg(Zi(n))}|lt:${n.limitType}`}function Ub(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Rb(r.value)}`;var r}).join(", ")}]`),kc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Fb(n.startAt)),n.endAt&&(e+=", endAt: "+Fb(n.endAt)),`Target(${e})`}(Zi(n))}; limitType=${n.limitType})`}function Cg(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):it.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!BS(t.startAt,bg(t),r)||t.endAt&&BS(t.endAt,bg(t),r)));var t,r}function aI(n){return(e,t)=>{let r=!1;for(const a of bg(n)){const c=Bb(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function Bb(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(a,c,f){const y=c.data.field(a),w=f.data.field(a);return null!==y&&null!==w?Mh(y,w):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function jb(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(e)?"-0":e}}function d_(n){return{integerValue:""+n}}function Zb(n,e){return Sb(e)?d_(e):jb(n,e)}class h_{constructor(){this._=void 0}}function $M(n,e,t){return n instanceof Vh?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof nu?qb(n,e):n instanceof ru?uI(n,e):function(r,a){const c=lI(r,a),f=Hb(c)+Hb(r.C);return Nb(c)&&Nb(r.C)?d_(f):jb(r.N,f)}(n,e)}function ZS(n,e,t){return n instanceof nu?qb(n,e):n instanceof ru?uI(n,e):t}function lI(n,e){return n instanceof Uh?Nb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vh extends h_{}class nu extends h_{constructor(e){super(),this.elements=e}}function qb(n,e){const t=Tg(e);for(const r of n.elements)t.some(a=>fa(a,r))||t.push(r);return{arrayValue:{values:t}}}class ru extends h_{constructor(e){super(),this.elements=e}}function uI(n,e){let t=Tg(e);for(const r of n.elements)t=t.filter(a=>!fa(a,r));return{arrayValue:{values:t}}}class Uh extends h_{constructor(e,t){super(),this.N=e,this.C=t}}function Hb(n){return ur(n.integerValue||n.doubleValue)}function Tg(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ig{constructor(e,t){this.field=e,this.transform=t}}class f_{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class p_{}function qS(n,e,t){n instanceof Dg?function(r,a,c){const f=r.value.clone(),y=gI(r.fieldTransforms,a,c.transformResults);f.setAll(y),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof su?function(r,a,c){if(!iu(r.precondition,a))return void a.convertToUnknownDocument(c.version);const f=gI(r.fieldTransforms,a,c.transformResults),y=a.data;y.setAll(pI(r)),y.setAll(f),a.convertToFoundDocument(c.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dI(n,e,t){var a;n instanceof Dg?function(r,a,c){if(!iu(r.precondition,a))return;const f=r.value.clone(),y=mI(r.fieldTransforms,c,a);f.setAll(y),a.convertToFoundDocument(fI(a),f).setHasLocalMutations()}(n,e,t):n instanceof su?function(r,a,c){if(!iu(r.precondition,a))return;const f=mI(r.fieldTransforms,c,a),y=a.data;y.setAll(pI(r)),y.setAll(f),a.convertToFoundDocument(fI(a),y).setHasLocalMutations()}(n,e,t):iu(n.precondition,a=e)&&a.convertToNoDocument(It.min())}function HS(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=lI(r.transform,a||null);null!=c&&(null==t&&(t=yi.empty()),t.set(r.field,c))}return t||null}function hI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ah(t,r,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof nu&&r instanceof nu||t instanceof ru&&r instanceof ru?Ah(t.elements,r.elements,fa):t instanceof Uh&&r instanceof Uh?fa(t.C,r.C):t instanceof Vh&&r instanceof Vh);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function fI(n){return n.isFoundDocument()?n.version:It.min()}class Dg extends p_{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class su extends p_{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}}function pI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gI(n,e,t){const r=new Map;wt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],f=c.transform,y=e.data.field(c.field);r.set(c.field,ZS(f,y,t[a]))}return r}function mI(n,e,t){const r=new Map;for(const a of n){const c=a.transform,f=t.data.field(a.field);r.set(a.field,$M(c,f,e))}return r}class Ag extends p_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class yI extends p_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class $S{constructor(e){this.count=e}}var qn,Wt;function _I(n){switch(n){default:return rt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function vI(n){if(void 0===n)return lr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case qn.OK:return ye.OK;case qn.CANCELLED:return ye.CANCELLED;case qn.UNKNOWN:return ye.UNKNOWN;case qn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case qn.INTERNAL:return ye.INTERNAL;case qn.UNAVAILABLE:return ye.UNAVAILABLE;case qn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case qn.NOT_FOUND:return ye.NOT_FOUND;case qn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case qn.ABORTED:return ye.ABORTED;case qn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case qn.DATA_LOSS:return ye.DATA_LOSS;default:return rt()}}(Wt=qn||(qn={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class nr{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}}class pa{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=null!=r?r:Qr.RED,this.left=null!=a?a:Qr.EMPTY,this.right=null!=c?c:Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new Qr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Qr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GS(this.data.getIterator())}getIteratorFrom(e){return new GS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class GS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const zS=new nr(it.comparator);function qi(){return zS}const WS=new nr(it.comparator);function $b(){return WS}const wI=new nr(it.comparator);function Gb(){return wI}const zb=new rr(it.comparator);function on(...n){let e=zb;for(const t of n)e=e.add(t);return e}const bI=new rr(Lt);function g_(){return bI}class Sg{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sg(It.min(),r,g_(),qi(),on())}}class Bh{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Bh(Kr.EMPTY_BYTE_STRING,t,on(),on(),on())}}class m_{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class Wb{constructor(e,t){this.targetId=e,this.O=t}}class xg{constructor(e,t,r=Kr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Rg{constructor(){this.F=0,this.M=rn(),this.L=Kr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=on(),t=on(),r=on();return this.M.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:rt()}}),new Bh(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=rn()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class GM{constructor(e){this.tt=e,this.et=new Map,this.nt=qi(),this.st=jh(),this.it=new rr(Lt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const c=a.target;if(Oh(c))if(0===r){const f=new it(c.path);this.at(t,f,Zn.newNoDocument(f,It.min()))}else wt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,f)=>{const y=this.dt(f);if(y){if(c.current&&Oh(y.target)){const w=new it(y.target.path);null!==this.nt.get(w)||this.gt(f,w)||this.at(f,w,Zn.newNoDocument(w,e))}c.K&&(t.set(f,c.W()),c.G())}});let r=on();this.st.forEach((c,f)=>{let y=!0;f.forEachWhile(w=>{const D=this.dt(w);return!D||2===D.purpose||(y=!1,!1)}),y&&(r=r.add(c))});const a=new Sg(e,t,this.it,this.nt,r);return this.nt=qi(),this.st=jh(),this.it=new rr(Lt),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Rg,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new rr(Lt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Rg),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function jh(){return new nr(it.comparator)}function rn(){return new nr(it.comparator)}const ou={asc:"ASCENDING",desc:"DESCENDING"},Zh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mg{constructor(e,t){this.databaseId=e,this.D=t}}function y_(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dt(n,e){return n.D?e.toBase64():e.toUint8Array()}function Ws(n,e){return y_(n,e.toTimestamp())}function br(n){return wt(!!n),It.fromTimestamp(function(e){const t=tu(e);return new Pr(t.seconds,t.nanos)}(n))}function rl(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YS(n){const e=nn.fromString(n);return wt(Qb(e)),e}function qh(n,e){return rl(n.databaseId,e.path)}function Do(n,e){const t=YS(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(vs(t))}function EI(n,e){return rl(n.databaseId,e)}function CI(n){const e=YS(n);return 4===e.length?nn.emptyPath():vs(e)}function Ng(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vs(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Hn(n,e,t){return{name:qh(n,e),fields:t.value.mapValue.fields}}function Ys(n,e,t){const r=Do(n,e.name),a=br(e.updateTime),c=new yi({mapValue:{fields:e.fields}}),f=Zn.newFoundDocument(r,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Pg(n,e){let t;if(e instanceof Dg)t={update:Hn(n,e.key,e.value)};else if(e instanceof Ag)t={delete:qh(n,e.key)};else if(e instanceof su)t={update:Hn(n,e.key,e.data),updateMask:SI(e.fieldMask)};else{if(!(e instanceof yI))return rt();t={verify:qh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const f=c.transform;if(f instanceof Vh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Uh)return{fieldPath:c.field.canonicalString(),increment:f.C};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Ws(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:rt()),t;var a}function __(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Yn.updateTime(br(a.updateTime)):void 0!==a.exists?Yn.exists(a.exists):Yn.none():Yn.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let y=null;"setToServerValue"in f?(wt("REQUEST_TIME"===f.setToServerValue),y=new Vh):"appendMissingElements"in f?y=new nu(f.appendMissingElements.values||[]):"removeAllFromArray"in f?y=new ru(f.removeAllFromArray.values||[]):"increment"in f?y=new Uh(c,f.increment):rt();const w=mi.fromServerFormat(f.fieldPath);return new Ig(w,y)}(n,a)):[];var a;if(e.update){const a=Do(n,e.update.name),c=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Sh((e.updateMask.fieldPaths||[]).map(D=>mi.fromServerFormat(D)));return new su(a,c,f,t,r)}return new Dg(a,c,t,r)}if(e.delete){const a=Do(n,e.delete);return new Ag(a,t)}if(e.verify){const a=Do(n,e.verify);return new yI(a,t)}return rt()}function $h(n,e){return{documents:[EI(n,e.path)]}}function II(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=EI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=EI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0===y.length)return;const w=y.map(D=>function(x){if("=="===x.op){if(QT(x.value))return{unaryFilter:{field:Ao(x.field),op:"IS_NAN"}};if(KT(x.value))return{unaryFilter:{field:Ao(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(QT(x.value))return{unaryFilter:{field:Ao(x.field),op:"IS_NOT_NAN"}};if(KT(x.value))return{unaryFilter:{field:Ao(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(x.field),op:DI(x.op),value:x.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:Ao((D=w).field),direction:Kb(D.dir)};var D})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=(w=e.limit,n.D||kc(w)?w:{value:w});var w;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=v_(e.startAt)),e.endAt&&(t.structuredQuery.endAt=v_(e.endAt)),t}function au(n){let e=CI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){wt(1===r);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=Yb(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(x=>{return new Fh(zh((M=x).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let y=null;t.limit&&(y=function(x){let M;return M="object"==typeof x?x.value:x,kc(M)?null:M}(t.limit));let w=null;t.startAt&&(w=Gh(t.startAt));let D=null;return t.endAt&&(D=Gh(t.endAt)),sI(e,a,f,c,y,"F",w,D)}function Yb(n){return n?void 0!==n.unaryFilter?[AI(n)]:void 0!==n.fieldFilter?[w_(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Yb(e)).reduce((e,t)=>e.concat(t)):rt():[]}function v_(n){return{before:n.before,values:n.position}}function Gh(n){return new kh(n.values||[],!!n.before)}function Kb(n){return ou[n]}function DI(n){return Zh[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function zh(n){return mi.fromServerFormat(n.fieldPath)}function w_(n){return xi.create(zh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function AI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=zh(n.unaryFilter.field);return xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=zh(n.unaryFilter.field);return xi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zh(n.unaryFilter.field);return xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=zh(n.unaryFilter.field);return xi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function SI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Xi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=b_(e)),e=JS(n.get(t),e);return b_(e)}function JS(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function b_(n){return n+"\x01\x01"}function So(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nn.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const f=n.indexOf("\x01",c);switch((f<0||f>t)&&rt(),n.charAt(f+1)){case"\x01":const y=n.substring(c,f);let w;0===a.length?w=y:(a+=y,w=a,a=""),r.push(w);break;case"\x10":a+=n.substring(c,f),a+="\0";break;case"\x11":a+=n.substring(c,f+1);break;default:rt()}c=f+2}return new nn(r)}class zM{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Ks{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Ks.store="owner",Ks.key="owner";class pt{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}pt.store="mutationQueues",pt.keyPath="userId";class $n{constructor(e,t,r,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=c}}$n.store="mutations",$n.keyPath="batchId",$n.userMutationsIndex="userMutationsIndex",$n.userMutationsKeyPath=["userId","batchId"];class Er{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Xi(t)]}static key(e,t,r){return[e,Xi(t),r]}}Er.store="documentMutations",Er.PLACEHOLDER=new Er;class XS{constructor(e,t){this.path=e,this.readTime=t}}class ex{constructor(e,t){this.path=e,this.version=t}}class ir{constructor(e,t,r,a,c,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=f}}ir.store="remoteDocuments",ir.readTimeIndex="readTimeIndex",ir.readTimeIndexPath="readTime",ir.collectionReadTimeIndex="collectionReadTimeIndex",ir.collectionReadTimeIndexPath=["parentPath","readTime"];class il{constructor(e){this.byteSize=e}}il.store="remoteDocumentGlobal",il.key="remoteDocumentGlobalKey";class ws{constructor(e,t,r,a,c,f,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=y}}ws.store="targets",ws.keyPath="targetId",ws.queryTargetsIndexName="queryTargetsIndex",ws.queryTargetsKeyPath=["canonicalId","targetId"];class _i{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}_i.store="targetDocuments",_i.keyPath=["targetId","path"],_i.documentTargetsIndex="documentTargetsIndex",_i.documentTargetsKeyPath=["path","targetId"];class mn{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}mn.key="targetGlobalKey",mn.store="targetGlobal";class Vc{constructor(e,t){this.collectionId=e,this.parent=t}}Vc.store="collectionParents",Vc.keyPath=["collectionId","parent"];class sl{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}sl.store="clientMetadata",sl.keyPath="clientId";class lu{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}lu.store="bundles",lu.keyPath="bundleId";class Wh{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Wh.store="namedQueries",Wh.keyPath="name";const tx=[pt.store,$n.store,Er.store,ir.store,ws.store,Ks.store,mn.store,_i.store,sl.store,il.store,Vc.store,lu.store,Wh.store],xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,r)=>{t(e)})}static reject(e){return new Me((t,r)=>{r(e)})}static waitFor(e){return new Me((t,r)=>{let a=0,c=0,f=!1;e.forEach(y=>{++a,y.next(()=>{++c,f&&c===a&&t()},w=>r(w))}),f=!0,c===a&&t()})}static or(e){let t=Me.resolve(!1);for(const r of e)t=t.next(a=>a?Me.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}}class E_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Nr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Og(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=Xb(r.target.error);this.Et.reject(new Og(e,a))}}static open(e,t,r,a){try{return new E_(t,e.transaction(a,r))}catch(c){throw new Og(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Jb(t)}}class bs{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===bs.Rt((0,Rt.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Uc(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Rt.hl)())return!1;if(bs.Pt())return!0;const e=(0,Rt.z$)(),t=bs.Rt(e),r=0<t&&t<10,a=bs.vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,me.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{r(f.target.result)},c.onblocked=()=>{a(new Og(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const y=f.target.error;a("VersionError"===y.name?new Ne(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Ne(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Og(e,y))},c.onupgradeneeded=f=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.At.Ct(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var c=this;return(0,me.Z)(function*(){const f="readonly"===t;let y=0;for(;;){++y;try{c.db=yield c.Dt(e);const w=E_.open(c.db,e,f?"readonly":"readwrite",r),D=a(w).catch(x=>(w.abort(x),Me.reject(x))).toPromise();return D.catch(()=>{}),yield w.It,D}catch(w){const D="FirebaseError"!==w.name&&y<3;if(Le("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),c.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nx{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Uc(this.kt.delete())}}class Og extends Ne{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uu(n){return"IndexedDbTransactionError"===n.name}class Jb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Uc(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Uc(this.store.add(e))}get(e){return Uc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Uc(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Uc(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(c,f)=>{a.push(f)}).next(()=>a)}Ut(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(c,f,y)=>y.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Me((r,a)=>{t.onerror=c=>{const f=Xb(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(y=>{y?f.continue():r()}):r()}})}Bt(e,t){const r=[];return new Me((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const y=f.target.result;if(!y)return void a();const w=new nx(y),D=t(y.primaryKey,y.value,w);if(D instanceof Me){const x=D.catch(M=>(w.done(),Me.reject(M)));r.push(x)}w.isDone?a():null===w.Ft?y.continue():y.continue(w.Ft)}}).next(()=>Me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uc(n){return new Me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=Xb(r.target.error);t(a)}})}let rx=!1;function Xb(n){const e=bs.Rt((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rx||(rx=!0,setTimeout(()=>{throw r},0)),r}}return n}class MI extends RI{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function es(n,e){const t=Ze(n);return bs.St(t.Qt,e)}class e0{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&qS(c,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&dI(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&dI(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&Ah(this.mutations,e.mutations,(t,r)=>hI(t,r))&&Ah(this.baseMutations,e.baseMutations,(t,r)=>hI(t,r))}}class t0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){wt(e.mutations.length===r.length);let a=Gb();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,r[f].version);return new t0(e,t,r,a)}}class cu{constructor(e,t,r,a,c=It.min(),f=It.min(),y=Kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Yh{constructor(e){this.Wt=e}}function n0(n,e){if(e.document)return Ys(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=it.fromSegments(e.noDocument.path),r=Bc(e.noDocument.readTime),a=Zn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=it.fromSegments(e.unknownDocument.path),r=Bc(e.unknownDocument.version);return Zn.newUnknownDocument(t,r)}return rt()}function NI(n,e,t){const r=C_(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:qh(y=n.Wt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:y_(y,w.version.toTimestamp())};return new ir(null,null,c,e.hasCommittedMutations,r,a)}var y,w;if(e.isNoDocument()){const c=e.key.path.toArray(),f=kg(e.version),y=e.hasCommittedMutations;return new ir(null,new XS(c,f),null,y,r,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),f=kg(e.version);return new ir(new ex(c,f),null,null,!0,r,a)}return rt()}function C_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Kh(n){const e=new Pr(n[0],n[1]);return It.fromTimestamp(e)}function kg(n){const e=n.toTimestamp();return new zM(e.seconds,e.nanoseconds)}function Bc(n){const e=new Pr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function Qh(n,e){const t=(e.baseMutations||[]).map(c=>__(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const f=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(f.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>__(n.Wt,c)),a=Pr.fromMillis(e.localWriteTimeMs);return new e0(e.batchId,a,t,r)}function Fg(n){const e=Bc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bc(n.lastLimboFreeSnapshotVersion):It.min();let r;var a;return void 0!==n.query.documents?(wt(1===(a=n.query).documents.length),r=Zi(Io(CI(a.documents[0])))):r=Zi(au(n.query)),new cu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Kr.fromBase64String(n.resumeToken))}function PI(n,e){const t=kg(e.snapshotVersion),r=kg(e.lastLimboFreeSnapshotVersion);let a;a=Oh(e.target)?$h(n.Wt,e.target):II(n.Wt,e.target);const c=e.resumeToken.toBase64();return new ws(e.targetId,wg(e.target),t,c,e.sequenceNumber,r,a)}function r0(n){const e=au({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oI(e,e.limit,"L"):e}class ix{getBundleMetadata(e,t){return s0(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Bc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return s0(e).put({bundleId:(r=t).id,createTime:kg(br(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return OI(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:r0(a.bundledQuery),readTime:Bc(a.readTime)};var a})}saveNamedQuery(e,t){return OI(e).put({name:(r=t).name,readTime:kg(br(r.readTime)),bundledQuery:r.bundledQuery});var r}}function s0(n){return es(n,lu.store)}function OI(n){return es(n,Wh.store)}class sx{constructor(){this.Gt=new kI}addToCollectionParentIndex(e,t){return this.Gt.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Gt.getEntries(t))}}class kI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new rr(nn.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new rr(nn.comparator)).toArray()}}class WM{constructor(){this.zt=new kI}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:r,parent:Xi(a)};return ox(e).put(c)}return Me.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[HT(t),""],!1,!0);return ox(e).Lt(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;r.push(So(f.parent))}return r})}}function ox(n){return es(n,Vc.store)}const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function FI(n,e,t){const r=n.store($n.store),a=n.store(Er.store),c=[],f=IDBKeyRange.only(t.batchId);let y=0;const w=r.Kt({range:f},(x,M,V)=>(y++,V.delete()));c.push(w.next(()=>{wt(1===y)}));const D=[];for(const x of t.mutations){const M=Er.key(e,x.key.path,t.batchId);c.push(a.delete(M)),D.push(x.key)}return Me.waitFor(c).next(()=>D)}function I_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class o0{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){wt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new o0(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(e).Kt({index:$n.userMutationsIndex,range:r},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const c=jc(e),f=du(e);return f.add({}).next(y=>{wt("number"==typeof y);const w=new e0(y,t,r,a),D=function(V,q,re){const De=re.baseMutations.map(qe=>Pg(V.Wt,qe)),Fe=re.mutations.map(qe=>Pg(V.Wt,qe));return new $n(q,re.batchId,re.localWriteTime.toMillis(),De,Fe)}(this.N,this.userId,w),x=[];let M=new rr((V,q)=>Lt(V.canonicalString(),q.canonicalString()));for(const V of a){const q=Er.key(this.userId,V.key.path,y);M=M.add(V.key.path.popLast()),x.push(f.put(D)),x.push(c.put(q,Er.PLACEHOLDER))}return M.forEach(V=>{x.push(this.Ht.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Jt[y]=w.keys()}),Me.waitFor(x).next(()=>w)})}lookupMutationBatch(e,t){return du(e).get(t).next(r=>r?(wt(r.userId===this.userId),Qh(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Me.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return du(e).Kt({index:$n.userMutationsIndex,range:a},(f,y,w)=>{y.userId===this.userId&&(wt(y.batchId>=r),c=Qh(this.N,y)),w.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return du(e).Kt({index:$n.userMutationsIndex,range:t,reverse:!0},(a,c,f)=>{r=c.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(e).Lt($n.userMutationsIndex,t).next(r=>r.map(a=>Qh(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Er.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return jc(e).Kt({range:a},(f,y,w)=>{const[D,x,M]=f,V=So(x);if(D===this.userId&&t.path.isEqual(V))return du(e).get(M).next(q=>{if(!q)throw rt();wt(q.userId===this.userId),c.push(Qh(this.N,q))});w.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Lt);const a=[];return t.forEach(c=>{const f=Er.prefixForPath(this.userId,c.path),y=IDBKeyRange.lowerBound(f),w=jc(e).Kt({range:y},(D,x,M)=>{const[V,q,re]=D,De=So(q);V===this.userId&&c.path.isEqual(De)?r=r.add(re):M.done()});a.push(w)}),Me.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=Er.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(c);let y=new rr(Lt);return jc(e).Kt({range:f},(w,D,x)=>{const[M,V,q]=w,re=So(V);M===this.userId&&r.isPrefixOf(re)?re.length===a&&(y=y.add(q)):x.done()}).next(()=>this.Zt(e,y))}Zt(e,t){const r=[],a=[];return t.forEach(c=>{a.push(du(e).get(c).next(f=>{if(null===f)throw rt();wt(f.userId===this.userId),r.push(Qh(this.N,f))}))}),Me.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return FI(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Me.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Me.resolve();const r=IDBKeyRange.lowerBound(Er.prefixForUser(this.userId)),a=[];return jc(e).Kt({range:r},(c,f,y)=>{if(c[0]===this.userId){const w=So(c[1]);a.push(w)}else y.done()}).next(()=>{wt(0===a.length)})})}containsKey(e,t){return LI(e,this.userId,t)}ee(e){return D_(e).get(this.userId).next(t=>t||new pt(this.userId,-1,""))}}function LI(n,e,t){const r=Er.prefixForPath(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let f=!1;return jc(n).Kt({range:c,qt:!0},(y,w,D)=>{const[x,M,V]=y;x===e&&M===a&&(f=!0),D.done()}).next(()=>f)}function du(n){return es(n,$n.store)}function jc(n){return es(n,Er.store)}function D_(n){return es(n,pt.store)}class Zc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Zc(0)}static ie(){return new Zc(-1)}}class Jh{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Zc(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>It.fromTimestamp(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ce(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cr(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const c=[];return cr(e).Kt((f,y)=>{const w=Fg(y);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(a++,c.push(this.removeTargetData(e,w)))}).next(()=>Me.waitFor(c)).next(()=>a)}forEachTarget(e,t){return cr(e).Kt((r,a)=>{const c=Fg(a);t(c)})}re(e){return a0(e).get(mn.key).next(t=>(wt(null!==t),t))}oe(e,t){return a0(e).put(mn.key,t)}ae(e,t){return cr(e).put(PI(this.N,t))}ce(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wg(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return cr(e).Kt({range:a,index:ws.queryTargetsIndexName},(f,y,w)=>{const D=Fg(y);Ph(t,D.target)&&(c=D,w.done())}).next(()=>c)}addMatchingKeys(e,t,r){const a=[],c=Jr(e);return t.forEach(f=>{const y=Xi(f.path);a.push(c.put(new _i(r,y))),a.push(this.referenceDelegate.addReference(e,r,f))}),Me.waitFor(a)}removeMatchingKeys(e,t,r){const a=Jr(e);return Me.forEach(t,c=>{const f=Xi(c.path);return Me.waitFor([a.delete([r,f]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Jr(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Jr(e);let c=on();return a.Kt({range:r,qt:!0},(f,y,w)=>{const D=So(f[1]),x=new it(D);c=c.add(x)}).next(()=>c)}containsKey(e,t){const r=Xi(t.path),a=IDBKeyRange.bound([r],[HT(r)],!1,!0);let c=0;return Jr(e).Kt({index:_i.documentTargetsIndex,qt:!0,range:a},([f,y],w,D)=>{0!==f&&(c++,D.done())}).next(()=>c>0)}Tt(e,t){return cr(e).get(t).next(r=>r?Fg(r):null)}}function cr(n){return es(n,ws.store)}function a0(n){return es(n,mn.store)}function Jr(n){return es(n,_i.store)}function ol(n){return l0.apply(this,arguments)}function l0(){return(l0=(0,me.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==xI)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function u0([n,e],[t,r]){const a=Lt(n,t);return 0===a?Lt(e,r):a}class VI{constructor(e){this.ue=e,this.buffer=new rr(u0),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();u0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){uu(a)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield ol(a)}yield t._e(e)}))}}class ax{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Me.resolve($s.T);const r=new VI(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(T_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,c,f,y,w,D;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,f=Date.now(),this.nthSequenceNumber(e,a))).next(M=>(r=M,y=Date.now(),this.removeTargets(e,r,t))).next(M=>(c=M,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(D=Date.now(),Dh()<=$l.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-x}ms\n\tDetermined least recently used ${a} in `+(y-f)+`ms\n\tRemoved ${c} targets in `+(w-y)+`ms\n\tRemoved ${M} documents in `+(D-w)+`ms\nTotal Duration: ${D-x}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:M})))}}class lx{constructor(e,t){this.db=e,this.garbageCollector=new ax(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return A_(e,r)}removeReference(e,t,r){return A_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return A_(e,t)}Ie(e,t){return function(r,a){let c=!1;return D_(r).jt(f=>LI(r,f,a).next(y=>(y&&(c=!0),Me.resolve(!y)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ee(e,(f,y)=>{if(y<=t){const w=this.Ie(e,f).next(D=>{if(!D)return c++,r.getEntry(e,f).next(()=>(r.removeEntry(f),Jr(e).delete([0,Xi(f.path)])))});a.push(w)}}).next(()=>Me.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return A_(e,t)}Ee(e,t){const r=Jr(e);let a,c=$s.T;return r.Kt({index:_i.documentTargetsIndex},([f,y],{path:w,sequenceNumber:D})=>{0===f?(c!==$s.T&&t(new it(So(a)),c),c=D,a=w):c=$s.T}).next(()=>{c!==$s.T&&t(new it(So(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function A_(n,e){return Jr(n).put((r=n.currentSequenceNumber,new _i(0,Xi(e.path),r)));var r}class qc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){Pc(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return GT(this.inner)}}class BI{constructor(){this.changes=new qc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:It.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Zn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Me.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YM{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Es(e).put(c0(t),r)}removeEntry(e,t){const r=Es(e),a=c0(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Es(e).get(c0(t)).next(r=>this.Re(t,r))}be(e,t){return Es(e).get(c0(t)).next(r=>({document:this.Re(t,r),size:I_(r)}))}getEntries(e,t){let r=qi();return this.Pe(e,t,(a,c)=>{const f=this.Re(a,c);r=r.insert(a,f)}).next(()=>r)}ve(e,t){let r=qi(),a=new nr(it.comparator);return this.Pe(e,t,(c,f)=>{const y=this.Re(c,f);r=r.insert(c,y),a=a.insert(c,I_(f))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return Me.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let f=c.getNext();return Es(e).Kt({range:a},(y,w,D)=>{const x=it.fromSegments(y);for(;f&&it.comparator(f,x)<0;)r(f,null),f=c.getNext();f&&f.isEqual(x)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?D.Mt(f.path.toArray()):D.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=qi();const c=t.path.length+1,f={};if(r.isEqual(It.min())){const y=t.path.toArray();f.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),w=C_(r);f.range=IDBKeyRange.lowerBound([y,w],!0),f.index=ir.collectionReadTimeIndex}return Es(e).Kt(f,(y,w,D)=>{if(y.length!==c)return;const x=n0(this.N,w);t.path.isPrefixOf(x.key.path)?Cg(t,x)&&(a=a.insert(x.key,x)):D.done()}).next(()=>a)}newChangeBuffer(e){return new ux(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jI(e).get(il.key).next(t=>(wt(!!t),t))}Ae(e,t){return jI(e).put(il.key,t)}Re(e,t){if(t){const r=n0(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Zn.newInvalidDocument(e)}}class ux extends BI{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new qc(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new rr((c,f)=>Lt(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const y=this.De.get(c);if(f.document.isValidDocument()){const w=NI(this.Se.N,f.document,this.getReadTime(c));a=a.add(c.path.popLast()),r+=I_(w)-y,t.push(this.Se.addEntry(e,c,w))}else if(r-=y,this.trackRemovals){const w=NI(this.Se.N,Zn.newNoDocument(c,It.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,w))}else t.push(this.Se.removeEntry(e,c))}),a.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,r)),Me.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((c,f)=>{this.De.set(c,f)}),r))}}function jI(n){return es(n,il.store)}function Es(n){return es(n,ir.store)}function c0(n){return n.path.toArray()}class ZI{constructor(e){this.N=e}Ct(e,t,r,a){wt(r<a&&r>=0&&a<=11);const c=new E_("createOrUpgrade",t);var y;r<1&&a>=1&&(e.createObjectStore(Ks.store),(y=e).createObjectStore(pt.store,{keyPath:pt.keyPath}),y.createObjectStore($n.store,{keyPath:$n.keyPath,autoIncrement:!0}).createIndex($n.userMutationsIndex,$n.userMutationsKeyPath,{unique:!0}),y.createObjectStore(Er.store),qI(e),function(y){y.createObjectStore(ir.store)}(e));let f=Me.resolve();return r<3&&a>=3&&(0!==r&&(function(y){y.deleteObjectStore(_i.store),y.deleteObjectStore(ws.store),y.deleteObjectStore(mn.store)}(e),qI(e)),f=f.next(()=>function(y){const w=y.store(mn.store),D=new mn(0,0,It.min().toTimestamp(),0);return w.put(mn.key,D)}(c))),r<4&&a>=4&&(0!==r&&(f=f.next(()=>function(y,w){return w.store($n.store).Lt().next(D=>{y.deleteObjectStore($n.store),y.createObjectStore($n.store,{keyPath:$n.keyPath,autoIncrement:!0}).createIndex($n.userMutationsIndex,$n.userMutationsKeyPath,{unique:!0});const x=w.store($n.store),M=D.map(V=>x.put(V));return Me.waitFor(M)})}(e,c))),f=f.next(()=>{!function(y){y.createObjectStore(sl.store,{keyPath:sl.keyPath})}(e)})),r<5&&a>=5&&(f=f.next(()=>this.Ce(c))),r<6&&a>=6&&(f=f.next(()=>(function(y){y.createObjectStore(il.store)}(e),this.Ne(c)))),r<7&&a>=7&&(f=f.next(()=>this.xe(c))),r<8&&a>=8&&(f=f.next(()=>this.ke(e,c))),r<9&&a>=9&&(f=f.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const w=y.objectStore(ir.store);w.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),w.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(f=f.next(()=>this.$e(c))),r<11&&a>=11&&(f=f.next(()=>{(function(y){y.createObjectStore(lu.store,{keyPath:lu.keyPath})})(e),function(y){y.createObjectStore(Wh.store,{keyPath:Wh.keyPath})}(e)})),f}Ne(e){let t=0;return e.store(ir.store).Kt((r,a)=>{t+=I_(a)}).next(()=>{const r=new il(t);return e.store(il.store).put(il.key,r)})}Ce(e){const t=e.store(pt.store),r=e.store($n.store);return t.Lt().next(a=>Me.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt($n.userMutationsIndex,f).next(y=>Me.forEach(y,w=>{wt(w.userId===c.userId);const D=Qh(this.N,w);return FI(e,c.userId,D).next(()=>{})}))}))}xe(e){const t=e.store(_i.store),r=e.store(ir.store);return e.store(mn.store).get(mn.key).next(a=>{const c=[];return r.Kt((f,y)=>{const w=new nn(f),D=[0,Xi(w)];c.push(t.get(D).next(x=>x?Me.resolve():t.put(new _i(0,Xi(w),a.highestListenSequenceNumber))))}).next(()=>Me.waitFor(c))})}ke(e,t){e.createObjectStore(Vc.store,{keyPath:Vc.keyPath});const r=t.store(Vc.store),a=new kI,c=f=>{if(a.add(f)){const y=f.lastSegment(),w=f.popLast();return r.put({collectionId:y,parent:Xi(w)})}};return t.store(ir.store).Kt({qt:!0},(f,y)=>{const w=new nn(f);return c(w.popLast())}).next(()=>t.store(Er.store).Kt({qt:!0},([f,y,w],D)=>{const x=So(y);return c(x.popLast())}))}$e(e){const t=e.store(ws.store);return t.Kt((r,a)=>{const c=Fg(a),f=PI(this.N,c);return t.put(f)})}}function qI(n){n.createObjectStore(_i.store,{keyPath:_i.keyPath}).createIndex(_i.documentTargetsIndex,_i.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ws.store,{keyPath:ws.keyPath}).createIndex(ws.queryTargetsIndexName,ws.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(mn.store)}const HI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class S_{constructor(e,t,r,a,c,f,y,w,D,x){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=f,this.document=y,this.Fe=D,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=M=>Promise.resolve(),!S_.bt())throw new Ne(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lx(this,a),this.We=t+"main",this.N=new Yh(w),this.Ge=new bs(this.We,11,new ZI(this.N)),this.ze=new Jh(this.referenceDelegate,this.N),this.Ht=new WM,this.He=new YM(this.N,this.Ht),this.Je=new ix,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ye.FAILED_PRECONDITION,HI);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new $s(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,me.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xh(e).put(new sl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(uu(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Lg(e).get(Ks.key).next(t=>Me.resolve(this.cn(t)))}un(e){return Xh(e).delete(this.clientId)}hn(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=es(r,sl.store);return a.Lt().next(c=>{const f=e.fn(c,18e5),y=c.filter(w=>-1===f.indexOf(w));return Me.forEach(y,w=>a.delete(w.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Me.resolve(!0):Lg(e).get(Ks.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Ne(ye.FAILED_PRECONDITION,HI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xh(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Ks.store,sl.store],t=>{const r=new MI(t,$s.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Xh(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return o0.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let c;return Le("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",tx,f=>(c=new MI(f,this.Le?this.Le.next():$s.T),"readwrite-primary"===t?this.sn(c).next(y=>!!y||this.rn(c)).next(y=>{if(!y)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(ye.FAILED_PRECONDITION,xI);return r(c)}).next(y=>this.an(c).next(()=>y)):this.Tn(c).next(()=>r(c)))).then(f=>(c.raiseOnCommittedEvent(),f))}Tn(e){return Lg(e).get(Ks.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ye.FAILED_PRECONDITION,HI)})}an(e){const t=new Ks(this.clientId,this.allowTabSynchronization,Date.now());return Lg(e).put(Ks.key,t)}static bt(){return bs.bt()}on(e){const t=Lg(e);return t.get(Ks.key).next(r=>this.cn(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete(Ks.key)):Me.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Rt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lg(n){return es(n,Ks.store)}function Xh(n){return es(n,sl.store)}function d0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class $I{constructor(e,t){this.progress=e,this.En=t}}class h0{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const c of r)c.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const c of t)c.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):c_(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new it(t)).next(r=>{let a=$b();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let c=$b();return this.Ht.getCollectionParents(e,a).next(f=>Me.forEach(f,y=>{const w=(D=t,x=y.child(a),new Gs(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.Dn(e,w,r).next(D=>{D.forEach((x,M)=>{c=c.insert(x,M)})})}).next(()=>c))}Dn(e,t,r){let a,c;return this.He.getDocumentsMatchingQuery(e,t,r).next(f=>(a=f,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(c=f,this.Cn(e,c,a).next(y=>{a=y;for(const w of c)for(const D of w.mutations){const x=D.key;let M=a.get(x);null==M&&(M=Zn.newInvalidDocument(x),a=a.insert(x,M)),dI(D,M,w.localWriteTime),M.isFoundDocument()||(a=a.remove(x))}}))).next(()=>(a.forEach((f,y)=>{Cg(t,y)||(a=a.remove(f))}),a))}Cn(e,t,r){let a=on();for(const f of t)for(const y of f.mutations)y instanceof su&&null===r.get(y.key)&&(a=a.add(y.key));let c=r;return this.He.getEntries(e,a).next(f=>(f.forEach((y,w)=>{w.isFoundDocument()&&(c=c.insert(y,w))}),c))}}class x_{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=on(),a=on();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new x_(e,t.fromCache,r,a)}}class GI{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.Fn(e,t):this.On.Pn(e,a).next(c=>{const f=this.Mn(t,c);return(u_(t)||Lb(t))&&this.Ln(t.limitType,f,a,r)?this.Fn(e,t):(Dh()<=$l.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ub(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(y=>(f.forEach(w=>{y=y.insert(w.key,w)}),y)))});var c}Mn(e,t){let r=new rr(aI(e));return t.forEach((a,c)=>{Cg(e,c)&&(r=r.add(c))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(e,t){return Dh()<=$l.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Ub(t)),this.On.getDocumentsMatchingQuery(e,t,It.min())}}class cx{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new nr(Lt),this.qn=new qc(c=>wg(c),Ph),this.Kn=It.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new h0(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function zI(n,e,t,r){return new cx(n,e,t,r)}function WI(n,e){return f0.apply(this,arguments)}function f0(){return(f0=(0,me.Z)(function*(n,e){const t=Ze(n);let r=t.In,a=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let y;return t.In.getAllMutationBatches(f).next(w=>(y=w,r=t.persistence.getMutationQueue(e),a=new h0(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(f))).next(w=>{const D=[],x=[];let M=on();for(const V of y){D.push(V.batchId);for(const q of V.mutations)M=M.add(q.key)}for(const V of w){x.push(V.batchId);for(const q of V.mutations)M=M.add(q.key)}return a.Pn(f,M).next(V=>({Wn:V,removedBatchIds:D,addedBatchIds:x}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),c})).apply(this,arguments)}function dx(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(f,y,w,D){const x=w.batch,M=x.keys();let V=Me.resolve();return M.forEach(q=>{V=V.next(()=>D.getEntry(y,q)).next(re=>{const De=w.docVersions.get(q);wt(null!==De),re.version.compareTo(De)<0&&(x.applyToRemoteDocument(re,w),re.isValidDocument()&&D.addEntry(re,w.commitVersion))})}),V.next(()=>f.In.removeMutationBatch(y,x))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function ef(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function YI(n,e){const t=Ze(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const y=[];e.targetChanges.forEach((D,x)=>{const M=a.get(x);if(!M)return;y.push(t.ze.removeMatchingKeys(c,D.removedDocuments,x).next(()=>t.ze.addMatchingKeys(c,D.addedDocuments,x)));const V=D.resumeToken;if(V.approximateByteSize()>0){const q=M.withResumeToken(V,r).withSequenceNumber(c.currentSequenceNumber);a=a.insert(x,q),re=M,Fe=D,wt((De=q).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||De.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&y.push(t.ze.updateTargetData(c,q))}var re,De,Fe});let w=qi();if(e.documentUpdates.forEach((D,x)=>{e.resolvedLimboDocuments.has(D)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,D))}),y.push(p0(c,f,e.documentUpdates,r,void 0).next(D=>{w=D})),!r.isEqual(It.min())){const D=t.ze.getLastRemoteSnapshotVersion(c).next(x=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));y.push(D)}return Me.waitFor(y).next(()=>f.apply(c)).next(()=>t.Qn.vn(c,w)).next(()=>w)}).then(c=>(t.Un=a,c))}function p0(n,e,t,r,a){let c=on();return t.forEach(f=>c=c.add(f)),e.getEntries(n,c).next(f=>{let y=qi();return t.forEach((w,D)=>{const x=f.get(w),M=(null==a?void 0:a.get(w))||r;D.isNoDocument()&&D.version.isEqual(It.min())?(e.removeEntry(w,M),y=y.insert(w,D)):!x.isValidDocument()||D.version.compareTo(x.version)>0||0===D.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(D,M),y=y.insert(w,D)):Le("LocalStore","Ignoring outdated watch update for ",w,". Current version:",x.version," Watch version:",D.version)}),y})}function KI(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Hc(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(c=>c?(a=c,Me.resolve(a)):t.ze.allocateTargetId(r).next(f=>(a=new cu(e,f,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function $c(n,e,t){return R_.apply(this,arguments)}function R_(){return(R_=(0,me.Z)(function*(n,e,t){const r=Ze(n),a=r.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!uu(f))throw f;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)})).apply(this,arguments)}function M_(n,e,t){const r=Ze(n);let a=It.min(),c=on();return r.persistence.runTransaction("Execute query","readonly",f=>function(y,w,D){const x=Ze(y),M=x.qn.get(D);return void 0!==M?Me.resolve(x.Un.get(M)):x.ze.getTargetData(w,D)}(r,f,Zi(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(f,y.targetId).next(w=>{c=w})}).next(()=>r.Bn.getDocumentsMatchingQuery(f,e,t?a:It.min(),t?c:on())).next(y=>({documents:y,Gn:c})))}function QI(n,e){const t=Ze(n),r=Ze(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(f=>f?f.target:null))}function g0(n){const e=Ze(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,c){const f=Ze(r);let y=qi(),w=C_(c);const D=Es(a),x=IDBKeyRange.lowerBound(w,!0);return D.Kt({index:ir.readTimeIndex,range:x},(M,V)=>{const q=n0(f.N,V);y=y.insert(q.key,q),w=V.readTime}).next(()=>({En:y,readTime:Kh(w)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function m0(){return(m0=(0,me.Z)(function*(n){const e=Ze(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=Es(r);let c=It.min();return a.Kt({index:ir.readTimeIndex,reverse:!0},(f,y,w)=>{y.readTime&&(c=Kh(y.readTime)),w.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Gc(){return(Gc=(0,me.Z)(function*(n,e,t,r){const a=Ze(n);let c=on(),f=qi(),y=Gb();for(const x of t){const M=e.zn(x.metadata.name);x.document&&(c=c.add(M)),f=f.insert(M,e.Hn(x)),y=y.insert(M,e.Jn(x.metadata.readTime))}const w=a.jn.newChangeBuffer({trackRemovals:!0}),D=yield Hc(a,(x=r,Zi(Io(nn.fromString(`__bundle__/docs/${x}`)))));var x;return a.persistence.runTransaction("Apply bundle documents","readwrite",x=>p0(x,w,f,It.min(),y).next(M=>(w.apply(x),M)).next(M=>a.ze.removeMatchingKeysForTargetId(x,D.targetId).next(()=>a.ze.addMatchingKeys(x,c,D.targetId)).next(()=>a.Qn.vn(x,M)).next(()=>M)))})).apply(this,arguments)}function Vg(n,e){return y0.apply(this,arguments)}function y0(){return(y0=(0,me.Z)(function*(n,e,t=on()){const r=yield Hc(n,Zi(r0(e.bundledQuery))),a=Ze(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=br(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return a.Je.saveNamedQuery(c,e);const y=r.withResumeToken(Kr.EMPTY_BYTE_STRING,f);return a.Un=a.Un.insert(y.targetId,y),a.ze.updateTargetData(c,y).next(()=>a.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.ze.addMatchingKeys(c,t,r.targetId)).next(()=>a.Je.saveNamedQuery(c,e))})})).apply(this,arguments)}class _0{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Me.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:br(r.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:r0(r.bundledQuery),readTime:br(r.readTime)}),Me.resolve();var r}}class Qs{constructor(){this.Zn=new rr(Xr.ts),this.es=new rr(Xr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Xr(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Xr(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new it(new nn([])),r=new Xr(t,e),a=new Xr(t,e+1),c=[];return this.es.forEachInRange([r,a],f=>{this.rs(f),c.push(f.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new it(new nn([])),r=new Xr(t,e),a=new Xr(t,e+1);let c=on();return this.es.forEachInRange([r,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Xr(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Xr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return it.comparator(e.key,t.key)||Lt(e.ls,t.ls)}static ns(e,t){return Lt(e.ls,t.ls)||it.comparator(e.key,t.key)}}class N_{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new rr(Xr.ts)}checkEmpty(e){return Me.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const c=this.fs;this.fs++;const f=new e0(c,t,r,a);this.In.push(f);for(const y of a)this.ds=this.ds.add(new Xr(y.key,c)),this.Ht.addToCollectionParentIndex(e,y.key.path.popLast());return Me.resolve(f)}lookupMutationBatch(e,t){return Me.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),c=a<0?0:a;return Me.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Me.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xr(t,0),a=new Xr(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,a],f=>{const y=this.ws(f.ls);c.push(y)}),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(Lt);return t.forEach(a=>{const c=new Xr(a,0),f=new Xr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,f],y=>{r=r.add(y.ls)})}),Me.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;it.isDocumentKey(c)||(c=c.child(""));const f=new Xr(new it(c),0);let y=new rr(Lt);return this.ds.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===a&&(y=y.add(w.ls)),!0)},f),Me.resolve(this.gs(y))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){wt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Me.forEach(t.mutations,a=>{const c=new Xr(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Xr(t,0),a=this.ds.firstAfterOrEqual(r);return Me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Me.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class px{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new nr(it.comparator),this.size=0}addEntry(e,t,r){const a=t.key,c=this.docs.get(a),f=c?c.size:0,y=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:y,readTime:r}),this.size+=y-f,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Me.resolve(r?r.document.clone():Zn.newInvalidDocument(t))}getEntries(e,t){let r=qi();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.clone():Zn.newInvalidDocument(a))}),Me.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=qi();const c=new it(t.path.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:y,value:{document:w,readTime:D}}=f.getNext();if(!t.path.isPrefixOf(y.path))break;D.compareTo(r)<=0||Cg(t,w)&&(a=a.insert(w.key,w.clone()))}return Me.resolve(a)}Ts(e,t){return Me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gx(this)}getSize(e){return Me.resolve(this.size)}}class gx extends BI{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Me.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class KM{constructor(e){this.persistence=e,this.Es=new qc(t=>wg(t),Ph),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Is=0,this.As=new Qs,this.targetCount=0,this.Rs=Zc.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Me.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Zc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.ae(t),Me.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.Es.forEach((f,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Es.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),Me.waitFor(c).next(()=>a)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Me.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Me.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Me.resolve(r)}containsKey(e,t){return Me.resolve(this.As.containsKey(t))}}class v0{constructor(e,t){this.bs={},this.Le=new $s(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new KM(this),this.Ht=new sx,this.He=new px(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new Yh(t),this.Je=new _0(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new N_(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const a=new w0(this.Le.next());return this.referenceDelegate.vs(),r(a).next(c=>this.referenceDelegate.Vs(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ss(e,t){return Me.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class w0 extends RI{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Ds=new Qs,this.Cs=null}static Ns(e){return new P_(e)}get xs(){if(this.Cs)return this.Cs;throw rt()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Me.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,r=>{const a=it.fromPath(r);return this.ks(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Me.or([()=>Me.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function O_(n,e){return`firestore_clients_${n}_${e}`}function k_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function b0(n,e){return`firestore_targets_${n}_${e}`}class F_{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Ne(a.error.code,a.error.message))),f?new F_(e,t,a.state,c):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ug{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Ne(r.error.code,r.error.message))),c?new Ug(e,r.state,a):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class L_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=g_();for(let f=0;a&&f<r.activeTargetIds.length;++f)a=Sb(r.activeTargetIds[f]),c=c.add(r.activeTargetIds[f]);return a?new L_(e,c):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class V_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new V_(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bg{constructor(){this.activeTargetIds=g_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U_{constructor(e,t,r,a,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new nr(Lt),this.started=!1,this.Ks=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=O_(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Bg),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const c=e.getItem(O_(e.persistenceKey,a));if(c){const f=L_.$s(a,c);f&&(e.qs=e.qs.insert(f.clientId,f))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(b0(this.persistenceKey,e));if(r){const a=Ug.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(b0(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ai(r.key);return t.ci(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(c){let f=$s.T;if(null!=c)try{const y=JSON.parse(c);wt("number"==typeof y),f=y}catch(y){lr("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(r.newValue);a!==$s.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new F_(this.currentUser,e,t,r),c=k_(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Os())}ni(e){const t=k_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=b0(this.persistenceKey,e),c=new Ug(e,t,r);this.setItem(a,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ai(e);return L_.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return F_.$s(new gi(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return Ug.$s(a,t)}Xs(e){return V_.$s(e)}li(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),c=this.ti(r),f=[],y=[];return c.forEach(w=>{a.has(w)||f.push(w)}),a.forEach(w=>{c.has(w)||y.push(w)}),this.syncEngine.gi(f,y).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=g_();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class JI{constructor(){this.yi=new Bg,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Bg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class XI{Ti(e){}shutdown(){}}class E0{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class e1{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class t1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const c=this.Bi(e,t);Le("RestConnection","Sending: ",c,r);const f={};return this.Ui(f,a),this.qi(e,c,f,r).then(y=>(Le("RestConnection","Received: ",y),y),y=>{throw yg("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ih,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${mx[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((c,f)=>{const y=new NS;y.listenOnce(UT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case r_.NO_ERROR:const D=y.getResponseJson();Le("Connection","XHR received:",JSON.stringify(D)),c(D);break;case r_.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),f(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case r_.HTTP_ERROR:const x=y.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',x,"response text:",y.getResponseText()),x>0){const M=y.getResponseJson().error;if(M&&M.status&&M.message){const V=function(q){const re=q.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(re)>=0?re:ye.UNKNOWN}(M.status);f(new Ne(V,M.message))}else f(new Ne(ye.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);y.send(t,"POST",w,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ib(),c=RS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new MS({})),this.Ui(f.initMessageHeaders,t),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");Le("Connection","Creating WebChannel: "+y,f);const w=a.createWebChannel(y,f);let D=!1,x=!1;const M=new e1({vi:q=>{x?Le("Connection","Not sending because WebChannel is closed:",q):(D||(Le("Connection","Opening WebChannel transport."),w.open(),D=!0),Le("Connection","WebChannel sending:",q),w.send(q))},Vi:()=>w.close()}),V=(q,re,De)=>{q.listen(re,Fe=>{try{De(Fe)}catch(qe){setTimeout(()=>{throw qe},0)}})};return V(w,i_.EventType.OPEN,()=>{x||Le("Connection","WebChannel transport opened.")}),V(w,i_.EventType.CLOSE,()=>{x||(x=!0,Le("Connection","WebChannel transport closed"),M.$i())}),V(w,i_.EventType.ERROR,q=>{x||(x=!0,yg("Connection","WebChannel transport errored:",q),M.$i(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))}),V(w,i_.EventType.MESSAGE,q=>{var re;if(!x){const De=q.data[0];wt(!!De);const Fe=De,qe=Fe.error||(null===(re=Fe[0])||void 0===re?void 0:re.error);if(qe){Le("Connection","WebChannel received error:",qe);const et=qe.status;let Ke=function(In){const ti=qn[In];if(void 0!==ti)return vI(ti)}(et),ct=qe.message;void 0===Ke&&(Ke=ye.INTERNAL,ct="Unknown error status: "+et+" with message "+qe.message),x=!0,M.$i(new Ne(Ke,ct)),w.close()}else Le("Connection","WebChannel received:",De),M.Oi(De)}}),V(c,BT.STAT_EVENT,q=>{q.stat===Db.PROXY?Le("Connection","Detected buffering proxy"):q.stat===Db.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ki()},0),M}}function n1(){return"undefined"!=typeof window?window:null}function jg(){return"undefined"!=typeof document?document:null}function Zg(n){return new Mg(n,!0)}class r1{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Ri{constructor(e,t,r,a,c,f){this.Oe=e,this.er=r,this.nr=a,this.credentialsProvider=c,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new r1(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,me.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,me.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r._r(),r.rr.cancel(),r.sr++,3!==e?r.rr.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),r.rr.Yi()):t&&t.code===ye.UNAUTHENTICATED&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.mr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===t&&this.yr(r)},r=>{e(()=>{const a=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.pr(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}ur(){var e=this;this.state=4,this.rr.Xi((0,me.Z)(function*(){e.state=0,e.start()}))}pr(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tf extends Ri{constructor(e,t,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,r,c),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:rt(),a=e.targetChange.targetIds||[],c=function(w,D){return w.D?(wt(void 0===D||"string"==typeof D),Kr.fromBase64String(D||"")):(wt(void 0===D||D instanceof Uint8Array),Kr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&function(w){const D=void 0===w.code?ye.UNKNOWN:vI(w.code);return new Ne(D,w.message||"")}(f);t=new xg(r,a,c,y||null)}else if("documentChange"in e){const r=e.documentChange,a=Do(n,r.document.name),c=br(r.document.updateTime),f=new yi({mapValue:{fields:r.document.fields}}),y=Zn.newFoundDocument(a,c,f);t=new m_(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=Do(n,r.document),c=r.readTime?br(r.readTime):It.min(),f=Zn.newNoDocument(a,c);t=new m_([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=Do(n,r.document);t=new m_([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return rt();{const r=e.filter,c=new $S(r.count||0);t=new Wb(r.targetId,c)}}var w;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return It.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?It.min():c.readTime?br(c.readTime):It.min()}(e);return this.listener.Er(t,r)}Ir(e){const t={};t.database=Ng(this.N),t.addTarget=function(a,c){let f;const y=c.target;return f=Oh(y)?{documents:$h(a,y)}:{query:II(a,y)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=Dt(a,c.resumeToken):c.snapshotVersion.compareTo(It.min())>0&&(f.readTime=y_(a,c.snapshotVersion.toTimestamp())),f}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.wr(t)}Ar(e){const t={};t.database=Ng(this.N),t.removeTarget=e,this.wr(t)}}class yx extends Ri{constructor(e,t,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle",t,r,c),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,a){let c=br(r.updateTime?r.updateTime:a);return c.isEqual(It.min())&&(c=br(a)),new f_(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.vr(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Ng(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Pg(this.N,r))};this.wr(t)}}class _x extends class{}{constructor(e,t,r){super(),this.credentials=e,this.nr=t,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ne(ye.UNKNOWN,a.toString())})}Ki(e,t,r){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ne(ye.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class QM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(lr(t),this.$r=!1):Le("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class qg{constructor(e,t,r,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=c,this.Qr.Ti(y=>{r.enqueueAndForget((0,me.Z)(function*(){var w;ga(f)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,me.Z)(function*(D){const x=Ze(D);x.Kr.add(4),yield nf(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield Hg(x)}),function(D){return w.apply(this,arguments)})(f))}))}),this.Wr=new QM(r,a)}}function Hg(n){return $g.apply(this,arguments)}function $g(){return($g=(0,me.Z)(function*(n){if(ga(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function nf(n){return B_.apply(this,arguments)}function B_(){return(B_=(0,me.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function j_(n,e){const t=Ze(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),rf(t)?Z_(t):lf(t).cr()&&zg(t,e))}function Gg(n,e){const t=Ze(n),r=lf(t);t.qr.delete(e),r.cr()&&C0(t,e),0===t.qr.size&&(r.cr()?r.lr():ga(t)&&t.Wr.set("Unknown"))}function zg(n,e){n.Gr.Y(e.targetId),lf(n).Ir(e)}function C0(n,e){n.Gr.Y(e),lf(n).Ar(e)}function Z_(n){n.Gr=new GM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),lf(n).start(),n.Wr.Or()}function rf(n){return ga(n)&&!lf(n).ar()&&n.qr.size>0}function ga(n){return 0===Ze(n).Kr.size}function vx(n){n.Gr=void 0}function i1(n){return T0.apply(this,arguments)}function T0(){return(T0=(0,me.Z)(function*(n){n.qr.forEach((e,t)=>{zg(n,e)})})).apply(this,arguments)}function s1(n,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,me.Z)(function*(n,e){vx(n),rf(n)?(n.Wr.Lr(e),Z_(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function o1(n,e,t){return I0.apply(this,arguments)}function I0(){return(I0=(0,me.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof xg&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(a,c){const f=c.cause;for(const y of c.targetIds)a.qr.has(y)&&(yield a.remoteSyncer.rejectListen(y,f),a.qr.delete(y),a.Gr.removeTarget(y))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield of(n,r)}else if(e instanceof m_?n.Gr.rt(e):e instanceof Wb?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(It.min()))try{const r=yield ef(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const f=a.Gr._t(c);return f.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const D=a.qr.get(w);D&&a.qr.set(w,D.withResumeToken(y.resumeToken,c))}}),f.targetMismatches.forEach(y=>{const w=a.qr.get(y);if(!w)return;a.qr.set(y,w.withResumeToken(Kr.EMPTY_BYTE_STRING,w.snapshotVersion)),C0(a,y);const D=new cu(w.target,y,1,w.sequenceNumber);zg(a,D)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield of(n,r)}var r})).apply(this,arguments)}function of(n,e,t){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,me.Z)(function*(n,e,t){if(!uu(e))throw e;n.Kr.add(1),yield nf(n),n.Wr.set("Offline"),t||(t=()=>ef(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield Hg(n)}))})).apply(this,arguments)}function a1(n,e){return e().catch(t=>of(n,t,e))}function af(n){return q_.apply(this,arguments)}function q_(){return(q_=(0,me.Z)(function*(n){const e=Ze(n),t=hu(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;l1(e);)try{const a=yield KI(e.localStore,r);if(null===a){0===e.Ur.length&&t.lr();break}r=a.batchId,u1(e,a)}catch(a){yield of(e,a)}c1(e)&&D0(e)})).apply(this,arguments)}function l1(n){return ga(n)&&n.Ur.length<10}function u1(n,e){n.Ur.push(e);const t=hu(n);t.cr()&&t.br&&t.Pr(e.mutations)}function c1(n){return ga(n)&&!hu(n).ar()&&n.Ur.length>0}function D0(n){hu(n).start()}function d1(n){return A0.apply(this,arguments)}function A0(){return(A0=(0,me.Z)(function*(n){hu(n).Sr()})).apply(this,arguments)}function wx(n){return H_.apply(this,arguments)}function H_(){return(H_=(0,me.Z)(function*(n){const e=hu(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function bx(n,e,t){return $_.apply(this,arguments)}function $_(){return($_=(0,me.Z)(function*(n,e,t){const r=n.Ur.shift(),a=t0.from(r,e,t);yield a1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield af(n)})).apply(this,arguments)}function h1(n,e){return G_.apply(this,arguments)}function G_(){return(G_=(0,me.Z)(function*(n,e){var t;e&&hu(n).br&&(yield(t=(0,me.Z)(function*(r,a){if(_I(c=a.code)&&c!==ye.ABORTED){const f=r.Ur.shift();hu(r).hr(),yield a1(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield af(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),c1(n)&&D0(n)})).apply(this,arguments)}function z_(n,e){return S0.apply(this,arguments)}function S0(){return(S0=(0,me.Z)(function*(n,e){const t=Ze(n);e?(t.Kr.delete(2),yield Hg(t)):e||(t.Kr.add(2),yield nf(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function lf(n){return n.zr||(n.zr=function(e,t,r){const a=Ze(e);return a.Cr(),new tf(t,a.nr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:i1.bind(null,n),Ci:s1.bind(null,n),Er:o1.bind(null,n)}),n.jr.push(function(){var e=(0,me.Z)(function*(t){t?(n.zr.hr(),rf(n)?Z_(n):n.Wr.set("Unknown")):(yield n.zr.stop(),vx(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function hu(n){return n.Hr||(n.Hr=function(e,t,r){const a=Ze(e);return a.Cr(),new yx(t,a.nr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:d1.bind(null,n),Ci:h1.bind(null,n),Vr:wx.bind(null,n),vr:bx.bind(null,n)}),n.jr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Hr.hr(),yield af(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class W_{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,a,c){const f=Date.now()+r,y=new W_(e,t,f,a,c);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(n,e){if(lr("AsyncQueue",`${e}: ${n}`),uu(n))return new Ne(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class Kg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=$b(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new Kg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Kg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ex{constructor(){this.Jr=new nr(it.comparator)}track(e){const t=e.doc.key,r=this.Jr.get(t);r?0!==e.type&&3===r.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==r.type?this.Jr=this.Jr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jr=this.Jr.remove(t):1===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):rt():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qg{constructor(e,t,r,a,c,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Qg(e,t,Kg.emptySet(t),c,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class JM{constructor(){this.Xr=void 0,this.listeners=[]}}class XM{constructor(){this.queries=new qc(e=>jS(e),Eg),this.onlineState="Unknown",this.Zr=new Set}}function f1(n,e){return p1.apply(this,arguments)}function p1(){return(p1=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new JM),a)try{c.Xr=yield t.onListen(r)}catch(f){const y=Yg(f,`Initialization of query '${Ub(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,c),c.listeners.push(e),e.eo(t.onlineState),c.Xr&&e.no(c.Xr)&&y1(t)})).apply(this,arguments)}function g1(n,e){return m1.apply(this,arguments)}function m1(){return(m1=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function eN(n,e){const t=Ze(n);let r=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const y of f.listeners)y.no(a)&&(r=!0);f.Xr=a}}r&&y1(t)}function tN(n,e,t){const r=Ze(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function y1(n){n.Zr.forEach(e=>{e.next()})}class _1{constructor(e,t,r){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Qg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Qg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class nN{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Cx{constructor(e){this.N=e}zn(e){return Do(this.N,e)}Hn(e){return e.metadata.exists?Ys(this.N,e.document,!1):Zn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return br(e)}}class rN{constructor(e,t,r){this.lo=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=v1(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,r=new Cx(this.N);for(const a of e)if(a.metadata.queries){const c=r.zn(a.metadata.name);for(const f of a.metadata.queries){const y=(t.get(f)||on()).add(c);t.set(f,y)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function(n,e,t,r){return Gc.apply(this,arguments)}(e.localStore,new Cx(e.N),e.documents,e.lo.id),r=e.wo(e.documents);for(const a of e.queries)yield Vg(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new $I(Object.assign({},e.progress),t)})()}}function v1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class w1{constructor(e){this.key=e}}class b1{constructor(e){this.key=e}}class Tx{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=on(),this.mutatedKeys=on(),this.po=aI(e),this.To=new Kg(this.po)}get Eo(){return this._o}Io(e,t){const r=t?t.Ao:new Ex,a=t?t.To:this.To;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,y=!1;const w=u_(this.query)&&a.size===this.query.limit?a.last():null,D=Lb(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,M)=>{const V=a.get(x),q=Cg(this.query,M)?M:null,re=!!V&&this.mutatedKeys.has(V.key),De=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Fe=!1;V&&q?V.data.isEqual(q.data)?re!==De&&(r.track({type:3,doc:q}),Fe=!0):this.Ro(V,q)||(r.track({type:2,doc:q}),Fe=!0,(w&&this.po(q,w)>0||D&&this.po(q,D)<0)&&(y=!0)):!V&&q?(r.track({type:0,doc:q}),Fe=!0):V&&!q&&(r.track({type:1,doc:V}),Fe=!0,(w||D)&&(y=!0)),Fe&&(q?(f=f.add(q),c=De?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))}),u_(this.query)||Lb(this.query))for(;f.size>this.query.limit;){const x=u_(this.query)?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{To:f,Ao:r,Ln:y,mutatedKeys:c}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const c=e.Ao.Yr();c.sort((D,x)=>function(M,V){const q=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return q(M)-q(V)}(D.type,x.type)||this.po(D.doc,x.doc)),this.bo(r);const f=t?this.Po():[],y=0===this.yo.size&&this.current?1:0,w=y!==this.mo;return this.mo=y,0!==c.length||w?{snapshot:new Qg(this.query,e.To,a,c,e.mutatedKeys,0===y,w,!1),vo:f}:{vo:f}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new Ex,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=on(),this.To.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const t=[];return e.forEach(r=>{this.yo.has(r)||t.push(new b1(r))}),this.yo.forEach(r=>{e.has(r)||t.push(new w1(r))}),t}So(e){this._o=e.Gn,this.yo=on();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Qg.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class iN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sN{constructor(e){this.key=e,this.Co=!1}}class Ix{constructor(e,t,r,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new qc(y=>jS(y),Eg),this.ko=new Map,this.$o=new Set,this.Oo=new nr(it.comparator),this.Fo=new Map,this.Mo=new Qs,this.Lo={},this.Bo=new Map,this.Uo=Zc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Dx(n,e){return x0.apply(this,arguments)}function x0(){return(x0=(0,me.Z)(function*(n,e){const t=F0(n);let r,a;const c=t.xo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.Do();else{const f=yield Hc(t.localStore,Zi(e)),y=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield E1(t,e,r,"current"===y),t.isPrimaryClient&&j_(t.remoteStore,f)}return a})).apply(this,arguments)}function E1(n,e,t,r){return C1.apply(this,arguments)}function C1(){return(C1=(0,me.Z)(function*(n,e,t,r){n.Ko=(x,M,V)=>{return(q=(0,me.Z)(function*(re,De,Fe,qe){let et=De.view.Io(Fe);et.Ln&&(et=yield M_(re.localStore,De.query,!1).then(({documents:In})=>De.view.Io(In,et)));const Ke=qe&&qe.targetChanges.get(De.targetId),ct=De.view.applyChanges(et,re.isPrimaryClient,Ke);return M1(re,De.targetId,ct.vo),ct.snapshot}),function(re,De,Fe,qe){return q.apply(this,arguments)})(n,x,M,V);var q};const a=yield M_(n.localStore,e,!0),c=new Tx(e,a.Gn),f=c.Io(a.documents),y=Bh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=c.applyChanges(f,n.isPrimaryClient,y);M1(n,t,w.vo);const D=new iN(e,t,c);return n.xo.set(e,D),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),w.snapshot})).apply(this,arguments)}function oN(n,e){return T1.apply(this,arguments)}function T1(){return(T1=(0,me.Z)(function*(n,e){const t=Ze(n),r=t.xo.get(e),a=t.ko.get(r.targetId);if(a.length>1)return t.ko.set(r.targetId,a.filter(c=>!Eg(c,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $c(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Gg(t.remoteStore,r.targetId),Wc(t,r.targetId)}).catch(ol))):(Wc(t,r.targetId),yield $c(t.localStore,r.targetId,!0))})).apply(this,arguments)}function I1(){return(I1=(0,me.Z)(function*(n,e,t){const r=Hi(n);try{const a=yield function(c,f){const y=Ze(c),w=Pr.now(),D=f.reduce((M,V)=>M.add(V.key),on());let x;return y.persistence.runTransaction("Locally write mutations","readwrite",M=>y.Qn.Pn(M,D).next(V=>{x=V;const q=[];for(const re of f){const De=HS(re,x.get(re.key));null!=De&&q.push(new su(re.key,De,JT(De.value.mapValue),Yn.exists(!0)))}return y.In.addMutationBatch(M,w,q,f)})).then(M=>(M.applyToLocalDocumentSet(x),{batchId:M.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,y){let w=c.Lo[c.currentUser.toKey()];w||(w=new nr(Lt)),w=w.insert(f,y),c.Lo[c.currentUser.toKey()]=w}(r,a.batchId,t),yield fu(r,a.changes),yield af(r.remoteStore)}catch(a){const c=Yg(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function D1(n,e){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,me.Z)(function*(n,e){const t=Ze(n);try{const r=yield YI(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.Fo.get(c);f&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Co=!0:a.modifiedDocuments.size>0?wt(f.Co):a.removedDocuments.size>0&&(wt(f.Co),f.Co=!1))}),yield fu(t,r,e)}catch(r){yield ol(r)}})).apply(this,arguments)}function zc(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.xo.forEach((c,f)=>{const y=f.view.eo(e);y.snapshot&&a.push(y.snapshot)}),function(c,f){const y=Ze(c);y.onlineState=f;let w=!1;y.queries.forEach((D,x)=>{for(const M of x.listeners)M.eo(f)&&(w=!0)}),w&&y1(y)}(r.eventManager,e),a.length&&r.No.Er(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function A1(n,e,t){return R0.apply(this,arguments)}function R0(){return(R0=(0,me.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Fo.get(e),c=a&&a.key;if(c){let f=new nr(it.comparator);f=f.insert(c,Zn.newNoDocument(c,It.min()));const y=on().add(c),w=new Sg(It.min(),new Map,new rr(Lt),f,y);yield D1(r,w),r.Oo=r.Oo.remove(c),r.Fo.delete(e),M0(r)}else yield $c(r.localStore,e,!1).then(()=>Wc(r,e,t)).catch(ol)})).apply(this,arguments)}function Sx(n,e){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,me.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const a=yield dx(t.localStore,e);uf(t,r,null),K_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fu(t,a)}catch(a){yield ol(a)}})).apply(this,arguments)}function S1(n,e,t){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,me.Z)(function*(n,e,t){const r=Ze(n);try{const a=yield function(c,f){const y=Ze(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return y.In.lookupMutationBatch(w,f).next(x=>(wt(null!==x),D=x.keys(),y.In.removeMutationBatch(w,x))).next(()=>y.In.performConsistencyCheck(w)).next(()=>y.Qn.Pn(w,D))})}(r.localStore,e);uf(r,e,t),K_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fu(r,a)}catch(a){yield ol(a)}})).apply(this,arguments)}function R1(){return(R1=(0,me.Z)(function*(n,e){const t=Ze(n);ga(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const f=Ze(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>f.In.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Bo.get(r)||[];a.push(e),t.Bo.set(r,a)}catch(r){const a=Yg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function K_(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function uf(n,e,t){const r=Ze(n);let a=r.Lo[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.Lo[r.currentUser.toKey()]=a}}function Wc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ko.get(e))n.xo.delete(r),t&&n.No.jo(r,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(r=>{n.Mo.containsKey(r)||xx(n,r)})}function xx(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(Gg(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),M0(n))}function M1(n,e,t){for(const r of t)r instanceof w1?(n.Mo.addReference(r.key,e),aN(n,r)):r instanceof b1?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Mo.removeReference(r.key,e),n.Mo.containsKey(r.key)||xx(n,r.key)):rt()}function aN(n,e){const t=e.key,r=t.path.canonicalString();n.Oo.get(t)||n.$o.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.$o.add(r),M0(n))}function M0(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new it(nn.fromString(e)),r=n.Uo.next();n.Fo.set(r,new sN(t)),n.Oo=n.Oo.insert(t,r),j_(n.remoteStore,new cu(Zi(Io(t.path)),r,2,$s.T))}}function fu(n,e,t){return cf.apply(this,arguments)}function cf(){return(cf=(0,me.Z)(function*(n,e,t){const r=Ze(n),a=[],c=[],f=[];var y;r.xo.isEmpty()||(r.xo.forEach((y,w)=>{f.push(r.Ko(w,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D.fromCache?"not-current":"current"),a.push(D);const x=x_.kn(w.targetId,D);c.push(x)}}))}),yield Promise.all(f),r.No.Er(a),yield(y=(0,me.Z)(function*(w,D){const x=Ze(w);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Me.forEach(D,V=>Me.forEach(V.Nn,q=>x.persistence.referenceDelegate.addReference(M,V.targetId,q)).next(()=>Me.forEach(V.xn,q=>x.persistence.referenceDelegate.removeReference(M,V.targetId,q)))))}catch(M){if(!uu(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of D){const V=M.targetId;if(!M.fromCache){const q=x.Un.get(V),De=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);x.Un=x.Un.insert(V,De)}}}),function(w,D){return y.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function Rx(n,e){return N1.apply(this,arguments)}function N1(){return(N1=(0,me.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield WI(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(f=>{f.forEach(y=>{y.reject(new Ne(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fu(t,r.Wn)}var a})).apply(this,arguments)}function lN(n,e){const t=Ze(n),r=t.Fo.get(e);if(r&&r.Co)return on().add(r.key);{let a=on();const c=t.ko.get(e);if(!c)return a;for(const f of c){const y=t.xo.get(f);a=a.unionWith(y.view.Eo)}return a}}function N0(n,e){return P0.apply(this,arguments)}function P0(){return(P0=(0,me.Z)(function*(n,e){const t=Ze(n),r=yield M_(t.localStore,e.query,!0),a=e.view.So(r);return t.isPrimaryClient&&M1(t,e.targetId,a.vo),a})).apply(this,arguments)}function uN(n){return P1.apply(this,arguments)}function P1(){return(P1=(0,me.Z)(function*(n){const e=Ze(n);return g0(e.localStore).then(t=>fu(e,t))})).apply(this,arguments)}function Mx(n,e,t,r){return O1.apply(this,arguments)}function O1(){return(O1=(0,me.Z)(function*(n,e,t,r){const a=Ze(n),c=yield function(f,y){const w=Ze(f),D=Ze(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",x=>D.Xt(x,y).next(M=>M?w.Qn.Pn(x,M):Me.resolve(null)))}(a.localStore,e);var y;null!==c?("pending"===t?yield af(a.remoteStore):"acknowledged"===t||"rejected"===t?(uf(a,e,r||null),K_(a,e),y=e,Ze(Ze(a.localStore).In).te(y)):rt(),yield fu(a,c)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function O0(){return(O0=(0,me.Z)(function*(n,e){const t=Ze(n);if(F0(t),Hi(t),!0===e&&!0!==t.qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield Nx(t,r.toArray());t.qo=!0,yield z_(t.remoteStore,!0);for(const c of a)j_(t.remoteStore,c)}else if(!1===e&&!1!==t.qo){const r=[];let a=Promise.resolve();t.ko.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):a=a.then(()=>(Wc(t,f),$c(t.localStore,f,!0))),Gg(t.remoteStore,f)}),yield a,yield Nx(t,r),function(c){const f=Ze(c);f.Fo.forEach((y,w)=>{Gg(f.remoteStore,w)}),f.Mo.us(),f.Fo=new Map,f.Oo=new nr(it.comparator)}(t),t.qo=!1,yield z_(t.remoteStore,!1)}})).apply(this,arguments)}function Nx(n,e,t){return F1.apply(this,arguments)}function F1(){return(F1=(0,me.Z)(function*(n,e,t){const r=Ze(n),a=[],c=[];for(const f of e){let y;const w=r.ko.get(f);if(w&&0!==w.length){y=yield Hc(r.localStore,Zi(w[0]));for(const D of w){const x=r.xo.get(D),M=yield N0(r,x);M.snapshot&&c.push(M.snapshot)}}else{const D=yield QI(r.localStore,f);y=yield Hc(r.localStore,D),yield E1(r,L1(D),f,!1)}a.push(y)}return r.No.Er(c),a})).apply(this,arguments)}function L1(n){return sI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function em(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).pn()}function Px(n,e,t,r){return k0.apply(this,arguments)}function k0(){return(k0=(0,me.Z)(function*(n,e,t,r){const a=Ze(n);if(a.qo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const c=yield g0(a.localStore),f=Sg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield fu(a,c,f);break}case"rejected":yield $c(a.localStore,e,!0),Wc(a,e,r);break;default:rt()}})).apply(this,arguments)}function Ox(n,e,t){return tm.apply(this,arguments)}function tm(){return(tm=(0,me.Z)(function*(n,e,t){const r=F0(n);if(r.qo){for(const a of e){if(r.ko.has(a)){Le("SyncEngine","Adding an already active target "+a);continue}const c=yield QI(r.localStore,a),f=yield Hc(r.localStore,c);yield E1(r,L1(c),f.targetId,!1),j_(r.remoteStore,f)}for(const a of t)r.ko.has(a)&&(yield $c(r.localStore,a,!1).then(()=>{Gg(r.remoteStore,a),Wc(r,a)}).catch(ol))}})).apply(this,arguments)}function F0(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A1.bind(null,e),e.No.Er=eN.bind(null,e.eventManager),e.No.jo=tN.bind(null,e.eventManager),e}function Hi(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S1.bind(null,e),e}class Q_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.N=Zg(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return zI(this.persistence,new GI,e.initialUser,this.N)}Go(e){return new v0(P_.Ns,this.N)}Wo(e){return new JI}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class V1 extends Q_{constructor(e,t,r){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield function(n){return m0.apply(this,arguments)}(r.localStore),yield r.Jo.initialize(r,e),yield Hi(r.Jo.syncEngine),yield af(r.Jo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ho(e){return zI(this.persistence,new GI,e.initialUser,this.N)}zo(e){return new UI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=d0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new S_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,n1(),jg(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new JI}}class Fx extends V1{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const a=r.Jo.syncEngine;r.sharedClientState instanceof U_&&(r.sharedClientState.syncEngine={_i:Mx.bind(null,a),mi:Px.bind(null,a),gi:Ox.bind(null,a),pn:em.bind(null,a),wi:uN.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,me.Z)(function*(f){yield function(n,e){return O0.apply(this,arguments)}(r.Jo.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Wo(e){const t=n1();if(!U_.bt(t))throw new Ne(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=d0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new U_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class nm{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>zc(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,r.syncEngine),yield z_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XM}createDatastore(e){const t=Zg(e.databaseInfo.databaseId),r=new t1(e.databaseInfo);return new _x(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=y=>zc(this.syncEngine,y,0),f=E0.bt()?new E0:new XI,new qg(t,r,a,c,f);var t,r,a,c,f}createSyncEngine(e,t){return function(r,a,c,f,y,w,D){const x=new Ix(r,a,c,f,y,w);return D&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Ze(t);Le("RemoteStore","RemoteStore shutting down."),r.Kr.add(5),yield nf(r),r.Qr.shutdown(),r.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function L0(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Lx{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Nr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(r=>{r&&r.ho()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,me.Z)(function*(){const t=yield e.na();if(null===t)return null;const r=e.ta.decode(t),a=Number(r);isNaN(a)&&e.sa(`length string (${r}) is not valid number`);const c=yield e.ia(a);return new nN(JSON.parse(c),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,me.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ia(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const r=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,me.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class U1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,me.Z)(function*(c,f){const y=Ze(c),w=Ng(y.N)+"/documents",D={documents:f.map(q=>qh(y.N,q))},x=yield y.Ki("BatchGetDocuments",w,D),M=new Map;x.forEach(q=>{const re=function(n,e){return"found"in e?function(t,r){wt(!!r.found);const a=Do(t,r.found.name),c=br(r.found.updateTime),f=new yi({mapValue:{fields:r.found.fields}});return Zn.newFoundDocument(a,c,f)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const a=Do(t,r.missing),c=br(r.readTime);return Zn.newNoDocument(a,c)}(n,e):rt()}(y.N,q);M.set(re.key.toString(),re)});const V=[];return f.forEach(q=>{const re=M.get(q.toString());wt(!!re),V.push(re)}),V}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ag(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const c=it.fromPath(a);e.mutations.push(new yI(c,e.precondition(c)))}),yield(r=(0,me.Z)(function*(a,c){const f=Ze(a),y=Ng(f.N)+"/documents",w={writes:c.map(D=>Pg(f.N,D))};yield f.Li("Commit",y,w)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ne(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class B1{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.aa=5,this.rr=new r1(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,me.Z)(function*(){const t=new U1(e.datastore),r=e.ua(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.ha(c)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!kc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_I(t)}return!1}}class Vx{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=gi.UNAUTHENTICATED,this.clientId=Ab.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,me.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield a.credentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=Yg(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function j1(n,e){return im.apply(this,arguments)}function im(){return(im=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,me.Z)(function*(c){r.isEqual(c)||(yield WI(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function V0(n,e){return J_.apply(this,arguments)}function J_(){return(J_=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sm(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(c=(0,me.Z)(function*(f,y){const w=Ze(f);w.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const D=ga(w);w.Kr.add(3),yield nf(w),D&&w.Wr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(y),w.Kr.delete(3),yield Hg(w)}),function(f,y){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e})).apply(this,arguments)}function sm(n){return U0.apply(this,arguments)}function U0(){return(U0=(0,me.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield j1(n,new Q_)),n.offlineComponents})).apply(this,arguments)}function ns(n){return B0.apply(this,arguments)}function B0(){return(B0=(0,me.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield V0(n,new nm)),n.onlineComponents})).apply(this,arguments)}function Ux(n){return sm(n).then(e=>e.persistence)}function j0(n){return sm(n).then(e=>e.localStore)}function Bx(n){return ns(n).then(e=>e.remoteStore)}function Z0(n){return ns(n).then(e=>e.syncEngine)}function df(n){return q0.apply(this,arguments)}function q0(){return(q0=(0,me.Z)(function*(n){const e=yield ns(n),t=e.eventManager;return t.onListen=Dx.bind(null,e.syncEngine),t.onUnlisten=oN.bind(null,e.syncEngine),t})).apply(this,arguments)}function q1(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,f,y,w){const D=new rm({next:M=>{c.enqueueAndForget(()=>g1(a,x));const V=M.docs.has(f);!V&&M.fromCache?w.reject(new Ne(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&y&&"server"===y.source?w.reject(new Ne(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(M)},error:M=>w.reject(M)}),x=new _1(Io(f.path),D,{includeMetadataChanges:!0,uo:!0});return f1(a,x)}(yield df(n),n.asyncQueue,e,t,r)})),r.promise}function H0(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,f,y,w){const D=new rm({next:M=>{c.enqueueAndForget(()=>g1(a,x)),M.fromCache&&"server"===y.source?w.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(M)},error:M=>w.reject(M)}),x=new _1(f,D,{includeMetadataChanges:!0,uo:!0});return f1(a,x)}(yield df(n),n.asyncQueue,e,t,r)})),r.promise}class Hx{constructor(e,t,r,a,c,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.useFetchStreams=w}}class hf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hf&&e.projectId===this.projectId&&e.database===this.database}}const $0=new Map;function Yc(n,e,t){if(!t)throw new Ne(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X_(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function G0(n){if(!it.isDocumentKey(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G1(n){if(it.isDocumentKey(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ev(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ev(n);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $x(n,e){if(e<=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Gx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,X_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gx({}),this._settingsFrozen=!1,e instanceof hf?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hf(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gx(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new qT;switch(t.type){case"gapi":const r=t.client;return wt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new qM(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$0.get(e);t&&(Le("ComponentProvider","Removing Datastore"),$0.delete(e),t.terminate())}(this),Promise.resolve()}}class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Mi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class ma extends Mi{constructor(e,t,r){super(e,t,Io(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new it(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function W1(n,e,...t){if(n=(0,Rt.m9)(n),Yc("collection","path",e),n instanceof ff){const r=nn.fromString(e,...t);return G1(r),new ma(n,null,r)}{if(!(n instanceof Ln||n instanceof ma))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return G1(r),new ma(n.firestore,null,r)}}function z0(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=Ab.I()),Yc("doc","path",e),n instanceof ff){const r=nn.fromString(e,...t);return G0(r),new Ln(n,null,new it(r))}{if(!(n instanceof Ln||n instanceof ma))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return G0(r),new Ln(n.firestore,n instanceof ma?n.converter:null,new it(r))}}function zx(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof Ln||n instanceof ma)&&(e instanceof Ln||e instanceof ma)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function K1(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Mi&&e instanceof Mi&&n.firestore===e.firestore&&Eg(n._query,e._query)&&n.converter===e.converter}class W0{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new r1(this,"async_queue_retry"),this.Ta=()=>{const t=jg();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=jg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=jg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Nr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,me.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!uu(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(r=>{throw this.ma=r,this.ga=!1,lr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=t,t}enqueueAfterDelay(e,t,r){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=W_.createAndSchedule(this,e,t,r,c=>this.Ra(c));return this._a.push(a),a}Ea(){this.ma&&rt()}verifyOperationInProgress(){}ba(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Cr(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class hN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kn extends ff{constructor(e,t){super(e,t),this.type="firestore",this._queue=new W0,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||J1(this),this._firestoreClient.terminate()}}function Or(n){return n._firestoreClient||J1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function J1(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hx(n._databaseId,c,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var c,y;n._firestoreClient=new Vx(n._credentials,n._queue,r)}function K0(n,e,t){const r=new Nr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield j1(n,t),yield V0(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===ye.FAILED_PRECONDITION||c.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function kr(n){if(n._initialized||n._terminated)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(Kr.fromBase64String(e))}catch(t){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ya(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pf{constructor(e){this._methodName=e}}class Qc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const Yx=/^__.*__$/;class mN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new su(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dg(e,this.data,t,this.fieldTransforms)}}class Kx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new su(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Qx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class nv{constructor(e,t,r,a,c,f){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===c&&this.Sa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:r,xa:!1});return a.ka(e),a}$a(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:r,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return iv(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Qx(this.Da)&&Yx.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Jx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||Zg(e)}Ba(e,t,r,a=!1){return new nv({Da:e,methodName:t,La:r,path:mi.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Jc(n){const e=n._freezeSettings(),t=Zg(n._databaseId);return new Jx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rv(n,e,t,r,a,c={}){const f=n.Ba(c.merge||c.mergeFields?2:0,e,t,a);Cs("Data must be an object, but it was:",f,r);const y=rD(r,f);let w,D;if(c.merge)w=new Sh(f.fieldMask),D=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const M of c.mergeFields){const V=nE(e,M,t);if(!f.contains(V))throw new Ne(ye.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);rR(x,V)||x.push(V)}w=new Sh(x),D=f.fieldTransforms.filter(M=>w.covers(M.field))}else w=null,D=f.fieldTransforms;return new mN(new yi(y),w,D)}class om extends pf{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function Xx(n,e,t){return new nv({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class eE extends pf{_toFieldTransform(e){return new Ig(e.path,new Vh)}isEqual(e){return e instanceof eE}}class eR extends pf{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Xx(this,e,!0),r=this.Ua.map(c=>Xc(c,t)),a=new nu(r);return new Ig(e.path,a)}isEqual(e){return this===e}}class tR extends pf{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Xx(this,e,!0),r=this.Ua.map(c=>Xc(c,t)),a=new ru(r);return new Ig(e.path,a)}isEqual(e){return this===e}}class yN extends pf{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Uh(e.N,Zb(e.N,this.qa));return new Ig(e.path,t)}isEqual(e){return this===e}}function tD(n,e,t,r){const a=n.Ba(1,e,t);Cs("Data must be an object, but it was:",a,r);const c=[],f=yi.empty();Pc(r,(w,D)=>{const x=rE(e,w,t);D=(0,Rt.m9)(D);const M=a.$a(x);if(D instanceof om)c.push(x);else{const V=Xc(D,M);null!=V&&(c.push(x),f.set(x,V))}});const y=new Sh(c);return new Kx(f,y,a.fieldTransforms)}function tE(n,e,t,r,a,c){const f=n.Ba(1,e,t),y=[nE(e,r,t)],w=[a];if(c.length%2!=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)y.push(nE(e,c[V])),w.push(c[V+1]);const D=[],x=yi.empty();for(let V=y.length-1;V>=0;--V)if(!rR(D,y[V])){const q=y[V];let re=w[V];re=(0,Rt.m9)(re);const De=f.$a(q);if(re instanceof om)D.push(q);else{const Fe=Xc(re,De);null!=Fe&&(D.push(q),x.set(q,Fe))}}const M=new Sh(D);return new Kx(x,M,f.fieldTransforms)}function nD(n,e,t,r=!1){return Xc(t,n.Ba(r?4:3,e))}function Xc(n,e){if(iD(n=(0,Rt.m9)(n)))return Cs("Unsupported field value:",e,n),rD(n,e);if(n instanceof pf)return function(t,r){if(!Qx(r.Da))throw r.Fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const f of t){let y=Xc(f,r.Oa(c));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zb(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Pr.fromDate(t);return{timestampValue:y_(r.N,a)}}if(t instanceof Pr){const a=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:y_(r.N,a)}}if(t instanceof Qc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ya)return{bytesValue:Dt(r.N,t._byteString)};if(t instanceof Ln){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r.Fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rl(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Fa(`Unsupported field value: ${ev(t)}`)}(n,e)}function rD(n,e){const t={};return GT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pc(n,(r,a)=>{const c=Xc(a,e.Na(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function iD(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pr||n instanceof Qc||n instanceof ya||n instanceof Ln||n instanceof pf)}function Cs(n,e,t){if(!iD(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ev(t);throw e.Fa("an object"===r?n+" a custom object":n+" "+r)}var r}function nE(n,e,t){if((e=(0,Rt.m9)(e))instanceof pu)return e._internalPath;if("string"==typeof e)return rE(n,e);throw iv("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const nR=new RegExp("[~\\*/\\[\\]]");function rE(n,e,t){if(e.search(nR)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pu(...e.split("."))._internalPath}catch(r){throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iv(n,e,t,r,a){const c=r&&!r.isEmpty(),f=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(c||f)&&(w+=" (found",c&&(w+=` in field ${r}`),f&&(w+=` in document ${a}`),w+=")"),new Ne(ye.INVALID_ARGUMENT,y+n+w)}function rR(n,e){return n.some(t=>t.isEqual(e))}class am{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iR extends am{data(){return super.data()}}function sv(n,e){return"string"==typeof e?rE(n,e):e instanceof pu?e._internalPath:e._delegate._internalPath}class xo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends am{constructor(e,t,r,a,c,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ov extends _a{data(e={}){return super.data(e)}}class gu{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xo(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ov(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new ov(r._firestore,r._userDataWriter,f.doc.key,f.doc,new xo(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const y=new ov(r._firestore,r._userDataWriter,f.doc.key,f.doc,new xo(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==f.type&&(w=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),D=c.indexOf(f.doc.key)),{type:_N(f.type),doc:y,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _N(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function sR(n,e){return n instanceof _a&&e instanceof _a?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gu&&e instanceof gu&&n._firestore===e._firestore&&K1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function oR(n){if(Lb(n)&&0===n.explicitOrderBy.length)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ed{}function mu(n,...e){for(const t of e)n=t._apply(n);return n}class aR extends ed{constructor(e,t,r){super(),this.Ka=e,this.ja=t,this.Qa=r,this.type="where"}_apply(e){const t=Jc(e.firestore),r=function(a,c,f,y,w,D,x){let M;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){uv(x,D);const q=[];for(const re of x)q.push(lv(y,a,re));M={arrayValue:{values:q}}}else M=lv(y,a,x)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||uv(x,D),M=nD(f,"where",x,"in"===D||"not-in"===D);const V=xi.create(w,D,M);return function(q,re){if(re.v()){const Fe=zs(q);if(null!==Fe&&!Fe.isEqual(re.field))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${re.field.toString()}'`);const qe=Vb(q);null!==qe&&lm(0,re.field,qe)}const De=function(Fe,qe){for(const et of Fe.filters)if(qe.indexOf(et.op)>=0)return et.op;return null}(q,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==De)throw new Ne(ye.INVALID_ARGUMENT,De===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${De.toString()}' filters.`)}(a,V),V}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Mi(e.firestore,e.converter,function(a,c){const f=a.filters.concat([c]);return new Gs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class vN extends ed{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(r,a,c){if(null!==r.startAt)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Fh(a,c);return function(y,w){if(null===Vb(y)){const D=zs(y);null!==D&&lm(0,D,w.field)}}(r,f),f}(e._query,this.Ka,this.Wa);return new Mi(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new Gs(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class sD extends ed{constructor(e,t,r){super(),this.type=e,this.Ga=t,this.za=r}_apply(e){return new Mi(e.firestore,e.converter,oI(e._query,this.Ga,this.za))}}class dR extends ed{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=av(e,this.type,this.Ha,this.Ja);return new Mi(e.firestore,e.converter,(a=t,new Gs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class iE extends ed{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=av(e,this.type,this.Ha,this.Ja);return new Mi(e.firestore,e.converter,(a=t,new Gs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function av(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof am)return function(a,c,f,y,w){if(!y)throw new Ne(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const D=[];for(const x of bg(a))if(x.field.isKeyField())D.push(o_(c,y.key));else{const M=y.data.field(x.field);if(s_(M))throw new Ne(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=x.field.canonicalString();throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}D.push(M)}return new kh(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Jc(n.firestore);return function(c,f,y,w,D,x){const M=c.explicitOrderBy;if(D.length>M.length)throw new Ne(ye.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let q=0;q<D.length;q++){const re=D[q];if(M[q].field.isKeyField()){if("string"!=typeof re)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof re}`);if(!c_(c)&&-1!==re.indexOf("/"))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${re}' contains a slash.`);const De=c.path.child(nn.fromString(re));if(!it.isDocumentKey(De))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const Fe=new it(De);V.push(o_(f,Fe))}else{const De=nD(y,w,re);V.push(De)}}return new kh(V,x)}(n._query,n.firestore._databaseId,a,e,t,r)}}function lv(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!c_(e)&&-1!==t.indexOf("/"))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!it.isDocumentKey(r))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o_(n,new it(r))}if(t instanceof Ln)return o_(n,t._key);throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ev(t)}.`)}function uv(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function lm(n,e,t){if(!t.isEqual(e))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class gf{convertValue(e,t="none"){switch(Fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Pc(e.fields,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Qc(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=YT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const t=tu(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);wt(Qb(r));const a=new hf(r.get(1),r.get(3)),c=new it(r.popFirst(5));return a.isEqual(t)||lr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function um(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class uD extends gf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}class cD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jc(e)}set(e,t,r){this._verifyNotCommitted();const a=yu(e,this._firestore),c=um(a.converter,t,r),f=rv(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(f.toMutation(a._key,Yn.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=yu(e,this._firestore);let f;return f="string"==typeof(t=(0,Rt.m9)(t))||t instanceof pu?tE(this._dataReader,"WriteBatch.update",c._key,t,r,a):tD(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yu(e,this._firestore);return this._mutations=this._mutations.concat(new Ag(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yu(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Ne(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class td extends gf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function mf(n,e,t){n=Xt(n,Ln);const r=Xt(n.firestore,Kn),a=um(n.converter,e,t);return al(r,[rv(Jc(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Yn.none())])}function cm(n,e,t,...r){n=Xt(n,Ln);const a=Xt(n.firestore,Kn),c=Jc(a);let f;return f="string"==typeof(e=(0,Rt.m9)(e))||e instanceof pu?tE(c,"updateDoc",n._key,e,t,r):tD(c,"updateDoc",n._key,e),al(a,[f.toMutation(n._key,Yn.exists(!0))])}function dv(n,...e){var t,r,a;n=(0,Rt.m9)(n);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Cr(e[f])||(c=e[f],f++);const y={includeMetadataChanges:c.includeMetadataChanges};if(Cr(e[f])){const M=e[f];e[f]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[f+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[f+2]=null===(a=M.complete)||void 0===a?void 0:a.bind(M)}let w,D,x;if(n instanceof Ln)D=Xt(n.firestore,Kn),x=Io(n._key.path),w={next:M=>{e[f]&&e[f](oE(D,n,M))},error:e[f+1],complete:e[f+2]};else{const M=Xt(n,Mi);D=Xt(M.firestore,Kn),x=M._query;const V=new td(D);w={next:q=>{e[f]&&e[f](new gu(D,V,M,q))},error:e[f+1],complete:e[f+2]},oR(n._query)}return function(M,V,q,re){const De=new rm(re),Fe=new _1(V,De,q);return M.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return f1(yield df(M),Fe)})),()=>{De.Xo(),M.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return g1(yield df(M),Fe)}))}}(Or(D),x,y,w)}function al(n,e){return function(t,r){const a=new Nr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e,t){return I1.apply(this,arguments)}(yield Z0(t),r,a)})),a.promise}(Or(n),e)}function oE(n,e,t){const r=t.docs.get(e._key),a=new td(n);return new _a(n,a,e._key,r,new xo(t.hasPendingWrites,t.fromCache),e.converter)}class mR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jc(e)}get(e){const t=yu(e,this._firestore),r=new uD(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return rt();const c=a[0];if(c.isFoundDocument())return new am(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new am(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const a=yu(e,this._firestore),c=um(a.converter,t,r),f=rv(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,f),this}update(e,t,r,...a){const c=yu(e,this._firestore);let f;return f="string"==typeof(t=(0,Rt.m9)(t))||t instanceof pu?tE(this._dataReader,"Transaction.update",c._key,t,r,a):tD(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=yu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yu(e,this._firestore),r=new td(this._firestore);return super.get(e).then(a=>new _a(this._firestore,r,t._key,a._document,new xo(!1,!1),t.converter))}}function lE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function gD(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function hv(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){Ih=n})(Hl.SDK_VERSION),(0,Hl._registerComponent)(new Bw.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=new Kn(t,new kS(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),(0,Hl.registerVersion)(Th,"3.1.1",void 0),(0,Hl.registerVersion)(Th,"3.1.1","esm2017");class hm{constructor(e){this._delegate=e}static fromBase64String(e){return hv(),new hm(ya.fromBase64String(e))}static fromUint8Array(e){return gD(),new hm(ya.fromUint8Array(e))}toBase64(){return hv(),this._delegate.toBase64()}toUint8Array(){return gD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fv(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class CR{enableIndexedDbPersistence(e,t){return function(n,e){kr(n=Xt(n,Kn));const t=Or(n),r=n._freezeSettings(),a=new nm;return K0(t,a,new V1(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){kr(n=Xt(n,Kn));const e=Or(n),t=n._freezeSettings(),r=new nm;return K0(e,r,new Fx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ne(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!bs.bt())return Promise.resolve();const a=r+"main";yield bs.delete(a)}),function(r){return t.apply(this,arguments)})(d0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const c=(n=Xt(n,ff))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&yg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=gi.MOCK_USER;else{f=(0,Rt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new gi(w)}n._credentials=new OS(new ZT(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Ux(n),t=yield Bx(n);return e.setNetworkEnabled(!0),function(r){const a=Ze(r);return a.Kr.delete(0),Hg(a)}(t)}))}(Or(n=Xt(n,Kn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Ux(n),t=yield Bx(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(a){const c=Ze(a);c.Kr.add(0),yield nf(c),c.Wr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(Or(n=Xt(n,Kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,X_("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Nr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e){return R1.apply(this,arguments)}(yield Z0(e),t)})),t.promise}(Or(n=Xt(n,Kn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new rm(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield df(n),a=t,Ze(r).Zr.add(a),void a.next();var r,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield df(n),a=t,void Ze(r).Zr.delete(a);var r,a}))}}(Or(n=Xt(n,Kn)),Cr(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wf(this,W1(this._delegate,e))}catch(t){throw Gi(t,"collection()","Firestore.collection()")}}doc(e){try{return new vi(this,z0(this._delegate,e))}catch(t){throw Gi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ni(this,function(n,e){if(n=Xt(n,ff),Yc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mi(n,null,(t=e,new Gs(nn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(a=n,ns(a).then(c=>c.datastore));var a;new B1(n.asyncQueue,r,e,t).run()})),t.promise}(Or(n),t=>e(new mR(n,t)))}(this._delegate,t=>e(new yf(this,t)))}batch(){return Or(this._delegate),new rd(new cD(this._delegate,e=>al(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Or(n=Xt(n,Kn)),r=new hN;return function(n,e,t,r){const a=function(c,f){let y;return y="string"==typeof c?(new TextEncoder).encode(c):c,w=function(w,D){if(w instanceof Uint8Array)return L0(w,D);if(w instanceof ArrayBuffer)return L0(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new Lx(w,f);var w}(t,Zg(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,e,t){const r=Ze(n);var a;(a=(0,me.Z)(function*(c,f,y){try{const w=yield f.getMetadata();if(yield function(V,q){const re=Ze(V),De=br(q.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Fe=>re.Je.getBundleMetadata(Fe,q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(De)>=0)}(c.localStore,w))return yield f.close(),void y._completeWith((V=w,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));y._updateProgress(v1(w));const D=new rN(w,c.localStore,f.N);let x=yield f.Qo();for(;x;){const V=yield D.fo(x);V&&y._updateProgress(V),x=yield f.Qo()}const M=yield D.complete();yield fu(c,M.En,void 0),yield function(V,q){const re=Ze(V);return re.persistence.runTransaction("Save bundle","readwrite",De=>re.Je.saveBundleMetadata(De,q))}(c.localStore,w),y._completeWith(M.progress)}catch(w){yg("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w)}var V}),function(c,f,y){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Z0(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const a=Ze(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Je.getNamedQuery(c,r))}(yield j0(n),e)}))}(Or(n=Xt(n,Kn)),e).then(t=>t?new Mi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ni(this,t):null)}}class pv extends gf{constructor(e){super(),this.firestore=e}convertBytes(e){return new hm(new ya(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vi.forKey(t,this.firestore,null)}}class yf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pv(e)}get(e){const t=id(e);return this._delegate.get(t).then(r=>new _f(this._firestore,new _a(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=id(e);return r?(lE("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=id(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=id(e);return this._delegate.delete(t),this}}class rd{constructor(e){this._delegate=e}set(e,t,r){const a=id(e);return r?(lE("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=id(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=id(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class va{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ov(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vf(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=va.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(t);return c||(c=new va(e,new pv(e),t),a.set(t,c)),c}}va.INSTANCES=new WeakMap;class vi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vi(t,new Ln(t._delegate,r,new it(e)))}static forKey(e,t,r){return new vi(t,new Ln(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wf(this.firestore,W1(this._delegate,e))}catch(t){throw Gi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Ln&&zx(this._delegate,e)}set(e,t){t=lE("DocumentReference.set",t);try{return t?mf(this._delegate,e,t):mf(this._delegate,e)}catch(r){throw Gi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?cm(this._delegate,e):cm(this._delegate,e,t,...r)}catch(a){throw Gi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return al(Xt(n.firestore,Kn),[new Ag(n._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=_D(e),r=vD(e,a=>new _f(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return dv(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Xt(n,Ln);const e=Xt(n.firestore,Kn),t=Or(e),r=new td(e);return function(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(a,c,f){try{const y=yield function(w,D){const x=Ze(w);return x.persistence.runTransaction("read document","readonly",M=>x.Qn.An(M,D))}(a,c);y.isFoundDocument()?f.resolve(y):y.isNoDocument()?f.resolve(null):f.reject(new Ne(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=Yg(y,`Failed to get document '${c} from cache`);f.reject(w)}}),function(a,c,f){return r.apply(this,arguments)})(yield j0(n),e,t);var r})),t.promise}(t,n._key).then(a=>new _a(e,r,n._key,a,new xo(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Xt(n,Ln);const e=Xt(n.firestore,Kn);return q1(Or(e),n._key,{source:"server"}).then(t=>oE(e,n,t))}(this._delegate):function(n){n=Xt(n,Ln);const e=Xt(n.firestore,Kn);return q1(Or(e),n._key).then(t=>oE(e,n,t))}(this._delegate),t.then(r=>new _f(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new vi(this.firestore,this._delegate.withConverter(e?va.getInstance(this.firestore,e):null))}}function Gi(n,e,t){return n.message=n.message.replace(e,t),n}function _D(n){for(const e of n)if("object"==typeof e&&!fv(e))return e;return{}}function vD(n,e){var t,r;let a;return a=fv(n[0])?n[0]:fv(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class _f{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sR(this._delegate,e._delegate)}}class vf extends _f{data(e){const t=this._delegate.data(e);return function(n,e){n||rt()}(void 0!==t),t}}class Ni{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pv(e)}where(e,t,r){try{return new Ni(this.firestore,mu(this._delegate,function(n,e,t){const r=e,a=sv("where",n);return new aR(a,r,t)}(e,t,r)))}catch(a){throw Gi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ni(this.firestore,mu(this._delegate,function(n,e="asc"){const t=e,r=sv("orderBy",n);return new vN(r,t)}(e,t)))}catch(r){throw Gi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ni(this.firestore,mu(this._delegate,function(n){return $x("limit",n),new sD("limit",n,"F")}(e)))}catch(t){throw Gi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ni(this.firestore,mu(this._delegate,function(n){return $x("limitToLast",n),new sD("limitToLast",n,"L")}(e)))}catch(t){throw Gi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ni(this.firestore,mu(this._delegate,function(...n){return new dR("startAt",n,!0)}(...e)))}catch(t){throw Gi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ni(this.firestore,mu(this._delegate,function(...n){return new dR("startAfter",n,!1)}(...e)))}catch(t){throw Gi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ni(this.firestore,mu(this._delegate,function(...n){return new iE("endBefore",n,!0)}(...e)))}catch(t){throw Gi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ni(this.firestore,mu(this._delegate,function(...n){return new iE("endAt",n,!1)}(...e)))}catch(t){throw Gi(t,"endAt()","Query.endAt()")}}isEqual(e){return K1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Xt(n,Mi);const e=Xt(n.firestore,Kn),t=Or(e),r=new td(e);return function(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(a,c,f){try{const y=yield M_(a,c,!0),w=new Tx(c,y.Gn),D=w.Io(y.documents),x=w.applyChanges(D,!1);f.resolve(x.snapshot)}catch(y){const w=Yg(y,`Failed to execute query '${c} against cache`);f.reject(w)}}),function(a,c,f){return r.apply(this,arguments)})(yield j0(n),e,t);var r})),t.promise}(t,n._query).then(a=>new gu(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Xt(n,Mi);const e=Xt(n.firestore,Kn),t=Or(e),r=new td(e);return H0(t,n._query,{source:"server"}).then(a=>new gu(e,r,n,a))}(this._delegate):function(n){n=Xt(n,Mi);const e=Xt(n.firestore,Kn),t=Or(e),r=new td(e);return oR(n._query),H0(t,n._query).then(a=>new gu(e,r,n,a))}(this._delegate),t.then(r=>new fm(this.firestore,new gu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_D(e),r=vD(e,a=>new fm(this.firestore,new gu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return dv(this._delegate,t,r)}withConverter(e){return new Ni(this.firestore,this._delegate.withConverter(e?va.getInstance(this.firestore,e):null))}}class wD{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ni(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wD(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new vf(this._firestore,r))})}isEqual(e){return sR(this._delegate,e._delegate)}}class wf extends Ni{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vi(this.firestore,e):null}doc(e){try{return new vi(this.firestore,void 0===e?z0(this._delegate):z0(this._delegate,e))}catch(t){throw Gi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Xt(n.firestore,Kn),r=z0(n),a=um(n.converter,e);return al(t,[rv(Jc(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new vi(this.firestore,t))}isEqual(e){return zx(this._delegate,e._delegate)}withConverter(e){return new wf(this.firestore,this._delegate.withConverter(e?va.getInstance(this.firestore,e):null))}}function id(n){return Xt(n,Ln)}class gv{constructor(...e){this._delegate=new pu(...e)}static documentId(){return new gv(mi.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ts{constructor(e){this._delegate=e}static serverTimestamp(){const e=new eE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ts(e)}static delete(){const e=new om("deleteField");return e._methodName="FieldValue.delete",new Ts(e)}static arrayUnion(...e){const t=function(...n){return new eR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ts(t)}static arrayRemove(...e){const t=function(...n){return new tR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ts(t)}static increment(e){const t=function(n){return new yN("increment",n)}(e);return t._methodName="FieldValue.increment",new Ts(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uE={Firestore:yD,GeoPoint:Qc,Timestamp:Pr,Blob:hm,Transaction:yf,WriteBatch:rd,DocumentReference:vi,DocumentSnapshot:_f,Query:Ni,QueryDocumentSnapshot:vf,QuerySnapshot:fm,CollectionReference:wf,FieldPath:gv,FieldValue:Ts,setLogLevel:function(n){!function(n){eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function DR(n,e){return function(n,e=kC.z){return new ui.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function bD(n,e){return DR(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function mv(n,e){return bD(n,e).pipe(v(void 0),zC(),(0,gt.U)(([t,r])=>{const a=r.payload.docChanges(),c=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,y)=>{const w=a.find(x=>x.doc.ref.isEqual(f.ref)),D=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:f}})}),c}))}function ED(n,e,t){return mv(n,t).pipe(p((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return CD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return CD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(c=>c.payload),e),[]),t=>t.lift(new VM(void 0,void 0)),(0,gt.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function CD(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function AR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new Bw.wA("firestore-compat",t=>((e,t)=>new yD(e,t,new CR))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},uE)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(Uw.Z);class TD{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(v(void 0),zC(),S(([r,a])=>a.length>0||!r),(0,gt.U)(([r,a])=>a),Fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(p((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return ED(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return bD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Fn.iC)}add(e){return this.ref.add(e)}doc(e){return new SR(this.ref.doc(e),this.afs)}}class SR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:c}=o(r,t);return new TD(a,c,this.afs)}snapshotChanges(){return function(n,e){return DR(n,e).pipe(v(void 0),zC(),(0,gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(Fn.iC)}}class TN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mv(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),S(t=>t.length>0),Fn.iC):mv(this.query,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(p((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return ED(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return bD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Fn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Fn.iC)}}const xR=new l.OlP("angularfire2.enableFirestorePersistence"),RR=new l.OlP("angularfire2.firestore.persistenceSettings"),i=new l.OlP("angularfire2.firestore.settings"),s=new l.OlP("angularfire2.firestore.use-emulator");function o(n,e=(t=>t)){return{query:e(n),ref:n}}let u=(()=>{class n{constructor(t,r,a,c,f,y,w,D,x,M,V,q,re,De,Fe,qe){this.schedulers=w;const et=(0,js.on)(t,y,r),Ke=x;M&&$C(et,y,V,re,De,Fe,q,qe),[this.firestore,this.persistenceEnabled$]=(0,Fn.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const ct=y.runOutsideAngular(()=>et.firestore());if(c&&ct.settings(c),Ke&&ct.useEmulator(...Ke),a&&!qo(f)){const In=()=>{try{return(0,pn.D)(ct.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(ti){return"undefined"!=typeof console&&console.warn(ti),(0,He.of)(!1)}};return[ct,y.runOutsideAngular(In)]}return[ct,(0,He.of)(!1)]},[c,Ke,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=o(a,r),y=this.schedulers.ngZone.run(()=>c);return new TD(y,f,this)}collectionGroup(t,r){const a=r||(f=>f),c=this.firestore.collectionGroup(t);return new TN(a(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new SR(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(js.Dh),l.LFG(js.xv,8),l.LFG(xR,8),l.LFG(i,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Fn.HU),l.LFG(RR,8),l.LFG(s,8),l.LFG(Vp,8),l.LFG(Vw,8),l.LFG(qC,8),l.LFG(HC,8),l.LFG(QA,8),l.LFG(JA,8),l.LFG(Iy,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d=(()=>{class n{constructor(){Ty.Z.registerVersion("angularfire",Fn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xR,useValue:!0},{provide:RR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[u]}),n})();class m{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new _(e,this.dueTime,this.scheduler))}}class _ extends zr.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(E,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function E(n){n.debouncedNext()}var I=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(I||(I={})),I))();const A="firebasestorage.googleapis.com",N="storageBucket";class j extends Rt.ZR{constructor(e,t){super(ce(e),`Firebase Storage: ${t} (${ce(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,j.prototype)}_codeEquals(e){return ce(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ce(n){return"storage/"+n}function ee(){return new j("unknown","An unknown error occurred, please check the error payload for server response.")}function Is(){return new j("canceled","User canceled the upload/download.")}function sd(){return new j("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dE(){return new j("no-download-url","The given file does not have any download URLs.")}function _u(n){return new j("invalid-argument",n)}function yv(){return new j("app-deleted","The Firebase app was deleted.")}function _v(n){return new j("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hE(n,e){return new j("invalid-format","String does not match format '"+n+"': "+e)}function ID(n){throw new j("internal-error","Internal error: "+n)}class AO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=I.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=I.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=I.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a){if(this.sent_)throw ID("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ID("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ID("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw ID("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class xO{createConnection(){return new AO}}class rs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rs.makeFromUrl(e,t)}catch(a){return new rs(e,"")}if(""===r.path)return r;throw function(n){return new j("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+a+"(/(.*))?$","i");function D(ct){ct.path_=decodeURIComponent(ct.path)}const M=t.replace(/[.]/g,"\\."),Ke=[{regex:y,indices:{bucket:1,path:3},postModify:function(ct){"/"===ct.path.charAt(ct.path.length-1)&&(ct.path_=ct.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${t===A?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let ct=0;ct<Ke.length;ct++){const In=Ke[ct],ti=In.regex.exec(e);if(ti){let _m=ti[In.indices.path];_m||(_m=""),r=new rs(ti[In.indices.bucket],_m),In.postModify(r);break}}if(null==r)throw function(n){return new j("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class RO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function DD(n){return"string"==typeof n||n instanceof String}function IN(n){return MR()&&n instanceof Blob}function MR(){return"undefined"!=typeof Blob}function NR(n,e,t,r){if(r<e)throw _u(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _u(`Invalid value for '${n}'. Expected ${t} or less.`)}function Cf(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function DN(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}class FO{constructor(e,t,r,a,c,f,y,w,D,x,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=w,this.timeout_=D,this.progressCallback_=x,this.pool_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,q)=>{this.resolve_=V,this.reject_=q,this.start_()})}start_(){const t=(r,a)=>{const c=this.resolve_,f=this.reject_,y=a.connection;if(a.wasSuccessCode)try{const w=this.callback_(y,y.getResponseText());!function(n){return void 0!==n}(w)?c():c(w)}catch(w){f(w)}else if(null!==y){const w=ee();w.serverResponse=y.getResponseText(),f(this.errorCallback_?this.errorCallback_(y,w):w)}else f(a.canceled?this.appDelete_?yv():Is():new j("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new AD(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,a=null,c=!1,f=0;function y(){return 2===f}let w=!1;function D(...re){w||(w=!0,e.apply(null,re))}function x(re){a=setTimeout(()=>{a=null,n(M,y())},re)}function M(re,...De){if(w)return;if(re)return void D.call(null,re,...De);if(y()||c)return void D.call(null,re,...De);let qe;r<64&&(r*=2),1===f?(f=2,qe=0):qe=1e3*(r+Math.random()),x(qe)}let V=!1;function q(re){V||(V=!0,!w&&(null!==a?(re||(f=2),clearTimeout(a),x(0)):re||(f=1)))}return x(0),setTimeout(()=>{c=!0,q(!0)},t),q}((r,a)=>{if(a)return void r(!1,new AD(!1,null,!0));const c=this.pool_.createConnection();this.pendingConnection_=c;const f=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const y=c.getErrorCode()===I.NO_ERROR,w=c.getStatus();if(!y||this.isRetryStatusCode_(w)){const x=c.getErrorCode()===I.ABORT;return void r(!1,new AD(!1,null,x))}const D=-1!==this.successCodes_.indexOf(w);r(!0,new AD(D,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||c}}class AD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function qO(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(MR())return new Blob(n);throw new j("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PR{constructor(e,t){this.data=e,this.contentType=t||null}}function OR(n,e){switch(n){case Mo.RAW:return new PR(AN(e));case Mo.BASE64:case Mo.BASE64URL:return new PR(SN(n,e));case Mo.DATA_URL:return new PR(function(n){const e=new xN(n);return e.base64?SN(Mo.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw hE(Mo.DATA_URL,"Malformed data URL.")}return AN(e)}(e.rest)}(e),function(n){return new xN(n).contentType}(e))}throw ee()}function AN(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function SN(n,e){switch(n){case Mo.BASE64:{const a=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(a||c)throw hE(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const a=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(a||c)throw hE(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(a){throw hE(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class xN{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw hE(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class vu{constructor(e,t){let r=0,a="";IN(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(IN(this.data_)){const a=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===a?null:new vu(a)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new vu(r,!0)}}static getBlob(...e){if(MR()){const t=e.map(r=>r instanceof vu?r.data_:r);return new vu(qO.apply(null,t))}{const t=e.map(f=>DD(f)?OR(Mo.RAW,f).data:f.data_);let r=0;t.forEach(f=>{r+=f.byteLength});const a=new Uint8Array(r);let c=0;return t.forEach(f=>{for(let y=0;y<f.length;y++)a[c++]=f[y]}),new vu(a,!0)}}uploadData(){return this.data_}}function kR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function RN(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function JO(n,e){return e}class Ds{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||JO}}let SD=null;function fE(){if(SD)return SD;const n=[];n.push(new Ds("bucket")),n.push(new Ds("generation")),n.push(new Ds("metageneration")),n.push(new Ds("name","fullPath",!0));const t=new Ds("name");t.xform=function(c,f){return function(n){return!DD(n)||n.length<2?n:RN(n)}(f)},n.push(t);const a=new Ds("size");return a.xform=function(c,f){return void 0!==f?Number(f):f},n.push(a),n.push(new Ds("timeCreated")),n.push(new Ds("updated")),n.push(new Ds("md5Hash",null,!0)),n.push(new Ds("cacheControl",null,!0)),n.push(new Ds("contentDisposition",null,!0)),n.push(new Ds("contentEncoding",null,!0)),n.push(new Ds("contentLanguage",null,!0)),n.push(new Ds("contentType",null,!0)),n.push(new Ds("metadata","customMetadata",!0)),SD=n,SD}function MN(n,e,t){const r=kR(e);return null===r?null:function(n,e,t){const r={type:"file"},a=t.length;for(let c=0;c<a;c++){const f=t[c];r[f.local]=f.xform(r,e[f.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new rs(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function FR(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const c=e[a];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const NN="prefixes";class od{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wu(n){if(!n)throw ee()}function xD(n,e){return function(r,a){const c=MN(n,a,e);return wu(null!==c),c}}function vv(n){return function(t,r){let a;return a=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new j("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new j("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new j("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new j("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,a.serverResponse=r.serverResponse,a}}function RD(n){const e=vv(n);return function(r,a){let c=e(r,a);return 404===r.getStatus()&&(c=function(n){return new j("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=a.serverResponse,c}}function ON(n,e,t){const a=Cf(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new od(a,"GET",xD(n,t),f);return y.errorHandler=RD(e),y}function ak(n,e,t,r,a){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),a&&(c.maxResults=a);const y=Cf(e.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,x=new od(y,"GET",function(n,e){return function(r,a){const c=function(n,e,t){const r=kR(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[NN])for(const a of t[NN]){const c=a.replace(/\/$/,""),f=n._makeStorageReference(new rs(e,c));r.prefixes.push(f)}if(t.items)for(const a of t.items){const c=n._makeStorageReference(new rs(e,a.name));r.items.push(c)}return r}(n,e,r)}(n,e,a);return wu(null!==c),c}}(n,e.bucket),D);return x.urlParams=c,x.errorHandler=vv(e),x}function lk(n,e,t){const a=Cf(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new od(a,"GET",function(n,e){return function(r,a){const c=MN(n,a,e);return wu(null!==c),function(n,e,t,r){const a=kR(e);if(null===a||!DD(a.downloadTokens))return null;const c=a.downloadTokens;if(0===c.length)return null;const f=encodeURIComponent;return c.split(",").map(D=>{const M=n.fullPath;return Cf("/b/"+f(n.bucket)+"/o/"+f(M),t,r)+DN({alt:"media",token:D})})[0]}(c,a,n.host,n._protocol)}}(n,t),f);return y.errorHandler=RD(e),y}function uk(n,e,t,r){const c=Cf(e.fullServerUrl(),n.host,n._protocol),y=FR(t,r),D=n.maxOperationRetryTime,x=new od(c,"PATCH",xD(n,r),D);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=y,x.errorHandler=RD(e),x}function ck(n,e){const r=Cf(e.fullServerUrl(),n.host,n._protocol),y=new od(r,"DELETE",function(w,D){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=RD(e),y}function kN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class MD{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function LR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){wu(!1)}return wu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const gk={STATE_CHANGED:"state_changed"},As={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VR(n){switch(n){case"running":case"pausing":case"canceling":return As.RUNNING;case"paused":return As.PAUSED;case"success":return As.SUCCESS;case"canceled":return As.CANCELED;case"error":default:return As.ERROR}}class mk{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function wv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class VN{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=fE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,c)=>{this._resolve=a,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,a){const c=e.bucketOnlyServerUrl(),f=kN(e,r,a),y={name:f.fullPath},w=Cf(c,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},M=FR(f,t),re=new od(w,"POST",function(De){let Fe;LR(De);try{Fe=De.getResponseHeader("X-Goog-Upload-URL")}catch(qe){wu(!1)}return wu(DD(Fe)),Fe},n.maxUploadRetryTime);return re.urlParams=y,re.headers=x,re.body=M,re.errorHandler=vv(e),re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=function(n,e,t,r){const w=new od(t,"POST",function(D){const x=LR(D,["active","final"]);let M=null;try{M=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch(q){wu(!1)}M||wu(!1);const V=Number(M);return wu(!isNaN(V)),new MD(V,r.size(),"final"===x)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=vv(e),w}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(a,t,r);this._request=c,c.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new MD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,c)=>{let f;try{f=function(n,e,t,r,a,c,f,y){const w=new MD(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw new j("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=w.total-w.current;let x=D;a>0&&(x=Math.min(x,a));const M=w.current,re={"X-Goog-Upload-Command":x===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},De=r.slice(M,M+x);if(null===De)throw sd();const Ke=new od(t,"POST",function(ct,In){const ti=LR(ct,["active","final"]),Av=w.current+x,_m=r.size();let bE;return bE="final"===ti?xD(e,c)(ct,In):null,new MD(Av,_m,"final"===ti,bE)},e.maxUploadRetryTime);return Ke.headers=re,Ke.body=De.uploadData(),Ke.progressCallback=y||null,Ke.errorHandler=vv(n),Ke}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const y=this._ref.storage._makeRequest(f,a,c);this._request=y,y.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=ON(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,a){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Ke="";for(let ct=0;ct<2;ct++)Ke+=Math.random().toString().slice(2);return Ke}();f["Content-Type"]="multipart/related; boundary="+w;const D=kN(e,r,a),x=FR(D,t),q=vu.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+w+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===q)throw sd();const re={name:D.fullPath},De=Cf(c,n.host,n._protocol),qe=n.maxUploadRetryTime,et=new od(De,"POST",xD(n,t),qe);return et.urlParams=re,et.headers=f,et.body=q.uploadData(),et.errorHandler=vv(e),et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Is(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=VR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const c=new mk(t||void 0,r||void 0,a||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(VR(this._state)){case As.SUCCESS:wv(this._resolve.bind(null,this.snapshot))();break;case As.CANCELED:case As.ERROR:wv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(VR(this._state)){case As.RUNNING:case As.PAUSED:e.next&&wv(e.next.bind(e,this.snapshot))();break;case As.SUCCESS:e.complete&&wv(e.complete.bind(e))();break;case As.CANCELED:case As.ERROR:e.error&&wv(e.error.bind(e,this._error))();break;default:e.error&&wv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class gm{constructor(e,t){this._service=e,this._location=t instanceof rs?t:rs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gm(e,t)}get root(){const e=new rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RN(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new rs(this._location.bucket,e);return new gm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _v(e)}}function BN(n,e,t){return UR.apply(this,arguments)}function UR(){return(UR=(0,me.Z)(function*(n,e,t){const a=yield jN(n,{pageToken:t});e.prefixes.push(...a.prefixes),e.items.push(...a.items),null!=a.nextPageToken&&(yield BN(n,e,a.nextPageToken))})).apply(this,arguments)}function jN(n,e){return BR.apply(this,arguments)}function BR(){return(BR=(0,me.Z)(function*(n,e){null!=e&&"number"==typeof e.maxResults&&NR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=ak(n.storage,n._location,"/",t.pageToken,t.maxResults);return(yield n.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function jR(){return(jR=(0,me.Z)(function*(n){n._throwIfRoot("getMetadata");const e=ON(n.storage,n._location,fE());return(yield n.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function ZR(){return(ZR=(0,me.Z)(function*(n,e){n._throwIfRoot("updateMetadata");const t=uk(n.storage,n._location,e,fE());return(yield n.storage.makeRequestWithTokens(t)).getPromise()})).apply(this,arguments)}function qR(){return(qR=(0,me.Z)(function*(n){n._throwIfRoot("getDownloadURL");const e=lk(n.storage,n._location,fE());return(yield n.storage.makeRequestWithTokens(e)).getPromise().then(t=>{if(null===t)throw dE();return t})})).apply(this,arguments)}function HR(){return(HR=(0,me.Z)(function*(n){n._throwIfRoot("deleteObject");const e=ck(n.storage,n._location);return(yield n.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function ZN(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new rs(n._location.bucket,t);return new gm(n.storage,r)}function qN(n,e){if(n instanceof $R){const t=n;if(null==t._bucket)throw new j("no-default-bucket","No default bucket found. Did you set the '"+N+"' property when initializing the app?");const r=new gm(t,t._bucket);return null!=e?qN(r,e):r}return void 0!==e?ZN(n,e):n}function Dk(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof $R)return function(n,e){return new gm(n,e)}(n,e);throw _u("To use ref(service, url), the first argument must be a Storage instance.")}return qN(n,e)}function HN(n,e){const t=null==e?void 0:e[N];return null==t?null:rs.makeFromBucketSpec(t,n)}class $R{constructor(e,t,r,a,c,f){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=a,this._url=c,this._firebaseVersion=f,this._bucket=null,this._host=A,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?rs.makeFromBucketSpec(c,this._host):HN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?rs.makeFromBucketSpec(this._url,e):HN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gm(this,e)}_makeRequest(e,t,r){if(this._deleted)return new RO(yv());{const a=function(n,e,t,r,a,c){const f=DN(n.urlParams),y=n.url+f,w=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new FO(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(e,this._appId,t,r,this._pool,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e){var t=this;return(0,me.Z)(function*(){const[r,a]=yield Promise.all([t._getAuthToken(),t._getAppCheckToken()]);return t._makeRequest(e,r,a)})()}}const $N="@firebase/storage";function WN(n,e){return Dk(n=(0,Rt.m9)(n),e)}(0,Hl._registerComponent)(new Bw.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new $R(t,r,a,new xO,e,Hl.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Hl.registerVersion)($N,"0.8.4",""),(0,Hl.registerVersion)($N,"0.8.4","esm2017");class ND{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class YN{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ND(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new ND(r,this,this._ref))},t)}on(e,t,r,a){let c;return t&&(c="function"==typeof t?f=>t(new ND(f,this,this._ref)):{next:t.next?f=>t.next(new ND(f,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,a||void 0)}}class KN{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ad(e,this._service))}get items(){return this._delegate.items.map(e=>new ad(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ad{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return ZN(n,e)}(this._delegate,e);return new ad(t,this.storage)}get root(){return new ad(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ad(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new YN(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new VN(n,new vu(e),t)}(n=(0,Rt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Mo.RAW,r){this._throwIfRoot("putString");const a=OR(t,e),c=Object.assign({},r);return null==c.contentType&&null!=a.contentType&&(c.contentType=a.contentType),new YN(new VN(this._delegate,new vu(a.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return BN(n,e).then(()=>e)}(n=(0,Rt.m9)(n))}(this._delegate).then(e=>new KN(e,this.storage))}list(e){return function(n,e){return jN(n=(0,Rt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new KN(t,this.storage))}getMetadata(){return function(n){return function(n){return jR.apply(this,arguments)}(n=(0,Rt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){return ZR.apply(this,arguments)}(n=(0,Rt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return function(n){return qR.apply(this,arguments)}(n=(0,Rt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){return HR.apply(this,arguments)}(n=(0,Rt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _v(e)}}class QN{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(JN(e))throw _u("ref() expected a child path but got a URL, use refFromURL instead.");return new ad(WN(this._delegate,e),this)}refFromURL(e){if(!JN(e))throw _u("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rs.makeFromUrl(e,this._delegate.host)}catch(t){throw _u("refFromUrl() expected a valid full URL but got an invalid one.")}return new ad(WN(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Rt.Sg)(a,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function JN(n){return/^[A-Za-z]+:\/\//.test(n)}function Zk(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new QN(t,r)}function XN(n){const e=function(n){return new ui.y(e=>{const t=f=>e.next(f);t(n.snapshot);const c=n.on("state_changed",t);return n.then(f=>{t(f),e.complete()},f=>{t(n.snapshot),(f=>{e.error(f)})(f)}),function(){c()}}).pipe(function(n,e=kC.P){return t=>t.lift(new m(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,gt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function PD(n){return{getDownloadURL:()=>(0,He.of)(void 0).pipe(Fn.fc,kn(()=>n.getDownloadURL()),Fn.iC),getMetadata:()=>(0,He.of)(void 0).pipe(Fn.fc,kn(()=>n.getMetadata()),Fn.iC),delete:()=>(0,pn.D)(n.delete()),child:e=>PD(n.child(e)),updateMetadata:e=>(0,pn.D)(n.updateMetadata(e)),put:(e,t)=>XN(n.put(e,t)),putString:(e,t,r)=>XN(n.putString(e,t,r)),listAll:()=>(0,pn.D)(n.listAll())}}!function(n){const e={TaskState:As,TaskEvent:gk,StringFormat:Mo,Storage:QN,Reference:ad};n.INTERNAL.registerComponent(new Bw.wA("storage-compat",Zk,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.4")}(Uw.Z);const $k=new l.OlP("angularfire2.storageBucket"),Gk=new l.OlP("angularfire2.storage.maxUploadRetryTime"),zk=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Wk=new l.OlP("angularfire2.storage.use-emulator");let GR=(()=>{class n{constructor(t,r,a,c,f,y,w,D,x){const M=(0,js.on)(t,f,r);this.storage=(0,Fn.cc)(`${M.name}.storage.${a}`,"AngularFireStorage",M.name,()=>{const V=f.runOutsideAngular(()=>M.storage(a||void 0)),q=x;return q&&V.useEmulator(...q),w&&V.setMaxUploadRetryTime(w),D&&V.setMaxOperationRetryTime(D),V},[w,D])}ref(t){return PD(this.storage.ref(t))}refFromURL(t){return PD(this.storage.refFromURL(t))}upload(t,r,a){return PD(this.storage.ref(t)).put(r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(js.Dh),l.LFG(js.xv,8),l.LFG($k,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Fn.HU),l.LFG(Gk,8),l.LFG(zk,8),l.LFG(Wk,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Kk=(()=>{class n{constructor(){Ty.Z.registerVersion("angularfire",Fn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[GR],imports:[Yk]}),n})(),ld=(()=>{class n{constructor(t,r,a,c){this.afAuth=t,this.router=r,this.db=a,this.storange=c,this.listaEspecialista=[],this.listaPacientes=[],this.listaAdministradores=[],this.EspecialidadesRef=this.db.collection("especialidades"),this.AdministradoresRef=this.db.collection("administradores"),this.EspecialistasRef=this.db.collection("especialistas"),this.PacientesRef=this.db.collection("paciente"),this.TraerTodoEspeci().subscribe(f=>this.listaEs=f),this.traerTodoEspecialista().subscribe(f=>this.listaEspecialista=f),this.traerTodoPacientes().subscribe(f=>this.listaPacientes=f),this.traerTodoAdmin().subscribe(f=>this.listaAdministradores=f),this.afAuth.authState.subscribe(f=>{f&&(this.usuarioEntero=f._delegate.email,console.log(this.usuarioEntero))})}singIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}getTodasEspecialidades(){return this.listaEs}extraerUsuario(t){let r;return this.SiEsUsuario(t,this.listaEspecialista)?(this.usuario=this.chequearEspecialista(t),r=this.usuario,this.tipo="especialista"):this.SiEsUsuario(t,this.listaPacientes)?(this.usuario=this.TraerUsuario(t,this.listaPacientes),r=this.usuario,this.tipo="paciente"):(this.usuario=this.TraerUsuario(t,this.listaAdministradores),this.tipo="admin",r=this.usuario),r}getEspecialistaPorEspecialidad(t){var r=this;return(0,me.Z)(function*(){return r.db.collection("especialistas",a=>a.where("especialidad","array-contains",t.nombre)).snapshotChanges().pipe((0,gt.U)(a=>a.map(c=>{const f=c.payload.doc.data();return Object.assign({uid:c.payload.doc.id},f)})))})()}traerTodoPaciente(){return this.listaPacientes}traerTodoDoctor(){return this.listaEspecialista}getEspecialistas(){return this.EspecialistasRef.snapshotChanges()}getEspecialista(t){return this.EspecialistasRef.doc(t).snapshotChanges()}actualizarEspecialista(t,r){return this.EspecialistasRef.doc(t).update(r)}TraerUsuario(t,r){let a;for(let c=0;c<r.length;c++)r[c].mail===t&&(a=r[c]);return a}SiEsUsuario(t,r){let a=!1;for(let c=0;c<r.length;c++)r[c].mail===t&&(a=!0);return a}register(t){var r=this;return(0,me.Z)(function*(){return r.afAuth.createUserWithEmailAndPassword(t.mail,t.pass).then(a=>{var c;"especialidad"in t?r.addEspecialista(t):"obraSocial"in t?r.addPaciente(t):r.addAdministrador(t),null===(c=a.user)||void 0===c||c.sendEmailVerification().then(()=>{"admin"===localStorage.getItem("tipo")?(r.mensajeAprobado("ya cargo el usaurio "),r.router.navigate(["registro"])):(r.mensajeAprobado("verificar email y si usted es especialsita esperar la aprobacion del Administrador"),r.router.navigate([""]))})})})()}sendVerificationEmail(){var t=this;return(0,me.Z)(function*(){var r;return null===(r=yield t.afAuth.currentUser)||void 0===r?void 0:r.sendEmailVerification()})()}SiEsEspecialista(t){let r=!1;for(let a=0;a<this.listaEspecialista.length;a++)this.listaEspecialista[a].mail===t&&(r=!0);return r}traerTodoAdmin(){return this.AdministradoresRef.valueChanges()}traerTodoPacientes(){return this.PacientesRef.valueChanges()}traerTodoEspecialista(){return this.EspecialistasRef.valueChanges()}TraerTodoEspeci(){return this.EspecialidadesRef.valueChanges()}chequearEspecialista(t,r){let a;for(let c=0;c<this.listaEspecialista.length;c++)this.listaEspecialista[c].mail===t&&(a=this.listaEspecialista[c]);return a}addEspecialista(t){this.EspecialistasRef.add(Object.assign({},t))}addPaciente(t){this.PacientesRef.add(Object.assign({},t))}addAdministrador(t){this.AdministradoresRef.add(Object.assign({},t))}mensajeAprobado(t){yr().fire({title:"Usuario Registrado",icon:"success",titleText:t})}singOut(){return this.afAuth.signOut()}subirImagen(t,r){return this.storange.ref(t).putString(r,"data_url").then(a=>{a.ref.getDownloadURL().then(c=>c)})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vp),l.LFG(mr),l.LFG(u),l.LFG(GR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qk(n,e){1&n&&(l.TgZ(0,"li",11),l.TgZ(1,"a",18),l._uU(2,"Pacientes"),l.qZA(),l.qZA())}function Jk(n,e){1&n&&(l.TgZ(0,"li",11),l.TgZ(1,"a",19),l._uU(2,"Especialistas"),l.qZA(),l.qZA())}function Xk(n,e){1&n&&(l.TgZ(0,"li",11),l.TgZ(1,"a",20),l._uU(2,"Altas"),l.qZA(),l.qZA())}function e2(n,e){1&n&&(l.TgZ(0,"li",11),l.TgZ(1,"a",21),l._uU(2,"misTurnos"),l.qZA(),l.qZA())}function t2(n,e){1&n&&(l.TgZ(0,"li",11),l.TgZ(1,"a",22),l._uU(2,"Solicitar Turno"),l.qZA(),l.qZA())}const n2=function(n,e,t){return{"bg-success":n,"bg-info":e,"bg-primary":t}};let bu=(()=>{class n{constructor(t,r){this.authServise=t,this.router=r}ngOnInit(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.tipo=localStorage.getItem("tipo"),this.nombre=this.usuario.nombre+" "+this.usuario.apellido}logOut(){this.authServise.singOut().then(()=>{localStorage.clear(),this.router.navigate([""])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ld),l.Y36(mr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:29,vars:14,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","p-0","mr-0","d-flex","justify-content-center","align-items-center","animate__animated","animate__fadeIn"],["alt","User image","width","55","height","55",2,"border-radius","50px",3,"src"],[2,"margin-left","0.5rem"],[1,"m-0"],[1,"badge","w-50",3,"ngClass"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","../home",1,"nav-link","active"],["class","nav-item",4,"ngIf"],["aria-current","page","routerLink","../mi-perfil",1,"nav-link","active"],[1,"d-flex"],[1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-box-arrow-right"],["aria-current","page","routerLink","../lista-pacientes",1,"nav-link","active"],["aria-current","page","routerLink","../lista-especialistas",1,"nav-link","active"],["aria-current","page","routerLink","../registro",1,"nav-link","active"],["aria-current","page","routerLink","../mis-turnos",1,"nav-link","active"],["aria-current","page","routerLink","../solicitar-turno",1,"nav-link","active"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"img",3),l.TgZ(4,"div",4),l.TgZ(5,"span"),l._uU(6),l.qZA(),l.TgZ(7,"h6",5),l.TgZ(8,"span",6),l._uU(9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"button",7),l._UZ(11,"span",8),l.qZA(),l.TgZ(12,"div",9),l.TgZ(13,"ul",10),l.TgZ(14,"li",11),l.TgZ(15,"a",12),l._uU(16,"Home"),l.qZA(),l.qZA(),l.YNc(17,Qk,3,0,"li",13),l.YNc(18,Jk,3,0,"li",13),l.YNc(19,Xk,3,0,"li",13),l.YNc(20,e2,3,0,"li",13),l.YNc(21,t2,3,0,"li",13),l.TgZ(22,"li",11),l.TgZ(23,"a",14),l._uU(24,"Mi Perfil"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"form",15),l.TgZ(26,"button",16),l.NdJ("click",function(){return r.logOut()}),l._UZ(27,"i",17),l._uU(28," Salir"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("src",r.usuario.fotoUno,l.LSH),l.xp6(3),l.AsE(" ",r.usuario.nombre," ",r.usuario.apellido," "),l.xp6(2),l.Q6J("ngClass",l.kEZ(10,n2,"especialista"==r.tipo,"admin"==r.tipo,"paciente"==r.tipo)),l.xp6(1),l.hij("",r.tipo," "),l.xp6(8),l.Q6J("ngIf","admin"==r.tipo),l.xp6(1),l.Q6J("ngIf","admin"==r.tipo),l.xp6(1),l.Q6J("ngIf","admin"==r.tipo),l.xp6(1),l.Q6J("ngIf","paciente"==r.tipo||"especialista"===r.tipo),l.xp6(1),l.Q6J("ngIf","paciente"===r.tipo||"admin"==r.tipo))},directives:[bi,Np,Cn,ra,or,Ol],styles:[""]}),n})();function r2(n,e){if(1&n&&(l.TgZ(0,"option"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function i2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",7),l.NdJ("click",function(){l.CHM(t);const a=l.oxw().$implicit;return l.oxw().changeEstado(a.id,!1)}),l._uU(1,"Inhabilitar cuenta"),l.qZA()}}function s2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(t);const a=l.oxw().$implicit;return l.oxw().changeEstado(a.id,!0)}),l._uU(1,"Habilitar cuenta"),l.qZA()}}function o2(n,e){if(1&n&&(l.TgZ(0,"tr"),l.TgZ(1,"th",3),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l.TgZ(12,"section"),l.YNc(13,r2,2,1,"option",2),l.qZA(),l.qZA(),l.TgZ(14,"td"),l.TgZ(15,"div",4),l.YNc(16,i2,2,0,"button",5),l.YNc(17,s2,2,0,"button",6),l.qZA(),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.apellido),l.xp6(2),l.Oqu(t.mail),l.xp6(2),l.Oqu(t.edad),l.xp6(2),l.Oqu(t.dni),l.xp6(3),l.Q6J("ngForOf",t.especialidad),l.xp6(3),l.Q6J("ngIf",t.enabled),l.xp6(1),l.Q6J("ngIf",!t.enabled)}}let a2=(()=>{class n{constructor(t){this.authService=t,this.listaEspecialista=[],this.loading=!1}ngOnInit(){this.getEspecialistas()}changeEstado(t,r){this.spinner();let a=!1;kp(3e3).subscribe(()=>{for(let c=0;c<this.listaEspecialista.length;c++)t==this.listaEspecialista[c].id&&(this.especialista=[],a=!0,this.authService.extraerUsuario(this.listaEspecialista[c].mail),this.especialista=this.authService.usuario,this.especialista.enabled=r,console.log());a&&this.authService.actualizarEspecialista(t,this.especialista)})}getEspecialistas(){this.authService.getEspecialistas().subscribe(t=>{this.listaEspecialista=[],t.forEach(r=>{this.listaEspecialista.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})})}spinner(){yr().fire({title:"Auto close alert!",html:"I will close in <b></b> milliseconds.",timer:3e3,timerProgressBar:!0,didOpen:()=>{var r;yr().showLoading(),null===(r=yr().getHtmlContainer())||void 0===r||r.querySelector("b")},willClose:()=>{clearInterval(void 0)}}).then(r=>{r.dismiss===yr().DismissReason.timer&&console.log("I was closed by the timer")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ld))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lista-especialistas"]],decls:20,vars:1,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"row"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"table",0),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th",1),l._uU(5,"Nombre"),l.qZA(),l.TgZ(6,"th",1),l._uU(7,"Apellido"),l.qZA(),l.TgZ(8,"th",1),l._uU(9,"Mail"),l.qZA(),l.TgZ(10,"th",1),l._uU(11,"Edad"),l.qZA(),l.TgZ(12,"th",1),l._uU(13,"Dni"),l.qZA(),l.TgZ(14,"th",1),l._uU(15,"Especialidades"),l.qZA(),l.TgZ(16,"th",1),l._uU(17,"Habilitar Cuenta"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"tbody"),l.YNc(19,o2,18,8,"tr",2),l.qZA(),l.qZA()),2&t&&(l.xp6(19),l.Q6J("ngForOf",r.listaEspecialista))},directives:[bu,sr,Cn,Xf,tp],styles:[""]}),n})();function l2(n,e){if(1&n&&(l.TgZ(0,"tr"),l.TgZ(1,"th",3),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.apellido),l.xp6(2),l.Oqu(t.mail),l.xp6(2),l.Oqu(t.edad),l.xp6(2),l.Oqu(t.dni),l.xp6(2),l.Oqu(t.obraSocial)}}let u2=(()=>{class n{constructor(t){this.authService=t,this.listaPacientes=[]}ngOnInit(){this.listaPacientes=this.authService.traerTodoPaciente()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ld))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lista-pacientes"]],decls:18,vars:1,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"table",0),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th",1),l._uU(5,"Nombre"),l.qZA(),l.TgZ(6,"th",1),l._uU(7,"Apellido"),l.qZA(),l.TgZ(8,"th",1),l._uU(9,"Mail"),l.qZA(),l.TgZ(10,"th",1),l._uU(11,"Edad"),l.qZA(),l.TgZ(12,"th",1),l._uU(13,"Dni"),l.qZA(),l.TgZ(14,"th",1),l._uU(15,"ObraSocial"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"tbody"),l.YNc(17,l2,13,6,"tr",2),l.qZA(),l.qZA()),2&t&&(l.xp6(17),l.Q6J("ngForOf",r.listaPacientes))},directives:[bu,sr],styles:[""]}),n})();function c2(n,e){if(1&n&&(l.TgZ(0,"li",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function d2(n,e){if(1&n&&(l.TgZ(0,"div"),l.TgZ(1,"label",13),l._uU(2,"Especialidades"),l.qZA(),l.TgZ(3,"ul",15),l.YNc(4,c2,2,1,"li",16),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",t.usuario.especialidad)}}function h2(n,e){if(1&n&&l._UZ(0,"img",18),2&n){const t=l.oxw(2);l.Q6J("src",t.usuario.fotoDos,l.LSH)}}const f2=function(n,e,t){return{"bg-success":n,"bg-info":e,"bg-primary":t}};function p2(n,e){if(1&n&&(l.TgZ(0,"div",1),l.TgZ(1,"div",2),l.TgZ(2,"h3",3),l._uU(3,"Mis datos"),l.qZA(),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l.TgZ(7,"span",7),l._uU(8),l.qZA(),l._UZ(9,"img",8),l.YNc(10,d2,5,1,"div",9),l.YNc(11,h2,1,1,"img",10),l.qZA(),l.qZA(),l.TgZ(12,"div",11),l.TgZ(13,"div",6),l.TgZ(14,"div",12),l.TgZ(15,"label",13),l._uU(16,"Nombre y apellido"),l.qZA(),l._UZ(17,"input",14),l.qZA(),l.TgZ(18,"div",12),l.TgZ(19,"label",13),l._uU(20,"Email"),l.qZA(),l._UZ(21,"input",14),l.qZA(),l.TgZ(22,"div",12),l.TgZ(23,"label",13),l._uU(24,"Edad"),l.qZA(),l._UZ(25,"input",14),l.qZA(),l.TgZ(26,"div",12),l.TgZ(27,"label",13),l._uU(28,"DNI"),l.qZA(),l._UZ(29,"input",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&n){const t=l.oxw();l.xp6(7),l.Q6J("ngClass",l.kEZ(9,f2,"especialista"==t.tipo,"admin"==t.tipo,"paciente"==t.tipo)),l.xp6(1),l.hij("",t.tipo," "),l.xp6(1),l.Q6J("src",t.usuario.fotoUno,l.LSH),l.xp6(1),l.Q6J("ngIf","especialista"==t.tipo),l.xp6(1),l.Q6J("ngIf",t.usuario.fotoDos),l.xp6(6),l.Q6J("placeholder",t.usuario.nombre+" "+t.usuario.apellido),l.xp6(4),l.Q6J("placeholder",t.usuario.mail),l.xp6(4),l.Q6J("placeholder",t.usuario.edad),l.xp6(4),l.Q6J("placeholder",t.usuario.dni)}}let g2=(()=>{class n{constructor(){this.usuario=null,this.tipo=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-perfil"]],inputs:{usuario:"usuario",tipo:"tipo"},decls:1,vars:1,consts:[["class","card border-radius blur animate__animated animate__fadeIn",4,"ngIf"],[1,"card","border-radius","blur","animate__animated","animate__fadeIn"],[1,"mt-3"],[1,"card-title","text-center","mb-0"],[1,"row"],[1,"col-sm-6"],[1,"card-body"],[1,"badge","w-100","mb-2",3,"ngClass"],["height","212",1,"card-img-top","border-radius","mb-3",3,"src"],[4,"ngIf"],["class","card-img-top border-radius","height","212",3,"src",4,"ngIf"],[1,"col-sm-6","d-flex","align-items-center"],[1,"mb-3"],[1,"form-label"],["readonly","",1,"form-control",3,"placeholder"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["height","212",1,"card-img-top","border-radius",3,"src"]],template:function(t,r){1&t&&l.YNc(0,p2,30,13,"div",0),2&t&&l.Q6J("ngIf",r.usuario)},directives:[Cn,bi,sr],styles:[""]}),n})();function Lr(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function is(n){Lr(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===e?new Date(n.getTime()):"number"==typeof n||"[object Number]"===e?new Date(n):(("string"==typeof n||"[object String]"===e)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function wi(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function eP(n,e){Lr(2,arguments);var t=is(n),r=wi(e);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}function y2(n){Lr(1,arguments);var e=is(n),t=e.getDay();return t}function _2(n){Lr(1,arguments);var e=is(n),t=e.getFullYear(),r=e.getMonth(),a=new Date(0);return a.setFullYear(t,r+1,0),a.setHours(0,0,0,0),a.getDate()}function v2(n,e){Lr(2,arguments);var t=is(n),r=wi(e),a=t.getFullYear(),c=t.getDate(),f=new Date(0);f.setFullYear(a,r,15),f.setHours(0,0,0,0);var y=_2(f);return t.setMonth(r,Math.min(c,y)),t}function tP(n,e){if(Lr(2,arguments),"object"!=typeof e||null===e)throw new RangeError("values parameter must be an object");var t=is(n);return isNaN(t.getTime())?new Date(NaN):(null!=e.year&&t.setFullYear(e.year),null!=e.month&&(t=v2(t,e.month)),null!=e.date&&t.setDate(wi(e.date)),null!=e.hours&&t.setHours(wi(e.hours)),null!=e.minutes&&t.setMinutes(wi(e.minutes)),null!=e.seconds&&t.setSeconds(wi(e.seconds)),null!=e.milliseconds&&t.setMilliseconds(wi(e.milliseconds)),t)}function w2(n){return Lr(1,arguments),n instanceof Date||"object"==typeof n&&"[object Date]"===Object.prototype.toString.call(n)}function b2(n){if(Lr(1,arguments),!w2(n)&&"number"!=typeof n)return!1;var e=is(n);return!isNaN(Number(e))}var E2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function bv(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}var S2={date:bv({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:bv({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:bv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},R2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Eu(n){return function(e,t){var c,r=t||{};if("formatting"===(r.context?String(r.context):"standalone")&&n.formattingValues){var f=n.defaultFormattingWidth||n.defaultWidth,y=r.width?String(r.width):f;c=n.formattingValues[y]||n.formattingValues[f]}else{var w=n.defaultWidth,D=r.width?String(r.width):n.defaultWidth;c=n.values[D]||n.values[w]}return c[n.argumentCallback?n.argumentCallback(e):e]}}function Cu(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],c=e.match(a);if(!c)return null;var D,f=c[0],y=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],w=Array.isArray(y)?q2(y,function(M){return M.test(f)}):Z2(y,function(M){return M.test(f)});D=n.valueCallback?n.valueCallback(w):w,D=t.valueCallback?t.valueCallback(D):D;var x=e.slice(f.length);return{value:D,rest:x}}}function Z2(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function q2(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function nP(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var a=r[0],c=e.match(n.parsePattern);if(!c)return null;var f=n.valueCallback?n.valueCallback(c[0]):c[0];f=t.valueCallback?t.valueCallback(f):f;var y=e.slice(a.length);return{value:f,rest:y}}}const iF={code:"en-US",formatDistance:function(n,e,t){var r,a=E2[n];return r="string"==typeof a?a:1===e?a.one:a.other.replace("{{count}}",e.toString()),null!=t&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r},formatLong:S2,formatRelative:function(n,e,t,r){return R2[n]},localize:{ordinalNumber:function(n,e){var t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:Eu({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Eu({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:Eu({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Eu({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Eu({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:nP({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:Cu({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Cu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Cu({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Cu({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function sF(n,e){Lr(2,arguments);var t=is(n).getTime(),r=wi(e);return new Date(t+r)}function oF(n,e){Lr(2,arguments);var t=wi(e);return sF(n,-t)}function Tn(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}const Tf_y=function(n,e){var t=n.getUTCFullYear(),r=t>0?t:1-t;return Tn("yy"===e?r%100:r,e.length)},Tf_M=function(n,e){var t=n.getUTCMonth();return"M"===e?String(t+1):Tn(t+1,2)},Tf_d=function(n,e){return Tn(n.getUTCDate(),e.length)},Tf_h=function(n,e){return Tn(n.getUTCHours()%12||12,e.length)},Tf_H=function(n,e){return Tn(n.getUTCHours(),e.length)},Tf_m=function(n,e){return Tn(n.getUTCMinutes(),e.length)},Tf_s=function(n,e){return Tn(n.getUTCSeconds(),e.length)},Tf_S=function(n,e){var t=e.length,r=n.getUTCMilliseconds();return Tn(Math.floor(r*Math.pow(10,t-3)),e.length)};function OD(n){Lr(1,arguments);var e=1,t=is(n),r=t.getUTCDay(),a=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function rP(n){Lr(1,arguments);var e=is(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var a=OD(r),c=new Date(0);c.setUTCFullYear(t,0,4),c.setUTCHours(0,0,0,0);var f=OD(c);return e.getTime()>=a.getTime()?t+1:e.getTime()>=f.getTime()?t:t-1}function cF(n){Lr(1,arguments);var e=rP(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=OD(t);return r}var dF=6048e5;function kD(n,e){Lr(1,arguments);var t=e||{},r=t.locale,a=r&&r.options&&r.options.weekStartsOn,c=null==a?0:wi(a),f=null==t.weekStartsOn?c:wi(t.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=is(n),w=y.getUTCDay(),D=(w<f?7:0)+w-f;return y.setUTCDate(y.getUTCDate()-D),y.setUTCHours(0,0,0,0),y}function iP(n,e){Lr(1,arguments);var t=is(n,e),r=t.getUTCFullYear(),a=e||{},c=a.locale,f=c&&c.options&&c.options.firstWeekContainsDate,y=null==f?1:wi(f),w=null==a.firstWeekContainsDate?y:wi(a.firstWeekContainsDate);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=new Date(0);D.setUTCFullYear(r+1,0,w),D.setUTCHours(0,0,0,0);var x=kD(D,e),M=new Date(0);M.setUTCFullYear(r,0,w),M.setUTCHours(0,0,0,0);var V=kD(M,e);return t.getTime()>=x.getTime()?r+1:t.getTime()>=V.getTime()?r:r-1}function fF(n,e){Lr(1,arguments);var t=e||{},r=t.locale,a=r&&r.options&&r.options.firstWeekContainsDate,c=null==a?1:wi(a),f=null==t.firstWeekContainsDate?c:wi(t.firstWeekContainsDate),y=iP(n,e),w=new Date(0);w.setUTCFullYear(y,0,f),w.setUTCHours(0,0,0,0);var D=kD(w,e);return D}var pF=6048e5;function sP(n,e){var t=n>0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),c=r%60;if(0===c)return t+String(a);var f=e||"";return t+String(a)+f+Tn(c,2)}function oP(n,e){return n%60==0?(n>0?"-":"+")+Tn(Math.abs(n)/60,2):mm(n,e)}function mm(n,e){var t=e||"",r=n>0?"-":"+",a=Math.abs(n);return r+Tn(Math.floor(a/60),2)+t+Tn(a%60,2)}const yF={G:function(n,e,t){var r=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if("yo"===e){var r=n.getUTCFullYear();return t.ordinalNumber(r>0?r:1-r,{unit:"year"})}return Tf_y(n,e)},Y:function(n,e,t,r){var a=iP(n,r),c=a>0?a:1-a;return"YY"===e?Tn(c%100,2):"Yo"===e?t.ordinalNumber(c,{unit:"year"}):Tn(c,e.length)},R:function(n,e){return Tn(rP(n),e.length)},u:function(n,e){return Tn(n.getUTCFullYear(),e.length)},Q:function(n,e,t){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){var r=n.getUTCMonth();switch(e){case"M":case"MM":return Tf_M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){var r=n.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return Tn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){var a=function(n,e){Lr(1,arguments);var t=is(n),r=kD(t,e).getTime()-fF(t,e).getTime();return Math.round(r/pF)+1}(n,r);return"wo"===e?t.ordinalNumber(a,{unit:"week"}):Tn(a,e.length)},I:function(n,e,t){var r=function(n){Lr(1,arguments);var e=is(n),t=OD(e).getTime()-cF(e).getTime();return Math.round(t/dF)+1}(n);return"Io"===e?t.ordinalNumber(r,{unit:"week"}):Tn(r,e.length)},d:function(n,e,t){return"do"===e?t.ordinalNumber(n.getUTCDate(),{unit:"date"}):Tf_d(n,e)},D:function(n,e,t){var r=function(n){Lr(1,arguments);var e=is(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime();return Math.floor((t-r)/864e5)+1}(n);return"Do"===e?t.ordinalNumber(r,{unit:"dayOfYear"}):Tn(r,e.length)},E:function(n,e,t){var r=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){var a=n.getUTCDay(),c=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Tn(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){var a=n.getUTCDay(),c=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Tn(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){var r=n.getUTCDay(),a=0===r?7:r;switch(e){case"i":return String(a);case"ii":return Tn(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){var a=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){var a,r=n.getUTCHours();switch(a=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){var a,r=n.getUTCHours();switch(a=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if("ho"===e){var r=n.getUTCHours()%12;return 0===r&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Tf_h(n,e)},H:function(n,e,t){return"Ho"===e?t.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Tf_H(n,e)},K:function(n,e,t){var r=n.getUTCHours()%12;return"Ko"===e?t.ordinalNumber(r,{unit:"hour"}):Tn(r,e.length)},k:function(n,e,t){var r=n.getUTCHours();return 0===r&&(r=24),"ko"===e?t.ordinalNumber(r,{unit:"hour"}):Tn(r,e.length)},m:function(n,e,t){return"mo"===e?t.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Tf_m(n,e)},s:function(n,e,t){return"so"===e?t.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Tf_s(n,e)},S:function(n,e){return Tf_S(n,e)},X:function(n,e,t,r){var c=(r._originalDate||n).getTimezoneOffset();if(0===c)return"Z";switch(e){case"X":return oP(c);case"XXXX":case"XX":return mm(c);case"XXXXX":case"XXX":default:return mm(c,":")}},x:function(n,e,t,r){var c=(r._originalDate||n).getTimezoneOffset();switch(e){case"x":return oP(c);case"xxxx":case"xx":return mm(c);case"xxxxx":case"xxx":default:return mm(c,":")}},O:function(n,e,t,r){var c=(r._originalDate||n).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sP(c,":");case"OOOO":default:return"GMT"+mm(c,":")}},z:function(n,e,t,r){var c=(r._originalDate||n).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sP(c,":");case"zzzz":default:return"GMT"+mm(c,":")}},t:function(n,e,t,r){return Tn(Math.floor((r._originalDate||n).getTime()/1e3),e.length)},T:function(n,e,t,r){return Tn((r._originalDate||n).getTime(),e.length)}};function aP(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function lP(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}const wF={p:lP,P:function(n,e){var c,t=n.match(/(P+)(p+)?/),r=t[1],a=t[2];if(!a)return aP(n,e);switch(r){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"})}return c.replace("{{date}}",aP(r,e)).replace("{{time}}",lP(a,e))}};function bF(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var EF=["D","DD"],CF=["YY","YYYY"];function TF(n){return-1!==EF.indexOf(n)}function IF(n){return-1!==CF.indexOf(n)}function uP(n,e,t){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var DF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SF=/^'([^]*?)'?$/,xF=/''/g,RF=/[a-zA-Z]/;function zR(n,e,t){Lr(2,arguments);var r=String(e),a=t||{},c=a.locale||iF,f=c.options&&c.options.firstWeekContainsDate,y=null==f?1:wi(f),w=null==a.firstWeekContainsDate?y:wi(a.firstWeekContainsDate);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=c.options&&c.options.weekStartsOn,x=null==D?0:wi(D),M=null==a.weekStartsOn?x:wi(a.weekStartsOn);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var V=is(n);if(!b2(V))throw new RangeError("Invalid time value");var q=bF(V),re=oF(V,q),De={firstWeekContainsDate:w,weekStartsOn:M,locale:c,_originalDate:V},Fe=r.match(AF).map(function(qe){var et=qe[0];return"p"===et||"P"===et?(0,wF[et])(qe,c.formatLong,De):qe}).join("").match(DF).map(function(qe){if("''"===qe)return"'";var et=qe[0];if("'"===et)return MF(qe);var Ke=yF[et];if(Ke)return!a.useAdditionalWeekYearTokens&&IF(qe)&&uP(qe,e,n),!a.useAdditionalDayOfYearTokens&&TF(qe)&&uP(qe,e,n),Ke(re,qe,c.localize,De);if(et.match(RF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+et+"`");return qe}).join("");return Fe}function MF(n){return n.match(SF)[1].replace(xF,"'")}var FD={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},FF={date:bv({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:bv({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:bv({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},VF={lastWeek:"'el' eeee 'pasado a la' LT",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},UF={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};const cP={code:"es",formatDistance:function(n,e,t){var r;return t=t||{},r="string"==typeof FD[n]?FD[n]:1===e?FD[n].one:FD[n].other.replace("{{count}}",e),t.addSuffix?t.comparison>0?"en "+r:"hace "+r:r},formatLong:FF,formatRelative:function(n,e,t,r){return 1!==e.getUTCHours()?UF[n]:VF[n]},localize:{ordinalNumber:function(n){return Number(n)+"\xba"},era:Eu({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:Eu({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(n){return Number(n)-1}}),month:Eu({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:Eu({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sa"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:Eu({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:nP({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:Cu({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:Cu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:Cu({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:Cu({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|sa)/i,abbreviated:/^(dom|lun|mar|mie|jue|vie|sab)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},dP=n=>zR(new Date(n.dia),"EEEE dd MMMM - HH:mm aaa",{locale:cP});let LD=(()=>{class n{constructor(t){this.afs=t,this.nombreCollectionDB="turnos",this.itemDoc=null,this.turnosCollection=this.afs.collection(this.nombreCollectionDB)}traerTurnosPorEmail({email:t,role:r}){var a=this;return(0,me.Z)(function*(){const c="paciente"===r?"paciente.mail":"especialista.mail";return a.afs.collection(a.nombreCollectionDB,f=>f.where(c,"==",t)).snapshotChanges().pipe((0,gt.U)(f=>f.map(y=>{const w=y.payload.doc.data();return Object.assign({id:y.payload.doc.id},w)})))})()}addTurno(t){return this.turnosCollection.add(t)}traerTodosTurnos(){return this.afs.collection(this.nombreCollectionDB).snapshotChanges().pipe((0,gt.U)(t=>{t.map(r=>{const a=r.payload.doc.data();return Object.assign({id:r.payload.doc.id},a)})}))}subirTurno(t){return this.itemDoc=this.afs.doc(`turnos/${t.id}`),this.itemDoc.update(t)}CargaTurnosAuto(){this.traerTodosTurnos().subscribe(t=>{t.forEach(r=>{if(function(n){return Lr(1,arguments),is(n).getTime()<Date.now()}(new Date(r.dia))&&"disponible"===r.estado){const c=Object.assign(Object.assign({},r),{estado:"ocupado"});return this.subirTurno(c)}})})}generaHorariosParaLosTurnos(t,r,a){const{especialidad:c,dias:f,from:y,to:w,duracion:D}=r,x=((n,e)=>n.filter(t=>e.some(r=>r===t.id)))(t,f),M=new Date;for(let V=0;V<29;V++){const q=eP(M,V);for(const re of x)if(y2(q)===re.id)for(let De=y;De<=w;De++){const Fe=tP(q,{hours:De,minutes:0,seconds:0}),qe={dia:Fe.toString(),especialista:a,estado:"disponible",especialidad:c};if(this.addTurno(qe),De<w&&30===D){const et=tP(Fe,{minutes:30}),Ke=Object.assign(Object.assign({},qe),{dia:et.toString()});this.addTurno(Ke)}}}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(u))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pL(n,e){if(1&n&&(l.TgZ(0,"option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngValue",t),l.xp6(1),l.hij(" ",t," ")}}function gL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"input",23),l.NdJ("change",function(a){return l.CHM(t),l.oxw(2).capturarDias(a)}),l.qZA(),l.TgZ(2,"label",24),l._uU(3),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.Q6J("id","inlineCheckBox"+t.id)("value",t.id),l.xp6(1),l.Q6J("for","inlineCheckBox"+t.id),l.xp6(1),l.hij(" ",t.value," ")}}function mL(n,e){if(1&n&&(l.TgZ(0,"option",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",t>=13?t+" pm":t+" am"," ")}}function yL(n,e){if(1&n&&(l.TgZ(0,"option",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",t>=13?t+" pm":t+" am"," ")}}function _L(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1),l.TgZ(1,"div",2),l.TgZ(2,"h3",3),l._uU(3,"Mis horarios"),l.qZA(),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"form",5),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw().enviarHorarios()}),l.TgZ(6,"div",6),l.TgZ(7,"div",7),l.TgZ(8,"select",8),l.TgZ(9,"option",9),l._uU(10,"Especialidad"),l.qZA(),l.YNc(11,pL,2,2,"option",10),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"div",6),l.TgZ(13,"label",11),l._uU(14,"D\xedas"),l.qZA(),l.TgZ(15,"div",12),l.YNc(16,gL,4,4,"div",13),l.qZA(),l.qZA(),l.TgZ(17,"div",6),l.TgZ(18,"div",7),l.TgZ(19,"select",14),l.TgZ(20,"option",9),l._uU(21,"Desde"),l.qZA(),l.YNc(22,mL,2,2,"option",15),l.qZA(),l.qZA(),l.TgZ(23,"div",7),l.TgZ(24,"select",16),l.TgZ(25,"option",9),l._uU(26,"Hasta"),l.qZA(),l.YNc(27,yL,2,2,"option",15),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",6),l.TgZ(29,"div",7),l.TgZ(30,"select",17),l.TgZ(31,"option",9),l._uU(32,"Duraci\xf3n de los turnos"),l.qZA(),l.TgZ(33,"option",18),l._uU(34,"30 minutos"),l.qZA(),l.TgZ(35,"option",19),l._uU(36,"1 hora"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(37,"button",20),l._uU(38," Setear disponibilidad "),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(5),l.Q6J("formGroup",t.horarioForm),l.xp6(6),l.Q6J("ngForOf",t.Especialista.especialidad),l.xp6(5),l.Q6J("ngForOf",t.semana),l.xp6(6),l.Q6J("ngForOf",t.clinicaHoras),l.xp6(5),l.Q6J("ngForOf",t.clinicaHoras),l.xp6(10),l.Q6J("disabled",t.horarioForm.invalid)}}let vL=(()=>{class n{constructor(t,r){this.formB=t,this.turnoService=r,this.semana=[{id:1,value:"Lunes"},{id:2,value:"Martes"},{id:3,value:"Mi\xe9rcoles"},{id:4,value:"Jueves"},{id:5,value:"Viernes"},{id:6,value:"S\xe1bado"}],this.clinicaHoras=[8,9,10,11,12,13,14,15,16,17,18,19],this.especialidad=new On("",[Je.required]),this.dias=new Ga([],[Je.required]),this.from=new On("",[Je.required]),this.to=new On("",[Je.required]),this.duracion=new On("",[Je.required]),this.horarioForm=this.formB.group({especialidad:this.especialidad,dias:this.dias,from:this.from,to:this.to,duracion:this.duracion})}get days(){return this.horarioForm.get("dias")}ngOnInit(){}capturarDias(t){const r=parseInt(t.target.value);t.target.checked?this.days.push(new On(r)):this.days.controls.forEach((a,c)=>{if(a.value===r)return this.days.removeAt(c)})}enviarHorarios(){var t,r,a,c;const f=this.horarioForm.getRawValue(),y=Object.assign(Object.assign({},f),{from:parseInt(f.from),to:parseInt(f.to),duration:parseInt(f.duracion)});try{this.turnoService.generaHorariosParaLosTurnos(this.semana,y,this.Especialista),this.horarioForm.reset(),null===(t=this.horarioForm.get("especialidad"))||void 0===t||t.setValue(""),null===(r=this.horarioForm.get("from"))||void 0===r||r.setValue(""),null===(a=this.horarioForm.get("to"))||void 0===a||a.setValue(""),null===(c=this.horarioForm.get("duracion"))||void 0===c||c.setValue(""),this.mensaje("La disponibilidad fue seteada con \xe9xito!","Se han generaron turnos de hoy a 29 d\xedas")}catch(w){this.mensajeError(w.message)}}mensaje(t,r){yr().fire({icon:"success",title:t,text:r})}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os),l.Y36(LD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-horarios"]],inputs:{Especialista:"Especialista"},decls:1,vars:1,consts:[["class","card border-radius blur animate__animated animate__fadeIn",4,"ngIf"],[1,"card","border-radius","blur","animate__animated","animate__fadeIn"],[1,"mt-2"],[1,"card-title","text-center"],[1,"card-body","border"],[3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-sm"],["formControlName","especialidad",1,"form-select"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-label"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],["formControlName","from",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","to",1,"form-select"],["formControlName","duracion",1,"form-select"],["value","30"],["value","60"],[1,"btn","btn-primary","w-100","mt-3",3,"disabled"],[3,"ngValue"],[1,"form-check","form-check-inline"],["type","checkbox",1,"form-check-input",3,"id","value","change"],[1,"form-check-label",3,"for"],[3,"value"]],template:function(t,r){1&t&&l.YNc(0,_L,39,6,"div",0),2&t&&l.Q6J("ngIf",r.Especialista)},directives:[Cn,ra,or,ci,Fl,er,Vi,Xf,tp,sr],styles:[""]}),n})();function wL(n,e){if(1&n&&l._UZ(0,"app-horarios",8),2&n){const t=l.oxw(2);l.Q6J("Especialista",t.usuario)}}function bL(n,e){if(1&n&&(l.TgZ(0,"div",4),l.YNc(1,wL,1,1,"app-horarios",7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.usuario)}}let EL=(()=>{class n{constructor(){}ngOnInit(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.tipo=localStorage.getItem("tipo")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-mi-perfil"]],decls:10,vars:3,consts:[[1,"container","mt-3"],[1,"content"],[1,"text-center"],[1,"row","centered"],[1,"col-lg-6",2,"max-width","700px"],[3,"usuario","tipo"],["class","col-lg-6","style","max-width: 700px",4,"ngIf"],[3,"Especialista",4,"ngIf"],[3,"Especialista"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"main",1),l.TgZ(3,"h1",2),l._uU(4,"Mi Perfil"),l.qZA(),l.TgZ(5,"div",0),l.TgZ(6,"div",3),l.TgZ(7,"div",4),l._UZ(8,"app-perfil",5),l.qZA(),l.YNc(9,bL,2,1,"div",6),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(8),l.Q6J("usuario",r.usuario)("tipo",r.tipo),l.xp6(1),l.Q6J("ngIf","especialista"===r.tipo))},directives:[bu,g2,Cn,vL],styles:[""]}),n})(),CL=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}ingresar(){this.router.navigate(["login"])}registrarse(){this.router.navigate(["registro"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bienvenido"]],decls:12,vars:0,consts:[[1,"fondo"],[1,"container",2,"text-align","center"],["src","./../../../assets/foto bienvenido.jpg","alt",""],[1,"botones"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"h1"),l._uU(2,"Bienvenido a tu app de clinica"),l.qZA(),l.TgZ(3,"div",1),l._UZ(4,"img",2),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"button",4),l.NdJ("click",function(){return r.ingresar()}),l._uU(7,"ingresar"),l.qZA(),l.TgZ(8,"button",5),l.NdJ("click",function(){return r.registrarse()}),l._uU(9,"registrarse"),l.qZA(),l.qZA(),l.TgZ(10,"p"),l._uU(11,"Este es la pagina de bienvenida!!!"),l.qZA(),l.qZA())},styles:["div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:30px;text-align:center;font-family:fantasy;color:brown}div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75%;height:750%;border-radius:100%}p[_ngcontent-%COMP%]{padding:30px;text-align:center;color:brown;font-family:fantasy;font-size:20px;font-style:oblique}.botones[_ngcontent-%COMP%]{margin-top:2%;text-align:center}.fondo[_ngcontent-%COMP%]{background:url(blur-hospital.56218ec70094b7f8ffa7.jpg) no-repeat center center fixed;background-size:cover}"]}),n})(),TL=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}volver(){this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-error"]],decls:11,vars:0,consts:[[1,"page"],[1,"page-wrap","d-flex","flex-row","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-12","text-center"],[1,"display-1","d-block"],[1,"mb-4","lead"],[1,"btn","btn-link",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"span",5),l._uU(6,"404"),l.qZA(),l.TgZ(7,"div",6),l._uU(8,"The page you are looking for was not found."),l.qZA(),l.TgZ(9,"a",7),l.NdJ("click",function(){return r.volver()}),l._uU(10,"Back to welcome"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA())},styles:[".page[_ngcontent-%COMP%]{background:#dedede}.page-wrap[_ngcontent-%COMP%]{min-height:100vh}"]}),n})(),IL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"p"),l._uU(2,"home works!"),l.qZA())},directives:[bu],styles:[""]}),n})();class DL{constructor(){this.id="",this.nombre="",this.email="",this.password="",this.foto="",this.id=Math.round(99*Math.random()+1).toString()}}function AL(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," El campo email esta vacio. "),l.qZA())}function SL(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," El Email no es valido. "),l.qZA())}function xL(n,e){1&n&&(l.TgZ(0,"span",24),l._uU(1," El campo password esta vacio "),l.qZA())}function RL(n,e){1&n&&(l.TgZ(0,"span",24),l._uU(1," El campo password tiene q tener 6 digitos por lo menos "),l.qZA())}const hP=function(n,e){return{"is-invalid":n,"is-valid":e}};let ML=(()=>{class n{constructor(t,r,a){this.router=t,this.fb=r,this.authService=a,this.email=new On("",[Je.required,Je.email]),this.password=new On("",[Je.required,Je.minLength(6)]),this.usuario=new DL,this.mostrarError=!1,this.loginFrom=this.fb.group({email:this.email,password:this.password}),this.loginFrom.reset()}ngOnInit(){}verificarEmail(t){let r=!1;return("pacienteUno@paciente.com"===t||"pacienteDos@paciente.com"===t||"pacienteTres@paciente.com"===t||"especilistaDos@especialista.com"===t||"especilistaUno@especialista.com"===t||"admin@admin.com"===t)&&(r=!0),r}acceder(t){let r;switch(t){case"pacienteUno":r="pacienteUno@paciente.com";break;case"pacienteDos":r="pacienteDos@paciente.com";break;case"pacienteTres":r="pacienteTres@paciente.com";break;case"especialistaUno":r="especilistaUno@especialista.com";break;case"especialistaDos":r="especilistaDos@especialista.com";break;case"admin":r="admin@admin.com"}this.loginFrom.setValue({email:null==r?void 0:r.toString(),password:"vagovago"})}ingresar(){var t=this;return(0,me.Z)(function*(){let r=!1;const{email:a,password:c}=t.loginFrom.value;let f=t.authService.extraerUsuario(a);localStorage.setItem("usuario",JSON.stringify(f)),localStorage.setItem("tipo",t.authService.tipo),t.verificarEmail(a)?"especialista"===localStorage.getItem("tipo")?f.enabled?r=!0:t.mensajeError("no tiene la verificacion del administrador"):r=!0:t.authService.singIn(a,c).then(y=>{var w,D;"especialista"===localStorage.getItem("tipo")?(null===(w=y.user)||void 0===w?void 0:w.emailVerified)&&f.enabled?t.router.navigate(["home"]):(t.mensajeError("Especialista no  valido su email o no lo verifico el administrador"),t.loginFrom.reset()):(null===(D=y.user)||void 0===D?void 0:D.emailVerified)?t.router.navigate(["home"]):(t.mensajeError("no valido su email"),t.loginFrom.reset())}).catch(y=>{t.mostrarError=!0,"auth/wrong-password"===y.code?(t.mensajeError("La contrase\xf1a es incorrecta con ese correo"),t.loginFrom.reset()):"auth/user-not-found"===y.code&&(t.mensajeError("El usuario no esta Autenticado ni en la base de datos "),t.loginFrom.reset())}),r&&(t.authService.singIn(a,c),t.router.navigate(["home"]))})()}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}limpiar(){this.loginFrom.setValue({email:"",password:""})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr),l.Y36(Os),l.Y36(ld))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:48,vars:14,consts:[[1,"text-center"],[1,"form-signin","page-wrap"],["novalidate","",3,"formGroup","ngSubmit"],["formulario","ngForm"],["src","../../../assets/reporte.png","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","email","name","email","formControlName","email",1,"form-control",3,"ngClass"],["for","email"],["span","","class","invalid-feedback",4,"ngIf"],[1,"form-floating","mb-2"],["type","password","id","password","formControlName","password","name","password",1,"form-control",3,"ngClass"],["for","password"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"w-100","btn","btn-lg","btn-primary","mt-4",3,"disabled"],[1,"opa","mt-4"],[1,"ml-1","mr-1",2,"display","flex","justify-content","space-between"],["src","../../../assets/pacienteUnouno.jpg","alt","",1,"imgRedonda","ml-1","mr-1",3,"click"],["src","../../../assets/pacienteDosuno.jpg","alt","pacienteuno",1,"imgRedonda","ml-1","mr-1",3,"click"],["src","../../../assets/pacienteTresuno.jpg","alt","",1,"imgRedonda","ml-1","mr-1",3,"click"],["src","../../../assets/especialistaUno.webp","alt","",1,"imgRedonda","ml-1","mr-1",3,"click"],["src","../../../assets/especialistaDos.jpg","alt","",1,"imgRedonda","ml-1","mr-1",3,"click"],["src","../../../assets/administrador.jpg","alt","",1,"imgRedonda","ml-1","mr-1",3,"click"],["span","",1,"invalid-feedback"],[1,"invalid-feedback"]],template:function(t,r){if(1&t&&(l.TgZ(0,"main",0),l.TgZ(1,"section",1),l.TgZ(2,"form",2,3),l.NdJ("ngSubmit",function(){return r.ingresar()}),l._UZ(4,"img",4),l.TgZ(5,"h1",5),l._uU(6,"Login"),l.qZA(),l.TgZ(7,"div",6),l._UZ(8,"input",7),l.TgZ(9,"label",8),l._uU(10,"Email"),l.qZA(),l.YNc(11,AL,2,0,"span",9),l.YNc(12,SL,2,0,"span",9),l.qZA(),l._UZ(13,"br"),l.TgZ(14,"div",10),l._UZ(15,"input",11),l.TgZ(16,"label",12),l._uU(17,"Password"),l.qZA(),l.YNc(18,xL,2,0,"span",13),l.YNc(19,RL,2,0,"span",13),l.qZA(),l.TgZ(20,"button",14),l._uU(21,"Ingresar"),l.qZA(),l.qZA(),l.TgZ(22,"div",15),l.TgZ(23,"div",16),l.TgZ(24,"div"),l.TgZ(25,"img",17),l.NdJ("click",function(){return r.acceder("pacienteUno")}),l.qZA(),l.TgZ(26,"p"),l._uU(27,"Paciente Uno"),l.qZA(),l.qZA(),l.TgZ(28,"div"),l.TgZ(29,"img",18),l.NdJ("click",function(){return r.acceder("pacienteDos")}),l.qZA(),l.TgZ(30,"p"),l._uU(31,"Paciente Dos"),l.qZA(),l.qZA(),l.TgZ(32,"div"),l.TgZ(33,"img",19),l.NdJ("click",function(){return r.acceder("pacienteTres")}),l.qZA(),l.TgZ(34,"p"),l._uU(35,"Paciente Tres"),l.qZA(),l.qZA(),l.TgZ(36,"div"),l.TgZ(37,"img",20),l.NdJ("click",function(){return r.acceder("especialistaUno")}),l.qZA(),l.TgZ(38,"p"),l._uU(39,"Especialista Uno"),l.qZA(),l.qZA(),l.TgZ(40,"div"),l.TgZ(41,"img",21),l.NdJ("click",function(){return r.acceder("especialistaDos")}),l.qZA(),l.TgZ(42,"p"),l._uU(43,"Especialista Dos"),l.qZA(),l.qZA(),l.TgZ(44,"div"),l.TgZ(45,"img",22),l.NdJ("click",function(){return r.acceder("admin")}),l.qZA(),l.TgZ(46,"p"),l._uU(47,"Administrador"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const a=l.MAs(3);l.xp6(2),l.Q6J("formGroup",r.loginFrom),l.xp6(6),l.Q6J("ngClass",l.WLB(8,hP,r.email.invalid&&r.email.touched,r.email.valid)),l.xp6(3),l.Q6J("ngIf",(null==r.email.errors?null:r.email.errors.required)&&r.email.touched),l.xp6(1),l.Q6J("ngIf",!r.email.valid&&!(null!=r.email.errors&&r.email.errors.required)&&(r.email.dirty||r.email.touched)),l.xp6(3),l.Q6J("ngClass",l.WLB(11,hP,r.password.invalid&&r.password.touched,r.password.valid)),l.xp6(3),l.Q6J("ngIf",(null==r.password.errors?null:r.password.errors.required)&&r.password.touched),l.xp6(1),l.Q6J("ngIf",r.password.invalid&&(null==r.password.errors?null:r.password.errors.minLength)&&(r.password.dirty||r.password.touched)),l.xp6(1),l.Q6J("disabled",!a.form.valid)}},directives:[ra,or,ci,Fi,er,Vi,bi,Cn],styles:["main[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.page-wrap[_ngcontent-%COMP%]{min-height:100vh}.imgRedonda[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:150px;border:10px solid #82c3d6;cursor:pointer}.opa[_ngcontent-%COMP%]{right:18%;position:absolute}"]}),n})(),VD=(()=>{class n{constructor(t,r){this.db=t,this.fbStorage=r,this.dbpathEspecialidad="/especialidades",this.especialidadCollection=t.collection(this.dbpathEspecialidad),this.especialidades=this.especialidadCollection.snapshotChanges().pipe((0,gt.U)(a=>a.map(c=>{const f=c.payload.doc.data();return f.id=c.payload.doc.id,f})))}getEspecialidades(){return this.especialidades}AddEspecialidades(t){return this.especialidadCollection.add(JSON.parse(JSON.stringify(t)))}subirArchivo(t,r){return this.fbStorage.upload(r,t)}traerArchivo(t){return this.fbStorage.ref(t).getDownloadURL()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(u),l.LFG(GR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NL(n,e){if(1&n&&(l.TgZ(0,"span",4),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.text)}}function PL(n,e){if(1&n&&(l.TgZ(0,"div",1),l._UZ(1,"div",2),l.YNc(2,NL,2,1,"span",3),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",t.text)}}let UD=(()=>{class n{constructor(){this.isLoading=!1,this.text=null}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-spinner"]],inputs:{isLoading:"isLoading",text:"text"},decls:1,vars:1,consts:[["class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","text-primary"],["style","margin: 0rem 3rem 0rem 1rem",4,"ngIf"],[2,"margin","0rem 3rem 0rem 1rem"]],template:function(t,r){1&t&&l.YNc(0,PL,3,1,"div",0),2&t&&l.Q6J("ngIf",r.isLoading)},directives:[Cn],styles:[""]}),n})();const fP=function(n){return{active:n}};function OL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(4).SelecEspecialidad(c)}),l.TgZ(1,"h6",12),l._uU(2),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(4);l.Q6J("ngClass",l.VKq(2,fP,(null==r.especialidadSeleccionada?null:r.especialidadSeleccionada.id)===t.id)),l.xp6(2),l.Oqu(t.nombre)}}function kL(n,e){if(1&n&&(l.TgZ(0,"span",13),l._uU(1),l.qZA()),2&n){const t=l.oxw(4);l.xp6(1),l.hij(" No existe la especialidad ",t.busqueda," ")}}function FL(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,OL,3,4,"button",9),l.YNc(2,kL,2,1,"span",10),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.listacopiada),l.xp6(1),l.Q6J("ngIf",0===(null==t.listacopiada?null:t.listacopiada.length))}}function LL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(4).SelecEspecialidad(c)}),l.TgZ(1,"h6",12),l._uU(2),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(4);l.Q6J("ngClass",l.VKq(2,fP,r.especialidadSeleccionada===t)),l.xp6(2),l.Oqu(t)}}function VL(n,e){if(1&n&&(l.TgZ(0,"span",13),l._uU(1),l.qZA()),2&n){const t=l.oxw(4);l.xp6(1),l.hij(" No existe la especialidad ",t.busqueda," ")}}function UL(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,LL,3,4,"button",9),l.YNc(2,VL,2,1,"span",10),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.listacopiada),l.xp6(1),l.Q6J("ngIf",0===(null==t.listacopiada?null:t.listacopiada.length))}}function BL(n,e){if(1&n&&(l.TgZ(0,"div",6),l.YNc(1,FL,3,2,"div",7),l.YNc(2,UL,3,2,"div",7),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf","paciente"===t.tipo||"admin"===t.tipo),l.xp6(1),l.Q6J("ngIf","especialista"===t.tipo)}}function jL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"div",3),l.TgZ(2,"input",4),l.NdJ("ngModelChange",function(a){return l.CHM(t),l.oxw().busqueda=a})("keyup",function(){return l.CHM(t),l.oxw().filtarLista()}),l.qZA(),l.qZA(),l.YNc(3,BL,3,2,"div",5),l.qZA()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngModel",t.busqueda),l.xp6(1),l.Q6J("ngIf",t.listacopiada)}}let pP=(()=>{class n{constructor(t,r){this.authService=t,this.service=r,this.tipo="paciente",this.usuario=null,this.especialidades=[],this.busqueda="",this.espSelec=new l.vpe}ngOnInit(){var t,r;"paciente"===this.tipo||"admin"===this.tipo?this.service.getEspecialidades().subscribe(a=>{this.especialidades=a,this.listacopiada=a}):(this.especialidadDos=null===(t=this.usuario)||void 0===t?void 0:t.especialidad,this.listacopiada=null===(r=this.usuario)||void 0===r?void 0:r.especialidad,this.especialidades=this.listacopiada)}SelecEspecialidad(t){this.espSelec.emit(t),this.especialidadSeleccionada=t}filtarLista(){if("paciente"===this.tipo||"admin"===this.tipo)if(this.listacopiada=this.especialidades,this.listacopiada){const t=this.listacopiada.filter(r=>{var a;return null===(a=r.nombre)||void 0===a?void 0:a.toLowerCase().includes(this.busqueda.toLowerCase())});this.listacopiada=t}else if(this.listacopiada=this.especialidadDos,this.listacopiada){const t=this.listacopiada.filter(r=>r.toLowerCase().includes(this.busqueda.toLowerCase()));this.listacopiada=t}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ld),l.Y36(VD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-especialidades"]],inputs:{tipo:"tipo",usuario:"usuario"},outputs:{espSelec:"espSelec"},decls:2,vars:3,consts:[[3,"isLoading","text"],["class","my-3 animate__animated animate__fadeIn",4,"ngIf"],[1,"my-3","animate__animated","animate__fadeIn"],[1,"input-group","mb-3"],["type","text","placeholder","Buscar especialidad",1,"form-control",3,"ngModel","ngModelChange","keyup"],["class","overflow-auto variantDefaultTableHeight",4,"ngIf"],[1,"overflow-auto","variantDefaultTableHeight"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"ngClass","click",4,"ngFor","ngForOf"],["class","list-group-item",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"ngClass","click"],[1,"my-0"],[1,"list-group-item"]],template:function(t,r){1&t&&(l._UZ(0,"app-spinner",0),l.YNc(1,jL,4,2,"div",1)),2&t&&(l.Q6J("isLoading",0===r.especialidades.length)("text","Cargando lista de especialidades..."),l.xp6(1),l.Q6J("ngIf",0!==r.especialidades.length))},directives:[UD,Cn,Fi,er,Yf,sr,bi],styles:[""]}),n})();function ZL(n,e){if(1&n&&(l.TgZ(0,"div"),l.TgZ(1,"h1"),l._uU(2),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.hij(" No hay especialistas para la especialidad de ",t.Especialidad.nombre,"")}}function qL(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,ZL,3,1,"div",1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.listUsuarios&&t.Especialidad&&0===t.listUsuarios.length)}}function HL(n,e){if(1&n&&(l.TgZ(0,"div"),l.TgZ(1,"h1"),l._uU(2),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.hij(" No hay especialistas para la especialidad de ",t.Especialidad.nombre,"")}}function $L(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,HL,3,1,"div",1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.listUsuarios&&t.Especialidad&&0===t.listUsuarios.length)}}function GL(n,e){if(1&n&&(l.TgZ(0,"div"),l.TgZ(1,"h1"),l._uU(2),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.hij(" No hay pacientes para la especialidad de ",t.Especialidad,"")}}function zL(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,GL,3,1,"div",1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.listUsuarios&&t.Especialidad&&0===t.listUsuarios.length)}}function WL(n,e){1&n&&(l.TgZ(0,"div"),l.TgZ(1,"h1"),l._uU(2," NO Hay USUARIOS "),l.qZA(),l.qZA())}function YL(n,e){if(1&n&&(l.TgZ(0,"span",10),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("Lista de ",t.tipo,"")}}function KL(n,e){1&n&&(l.TgZ(0,"span",10),l._uU(1,"Lista de Especialista"),l.qZA())}function QL(n,e){1&n&&(l.TgZ(0,"span",10),l._uU(1,"Lista de Pacientes"),l.qZA())}function JL(n,e){1&n&&(l.TgZ(0,"span",19),l._uU(1," No existe el usuario "),l.qZA())}const XL=function(n){return{active:n}};function eV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",14),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(3).SeleccionarUsuario(c)}),l.TgZ(1,"div",15),l._UZ(2,"img",16),l.TgZ(3,"div"),l.TgZ(4,"h6",17),l._uU(5),l.qZA(),l.TgZ(6,"h6",17),l._uU(7),l.qZA(),l.qZA(),l.qZA(),l.YNc(8,JL,2,0,"span",18),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(3);l.Q6J("ngClass",l.VKq(6,XL,(null==r.usuario?null:r.usuario.dni)===t.dni)),l.xp6(2),l.Q6J("src",t.fotoUno,l.LSH),l.xp6(3),l.AsE("",t.nombre," ",t.apellido,""),l.xp6(2),l.Oqu(t.mail),l.xp6(1),l.Q6J("ngIf",0===(null==r.listaCopiada?null:r.listaCopiada.length))}}const tV=function(n){return{variantDefaultTableHeight:n}};function nV(n,e){if(1&n&&(l.TgZ(0,"div",11),l.TgZ(1,"ul",12),l.YNc(2,eV,9,8,"li",13),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(2,tV,t.listaCopiada.length>=3)),l.xp6(2),l.Q6J("ngForOf",t.listaCopiada)}}function rV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"h4",4),l.YNc(2,YL,2,1,"span",5),l.YNc(3,KL,2,0,"span",5),l.YNc(4,QL,2,0,"span",5),l.TgZ(5,"span",6),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"div",7),l.TgZ(8,"input",8),l.NdJ("ngModelChange",function(a){return l.CHM(t),l.oxw().busqueda=a})("keyup",function(){return l.CHM(t),l.oxw().filtrarUsuario()}),l.qZA(),l.qZA(),l.YNc(9,nV,3,4,"div",9),l.qZA()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",!t.usuarioEntregado),l.xp6(1),l.Q6J("ngIf",t.usuarioEntregado&&"paciente"===t.tipo),l.xp6(1),l.Q6J("ngIf",t.usuarioEntregado&&"especialista"===t.tipo),l.xp6(2),l.hij(" ",null==t.listUsuarios?null:t.listUsuarios.length," "),l.xp6(2),l.MGl("placeholder","Buscar ",t.tipo,""),l.Q6J("ngModel",t.busqueda),l.xp6(1),l.Q6J("ngIf",t.listaCopiada)}}let gP=(()=>{class n{constructor(t,r){this.authService=t,this.turnosService=r,this.tipo="",this.Especialidad=null,this.usuarioEntregado=null,this.listaCopiada=null,this.listUsuarios=null,this.listaEspecialistas=[],this.listaPaciente=[],this.usuarioSeleccionado=new l.vpe,this.MisTurnos=new l.vpe,this.busqueda=""}ngOnChanges(t){this.usuarioEntregado?this.Especialidad&&this.obtenerUsuariosPorTurnoFiltro(this.tipo,t.Especialidad.currentValue):this.Especialidad&&this.filtroUsuarioEspecialidad(t.Especialidad.currentValue)}optenerFiltro(t){switch(t){case"pacientes":this.authService.traerTodoPacientes().subscribe(r=>{this.listUsuarios=r,this.listaCopiada=r});break;case"especialistas":this.authService.traerTodoEspecialista().subscribe(r=>{this.listUsuarios=r,this.listaCopiada=r})}}obtenerUsuariosPorTurnoFiltro(t,r){var a=this;return(0,me.Z)(function*(){var c;a.listaEspecialistas=[],a.listaPaciente=[];const f=yield a.turnosService.traerTurnosPorEmail({email:null===(c=a.usuarioEntregado)||void 0===c?void 0:c.mail,role:t}),y=[];switch(t){case"paciente":f.subscribe(w=>{w.forEach(D=>{if(r.nombre===D.especialidad){let x=!1;y.push(D),0!==a.listaEspecialistas.length?(a.listaEspecialistas.forEach(M=>{var V;M.dni===(null===(V=D.especialista)||void 0===V?void 0:V.dni)&&(x=!0)}),x||a.listaEspecialistas.push(D.especialista)):a.listaEspecialistas.push(D.especialista)}})});break;case"especialista":f.subscribe(w=>{w.forEach(D=>{if(r.toString()===D.especialidad){y.push(D);let x=!1;D.paciente&&(0!==a.listaPaciente.length?(a.listaPaciente.forEach(M=>{var V;M.dni===(null===(V=D.paciente)||void 0===V?void 0:V.dni)&&(x=!0)}),x||a.listaPaciente.push(D.paciente)):a.listaPaciente.push(D.paciente))}})})}a.MisTurnos.emit(y),"paciente"===a.tipo?(a.listaCopiada=a.listaEspecialistas,a.listUsuarios=a.listaEspecialistas):(a.listaCopiada=a.listaPaciente,a.listUsuarios=a.listaPaciente)})()}ngOnInit(){null===this.usuarioEntregado?this.Especialidad?this.filtroUsuarioEspecialidad(this.Especialidad):this.optenerFiltro(this.tipo):this.Especialidad&&this.obtenerUsuariosPorTurnoFiltro(this.tipo,this.Especialidad)}filtrarUsuario(){if(this.listaCopiada=this.listUsuarios,this.listaCopiada){const t=this.listaCopiada.filter(r=>r.nombre.toLowerCase().includes(this.busqueda.toLowerCase())||r.apellido.toLocaleLowerCase().includes(this.busqueda.toLowerCase())||r.mail.toLowerCase().includes(this.busqueda.toLowerCase()));this.listaCopiada=t}}SeleccionarUsuario(t){this.usuario&&t.dni===this.usuario.dni?(this.usuarioSeleccionado.emit(null),this.usuario=null):(this.usuarioSeleccionado.emit(t),this.usuario=t)}filtroUsuarioEspecialidad(t){var r=this;return(0,me.Z)(function*(){(yield r.authService.getEspecialistaPorEspecialidad(t)).subscribe(c=>{0===c.length?(r.existeEspecialistasPorEspecialidad=!0,r.listUsuarios=[],r.listaCopiada=[]):(r.existeEspecialistasPorEspecialidad=!1,r.listaCopiada=c,r.listUsuarios=c)})})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ld),l.Y36(LD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-filtro-doctor"]],inputs:{tipo:"tipo",Especialidad:"Especialidad",usuarioEntregado:"usuarioEntregado"},outputs:{usuarioSeleccionado:"usuarioSeleccionado",MisTurnos:"MisTurnos"},features:[l.TTD],decls:6,vars:7,consts:[[3,"isLoading","text"],[4,"ngIf"],["class","mb-3 animate__animated animate__fadeIn",4,"ngIf"],[1,"mb-3","animate__animated","animate__fadeIn"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","text-primary",4,"ngIf"],[1,"badge","bg-primary","rounded-pill"],[1,"input-group","mb-3"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup"],["class","overflow-auto",3,"ngClass",4,"ngIf"],[1,"text-primary"],[1,"overflow-auto",3,"ngClass"],[1,"list-group"],["class","\n          list-group-item list-group-item-action\n          d-flex\n          justify-content-between\n          align-items-center\n        ","style","cursor: pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"d-flex","justify-content-start","align-items-center",2,"flex","1"],["alt","User image","width","55","height","55",1,"me-3","rounded-circle",3,"src"],[1,"my-0"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"]],template:function(t,r){1&t&&(l._UZ(0,"app-spinner",0),l.YNc(1,qL,2,1,"div",1),l.YNc(2,$L,2,1,"div",1),l.YNc(3,zL,2,1,"div",1),l.YNc(4,WL,3,0,"div",1),l.YNc(5,rV,10,7,"div",2)),2&t&&(l.Q6J("isLoading",!r.listUsuarios)("text","Cargando lista de usuarios"),l.xp6(1),l.Q6J("ngIf",!r.usuarioEntregado),l.xp6(1),l.Q6J("ngIf",r.usuarioEntregado&&"paciente"===r.tipo),l.xp6(1),l.Q6J("ngIf",r.usuarioEntregado&&"especialista"===r.tipo),l.xp6(1),l.Q6J("ngIf",r.listUsuarios&&!r.Especialidad&&0===r.listUsuarios.length),l.xp6(1),l.Q6J("ngIf",r.listUsuarios&&0!==r.listUsuarios.length))},directives:[UD,Cn,Fi,er,Yf,bi,sr],styles:[""]}),n})();function iV(n,e){1&n&&l._UZ(0,"i",6)}function sV(n,e){1&n&&l._UZ(0,"i",7)}let mP=(()=>{class n{constructor(){this.text="Est\xe1 vac\xedo",this.icon="DEFAULT"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-empty-card"]],inputs:{text:"text",icon:"icon"},decls:8,vars:3,consts:[[1,"rounded-3",2,"border","1px dashed gray"],[1,"row","my-3"],[1,"col","text-center"],["class","far fa-eye-slash fa-5x",4,"ngIf"],["class","fas fa-user-slash fa-5x",4,"ngIf"],[1,"row"],[1,"far","fa-eye-slash","fa-5x"],[1,"fas","fa-user-slash","fa-5x"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.YNc(3,iV,1,0,"i",3),l.YNc(4,sV,1,0,"i",4),l.qZA(),l.qZA(),l.TgZ(5,"div",5),l.TgZ(6,"h4",2),l._uU(7),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("ngIf","DEFAULT"===r.icon),l.xp6(1),l.Q6J("ngIf","USER"===r.icon),l.xp6(3),l.Oqu(r.text))},directives:[Cn],styles:[""]}),n})();function oV(n,e){1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-empty-card",3),l.qZA()),2&n&&(l.xp6(1),l.Q6J("text","No hay turnos"))}function aV(n,e){if(1&n&&(l.TgZ(0,"div",17),l._UZ(1,"img",18),l.TgZ(2,"div"),l.TgZ(3,"small",19),l._uU(4,"Paciente"),l.qZA(),l.TgZ(5,"h6",16),l._uU(6),l.qZA(),l.TgZ(7,"h6",16),l._uU(8),l.qZA(),l.qZA(),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("src",null==t.paciente?null:t.paciente.fotoUno,l.LSH),l.xp6(5),l.AsE(" ",null==t.paciente?null:t.paciente.nombre," ",null==t.paciente?null:t.paciente.apellido," "),l.xp6(2),l.Oqu(null==t.paciente?null:t.paciente.mail)}}function lV(n,e){if(1&n&&(l.TgZ(0,"div",24),l.TgZ(1,"h6",16),l._uU(2),l.qZA(),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.xp6(2),l.hij("Turno ",r.formatStatus(t.estado),"")}}function uV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(3).AceptarTurno(a)}),l._UZ(1,"i",26),l.qZA()}}function cV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",27),l.NdJ("click",function(){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(3).rechazarTurno(a)}),l._UZ(1,"i",28),l.qZA()}}function dV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",14),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(3).selecionarTurno(c)}),l.TgZ(1,"div",15),l.TgZ(2,"h6",16),l._uU(3),l.qZA(),l.TgZ(4,"h6",16),l._uU(5),l.qZA(),l.TgZ(6,"h6",16),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",17),l._UZ(9,"img",18),l.TgZ(10,"div"),l.TgZ(11,"small",19),l._uU(12,"Especialista"),l.qZA(),l.TgZ(13,"h6",16),l._uU(14),l.qZA(),l.TgZ(15,"h6",16),l._uU(16),l.qZA(),l.qZA(),l.qZA(),l.YNc(17,aV,9,4,"div",20),l.YNc(18,lV,3,1,"div",21),l.TgZ(19,"div"),l.YNc(20,uV,2,0,"button",22),l.YNc(21,cV,2,0,"button",23),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(3);l.xp6(3),l.hij("Especialidad: ",t.especialidad,""),l.xp6(2),l.hij("Fecha: ",r.formatShift(t),""),l.xp6(2),l.hij("Estado: ",r.formatStatus(t.estado),""),l.xp6(2),l.Q6J("src",null==t.especialista?null:t.especialista.fotoUno,l.LSH),l.xp6(5),l.AsE(" ",null==t.especialista?null:t.especialista.apellido," ",null==t.especialista?null:t.especialista.nombre," "),l.xp6(2),l.Oqu(null==t.especialista?null:t.especialista.mail),l.xp6(1),l.Q6J("ngIf",t.paciente),l.xp6(1),l.Q6J("ngIf",!t.paciente),l.xp6(2),l.Q6J("ngIf",r.botonAceptarYRechazarCondicion(t)),l.xp6(1),l.Q6J("ngIf",r.botonAceptarYRechazarCondicion(t))}}function hV(n,e){1&n&&l._UZ(0,"app-empty-card",3),2&n&&l.Q6J("text","No hay turnos")}function fV(n,e){if(1&n&&(l.TgZ(0,"div",10),l.TgZ(1,"ul",11),l.YNc(2,dV,22,11,"li",12),l.YNc(3,hV,1,1,"app-empty-card",13),l.qZA(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",t.turnosSelecionado),l.xp6(1),l.Q6J("ngIf",0===t.turnosSelecionado.length)}}function pV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29),l.TgZ(1,"div",30),l.TgZ(2,"div",31),l.TgZ(3,"div",32),l.TgZ(4,"h4",33),l._uU(5,"Detalles del turno"),l.qZA(),l._UZ(6,"button",34),l.qZA(),l.TgZ(7,"div",35),l.TgZ(8,"form",36),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw(2).cancelacionYRechazarTurno()}),l.TgZ(9,"div"),l.TgZ(10,"h5",37),l._uU(11),l.qZA(),l._UZ(12,"textarea",38),l.qZA(),l.TgZ(13,"div",39),l._uU(14),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"div",40),l.TgZ(16,"button",41),l._uU(17," Enviar comentario "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw(2);l.xp6(8),l.Q6J("formGroup",t.comentarioTurnoFrom),l.xp6(3),l.hij(" ",t.tituloModalRechazarCancelacion," "),l.xp6(3),l.hij(" ",t.cargarMensajeErrorCancelacionYRechazo("comentario")," "),l.xp6(2),l.Q6J("disabled",t.comentarioTurnoFrom.invalid)}}function gV(n,e){if(1&n&&(l.TgZ(0,"div",4),l.TgZ(1,"h4",5),l.TgZ(2,"span",6),l._uU(3,"Lista de Turnos"),l.qZA(),l.TgZ(4,"span",7),l._uU(5),l.qZA(),l.qZA(),l.YNc(6,fV,4,2,"div",8),l.YNc(7,pV,18,4,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(5),l.hij(" ",null==t.turnosSelecionado?null:t.turnosSelecionado.length," "),l.xp6(1),l.Q6J("ngIf",t.turnosSelecionado),l.xp6(1),l.Q6J("ngIf",t.modalCancelyRechazar)}}let mV=(()=>{class n{constructor(t,r){this.turnosService=t,this.fB=r,this.especialistaSelecionado=null,this.especialidadSelecionada=null,this.pacienteSeleccionado=null,this.tipo="",this.turnos=null,this.turnosSelecionado=null,this.tituloModalRechazarCancelacion="",this.cancelacion=!1,this.rechazar=!1,this.modalCancelyRechazar=!1,this.comentario=new On(null,[Je.required,Je.minLength(6)]),this.comentarioTurnoFrom=this.fB.group({comentario:this.comentario})}ngOnChanges(t){var r;t.turnos.currentValue&&(this.turnosSelecionado=t.turnos.currentValue,null===(r=this.turnosSelecionado)||void 0===r||r.sort((a,c)=>new Date(a.dia).getTime()-new Date(c.dia).getTime()))}ngOnInit(){this.turnos&&(this.turnosSelecionado=this.turnos),console.log(this.turnosSelecionado)}AceptarTurno(t){var r=this;return(0,me.Z)(function*(){const a=Object.assign(Object.assign({},t),{estado:"aceptado"});yield r.turnosService.subirTurno(a),r.mensaje("Estado del turno","El turno fue aprobado con \xe9xito!")})()}rechazarTurno(t){this.turnoSeleccionado=t,this.rechazar=!0,this.modalCancelyRechazar=!0,this.tituloModalRechazarCancelacion="\xbfPor qu\xe9 quiere rechazar el turno?"}cancelacionYRechazarTurno(){}botonAceptarYRechazarCondicion(t){let r=!1;return"especialista"===this.tipo&&"pendiente"===t.estado&&(r=!0),r}cargarMensajeErrorCancelacionYRechazo(t){var r,a,c,f;if(null===(r=this.comentarioTurnoFrom.get(t))||void 0===r?void 0:r.touched){if(null===(c=null===(a=this.comentarioTurnoFrom.get(t))||void 0===a?void 0:a.errors)||void 0===c?void 0:c.required)return"Debes ingresar un valor";if(null===(f=this.comentarioTurnoFrom.get(t))||void 0===f?void 0:f.hasError("minlength"))return"El comentario debe contener 6 caracteres como m\xednimo;"}return""}mensaje(t,r){yr().fire({icon:"success",title:t,text:r})}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}selecionarTurno(t){console.log(t)}formatShift(t){return dP(t)}formatStatus(t){let r="";switch(t){case"disponible":r="Disponible";break;case"pendiente":r="Pendiente";break;case"aceptado":r="Aceptado"}return r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LD),l.Y36(Os))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-tabla-turnos"]],inputs:{especialistaSelecionado:"especialistaSelecionado",especialidadSelecionada:"especialidadSelecionada",pacienteSeleccionado:"pacienteSeleccionado",tipo:"tipo",turnos:"turnos"},features:[l.TTD],decls:3,vars:4,consts:[[3,"isLoading","text"],[4,"ngIf"],["class","mb-3 animate__animated animate__fadeIn",4,"ngIf"],[3,"text"],[1,"mb-3","animate__animated","animate__fadeIn"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],["class","overflow-auto shiftTableHeight",4,"ngIf"],["class","modal fade","id","commentModal","tabindex","-1",4,"ngIf"],[1,"overflow-auto","shiftTableHeight"],[1,"list-group"],["class","\n          list-group-item list-group-item-action\n          d-flex\n          justify-content-between\n          align-items-center\n        ","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[3,"text",4,"ngIf"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"click"],[1,"d-flex","flex-column","justify-content-start","align-items-start",2,"flex","1"],[1,"my-0"],[1,"d-flex","justify-content-start","align-items-center",2,"flex","1"],["alt","User image","width","55","height","55",1,"me-3","rounded-circle",3,"src"],[1,"text-muted"],["class","d-flex justify-content-start align-items-center","style","flex: 1",4,"ngIf"],["class","d-flex justify-content-start align-items-center text-center","style","flex: 1",4,"ngIf"],["class","btn btn-outline-primary me-3",3,"click",4,"ngIf"],["class","btn btn-outline-secondary me-3","data-bs-toggle","modal","data-bs-target","#commentModal",3,"click",4,"ngIf"],[1,"d-flex","justify-content-start","align-items-center","text-center",2,"flex","1"],[1,"btn","btn-outline-primary","me-3",3,"click"],[1,"far","fa-thumbs-up"],["data-bs-toggle","modal","data-bs-target","#commentModal",1,"btn","btn-outline-secondary","me-3",3,"click"],[1,"far","fa-thumbs-down"],["id","commentModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[3,"formGroup","ngSubmit"],["for","txtareaCancel",1,"form-label"],["placeholder","Deje un comentario aqu\xed","id","txtareaCancel","formControlName","comentario","autocomplete","off",1,"form-control",2,"resize","none"],[1,"form-text","text-danger"],[1,"modal-footer"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary",3,"disabled"]],template:function(t,r){1&t&&(l._UZ(0,"app-spinner",0),l.YNc(1,oV,2,1,"div",1),l.YNc(2,gV,8,3,"div",2)),2&t&&(l.Q6J("isLoading",!r.turnosSelecionado)("text","Cargando lista de turnos"),l.xp6(1),l.Q6J("ngIf",r.turnosSelecionado&&0===r.turnosSelecionado.length),l.xp6(1),l.Q6J("ngIf",null==r.turnosSelecionado?null:r.turnosSelecionado.length))},directives:[UD,Cn,mP,sr,ra,or,ci,Fi,er,Vi],styles:[""]}),n})(),yV=(()=>{class n{constructor(){this.esEspecialsita=!1,this.especialistaSeleccionado=null,this.pacienteSeleccionado=null,this.turnos=null}ngOnInit(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.tipo=localStorage.getItem("tipo"),this.esEspecialsita="especialista"===this.tipo}turnosDelUsuario(t){this.turnos=t,console.log(t)}selecEspecialidad(t){this.especialidadSeleccionada=t,console.log(t)}setSeleccionEspecialista(t){this.especialistaSeleccionado=t}setSeleccionPaciente(t){this.pacienteSeleccionado=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-mis-turnos"]],decls:19,vars:8,consts:[[1,"container","py-4"],[1,"row"],[1,"col-md-6","my-3"],[1,"rounded-3"],[3,"tipo","usuario","espSelec"],[3,"tipo","Especialidad","usuarioEntregado","MisTurnos","usuarioSeleccionado"],[1,"col"],[3,"tipo","turnos"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"h2"),l._uU(6,"Especialidad"),l.qZA(),l.TgZ(7,"app-especialidades",4),l.NdJ("espSelec",function(c){return r.selecEspecialidad(c)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",2),l.TgZ(9,"div",3),l.TgZ(10,"h2"),l._uU(11),l.qZA(),l.TgZ(12,"app-filtro-doctor",5),l.NdJ("MisTurnos",function(c){return r.turnosDelUsuario(c)})("usuarioSeleccionado",function(c){return r.esEspecialsita?r.setSeleccionPaciente(c):r.setSeleccionEspecialista(c)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",1),l.TgZ(14,"div",6),l.TgZ(15,"div",3),l.TgZ(16,"h2"),l._uU(17,"Turnos"),l.qZA(),l._UZ(18,"app-tabla-turnos",7),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(7),l.Q6J("tipo",r.tipo)("usuario",r.usuario),l.xp6(4),l.Oqu(r.esEspecialsita?"Pacientes":"Especialistas"),l.xp6(1),l.Q6J("tipo",r.tipo)("Especialidad",r.especialidadSeleccionada)("usuarioEntregado",r.usuario),l.xp6(6),l.Q6J("tipo",r.tipo)("turnos",r.turnos))},directives:[bu,pP,gP,mV],styles:[""]}),n})();class _V{constructor(e,t,r,a,c,f,y){this.nombre=e,this.apellido=t,this.edad=r,this.dni=a,this.fotoUno=c,this.mail=f,this.pass=y}}function vV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El nombre es requerido "),l.qZA())}function wV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El apellido es requerido "),l.qZA())}function bV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El dni es requerido "),l.qZA())}function EV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," el dni no es valido "),l.qZA())}function CV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad es requerida "),l.qZA())}function TV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad debe ser entre 18 a 99 a\xf1os "),l.qZA())}function IV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El email es requerido "),l.qZA())}function DV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El password es requerido "),l.qZA())}function AV(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1,"La foto es requerida"),l.qZA())}let SV=(()=>{class n{constructor(t,r,a){this.frB=t,this.service=r,this.authServese=a,this.basePath="/Admin"}ngOnInit(){this.formulario=this.frB.group({nombre:["",[Je.required]],apellido:["",Je.required],edad:["",[Je.required,Je.min(18),Je.max(99)]],dni:["",[Je.required,Je.pattern("^[0-9]*$"),Je.maxLength(9),Je.minLength(8)]],foto:["",[Je.required]],password:["",[Je.required,Je.minLength(6)]],email:["",[Je.required,Je.email]]})}subirArchivo(t){let r=t.target.files[0];const c=`${this.basePath}/${this.formulario.value.dni+r.name}`;this.service.subirArchivo(r,c),kp(3e3).subscribe(()=>{this.service.traerArchivo(c).subscribe(f=>{this.imagenUno=f,console.log(f)})})}crearAdmin(){return new _V(this.formulario.value.nombre,this.formulario.value.apellido,this.formulario.value.edad,this.formulario.value.dni,this.imagenUno,this.formulario.value.email,this.formulario.value.password)}aceptar(){const t=this.crearAdmin();this.authServese.register(t).catch(r=>{"auth/email-already-in-use"===r.code&&(this.mensajeError("El email con el que quiere ingresar ya esta en la base de datos"),this.formulario.reset())})}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os),l.Y36(VD),l.Y36(ld))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro-admin"]],decls:51,vars:11,consts:[[1,"container","mt-5"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","mb-5"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],["type","text","id","apellido","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["type","text","id","apellido","placeholder","Ingrese Email","formControlName","email",1,"form-control"],["type","password","id","apellido","placeholder","Ingrese contrase\xf1a","formControlName","password",1,"form-control"],[1,"col-md-6","mb-5"],["for","foto",1,"form-label"],["type","file","accept","image/png,image/jpeg","formControlName","foto","id","foto",1,"form-control",3,"change"],[1,"row","mt-4"],[1,"col-md-12","d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){if(1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"form",1),l.NdJ("ngSubmit",function(){return r.aceptar()}),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"h2"),l.TgZ(6,"b"),l._uU(7,"Registro Administrador"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",4),l.TgZ(9,"div",5),l.TgZ(10,"label",6),l._uU(11,"Nombre"),l.qZA(),l._UZ(12,"input",7),l.YNc(13,vV,2,0,"small",8),l.qZA(),l.TgZ(14,"div",5),l.TgZ(15,"label",9),l._uU(16,"Apellido"),l.qZA(),l._UZ(17,"input",10),l.YNc(18,wV,2,0,"small",8),l.qZA(),l.TgZ(19,"div",5),l.TgZ(20,"label",9),l._uU(21,"DNI"),l.qZA(),l._UZ(22,"input",11),l.YNc(23,bV,2,0,"small",8),l.YNc(24,EV,2,0,"small",8),l.qZA(),l.TgZ(25,"div",5),l.TgZ(26,"label",12),l._uU(27,"Edad"),l.qZA(),l._UZ(28,"input",13),l.YNc(29,CV,2,0,"small",8),l.YNc(30,TV,2,0,"small",8),l.qZA(),l.TgZ(31,"div",5),l.TgZ(32,"label",9),l._uU(33,"Email"),l.qZA(),l._UZ(34,"input",14),l.YNc(35,IV,2,0,"small",8),l.qZA(),l.TgZ(36,"div",5),l.TgZ(37,"label",9),l._uU(38,"Password"),l.qZA(),l._UZ(39,"input",15),l.YNc(40,DV,2,0,"small",8),l.qZA(),l.TgZ(41,"div",16),l.TgZ(42,"label",17),l._uU(43,"Foto"),l.qZA(),l.TgZ(44,"input",18),l.NdJ("change",function(c){return r.subirArchivo(c)}),l.qZA(),l.YNc(45,AV,2,0,"small",8),l.qZA(),l._UZ(46,"div",3),l.qZA(),l.TgZ(47,"div",19),l.TgZ(48,"div",20),l.TgZ(49,"button",21),l._uU(50," Aceptar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){let a,c,f,y,w,D,x,M,V;l.xp6(2),l.Q6J("formGroup",r.formulario),l.xp6(11),l.Q6J("ngIf",(null==(a=r.formulario.get("nombre"))||null==a.errors?null:a.errors.required)&&(null==(a=r.formulario.get("nombre"))?null:a.touched)),l.xp6(5),l.Q6J("ngIf",(null==(c=r.formulario.get("apellido"))||null==c.errors?null:c.errors.required)&&(null==(c=r.formulario.get("apellido"))?null:c.touched)),l.xp6(5),l.Q6J("ngIf",(null==(f=r.formulario.get("dni"))||null==f.errors?null:f.errors.required)&&(null==(f=r.formulario.get("dni"))?null:f.touched)),l.xp6(1),l.Q6J("ngIf",(null==(y=r.formulario.get("edad"))||null==y.errors?null:y.errors.minLength)||(null==(y=r.formulario.get("dni"))||null==y.errors?null:y.errors.maxLength)&&(null==(y=r.formulario.get("dni"))?null:y.touched)),l.xp6(5),l.Q6J("ngIf",(null==(w=r.formulario.get("edad"))||null==w.errors?null:w.errors.required)&&(null==(w=r.formulario.get("edad"))?null:w.touched)),l.xp6(1),l.Q6J("ngIf",(null==(D=r.formulario.get("edad"))||null==D.errors?null:D.errors.min)||(null==(D=r.formulario.get("edad"))||null==D.errors?null:D.errors.max)&&(null==(D=r.formulario.get("edad"))?null:D.touched)),l.xp6(5),l.Q6J("ngIf",(null==(x=r.formulario.get("email"))||null==x.errors?null:x.errors.required)&&(null==(x=r.formulario.get("email"))?null:x.touched)),l.xp6(5),l.Q6J("ngIf",(null==(M=r.formulario.get("password"))||null==M.errors?null:M.errors.required)&&(null==(M=r.formulario.get("password"))?null:M.touched)),l.xp6(5),l.Q6J("ngIf",(null==(V=r.formulario.get("foto"))||null==V.errors?null:V.errors.required)&&(null==(V=r.formulario.get("foto"))?null:V.touched)),l.xp6(4),l.Q6J("disabled",r.formulario.invalid)}},directives:[bu,ra,or,ci,Fi,er,Vi,Cn,oc],styles:[".container[_ngcontent-%COMP%]{max-width:900px;padding:50px;box-shadow:2px 2px 32px -6px #0009}h2[_ngcontent-%COMP%]{text-align:center;color:#37229299}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#27bd02}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#1035db}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#10469c;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px #666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.fondo[_ngcontent-%COMP%]{background:url(blur-hospital.56218ec70094b7f8ffa7.jpg) no-repeat center center fixed;background-size:cover}"]}),n})();class xV{}class RV{constructor(e,t,r,a,c,f,y,w,D){this.nombre=e,this.apellido=t,this.edad=r,this.dni=a,this.fotoUno=c,this.especialidad=f,this.mail=y,this.pass=w,this.enabled=D}}const NV_loadScript=function(n,e,t,r,a){window.ng2recaptchaloaded=()=>{e(grecaptcha)};const c=document.createElement("script");c.innerHTML="",c.src=`${r||"https://www.google.com/recaptcha/api.js"}?render=${n}&onload=ng2recaptchaloaded${t}`,a&&(c.nonce=a),c.async=!0,c.defer=!0,document.head.appendChild(c)},PV=new l.OlP("recaptcha-language"),OV=new l.OlP("recaptcha-base-url"),kV=new l.OlP("recaptcha-nonce-tag"),FV=new l.OlP("recaptcha-settings"),LV=new l.OlP("recaptcha-v3-site-key");let yP=(()=>{class n{constructor(t,r,a,c,f){this.platformId=t,this.language=r,this.baseUrl=a,this.nonce=c,this.v3SiteKey=f,this.init(),this.ready=as(this.platformId)?n.ready.asObservable():(0,He.of)()}init(){if(!n.ready&&as(this.platformId)){const t=new Gr(null);n.ready=t,NV_loadScript(this.v3SiteKey||"explicit",c=>t.next(c),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi),l.LFG(PV,8),l.LFG(OV,8),l.LFG(kV,8),l.LFG(LV,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n.ready=null,n})(),VV=0,WR=(()=>{class n{constructor(t,r,a,c){this.elementRef=t,this.loader=r,this.zone=a,this.id="ngrecaptcha-"+VV++,this.errorMode="default",this.resolved=new l.vpe,this.error=new l.vpe,c&&(this.siteKey=c.siteKey,this.theme=c.theme,this.type=c.type,this.size=c.size,this.badge=c.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(t){this.error.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.errored(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(yP),l.Y36(l.R0b),l.Y36(FV,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("id",r.id)},inputs:{id:"id",errorMode:"errorMode",siteKey:"siteKey",theme:"theme",type:"type",size:"size",badge:"badge",tabIndex:"tabIndex"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yP],imports:[[_P]]}),n})(),wP=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(WR))},n.\u0275dir=l.lG2({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("resolved",function(c){return r.onResolve(c)})},features:[l._Bn([{multi:!0,provide:gs,useExisting:(0,l.Gpc)(()=>n)}])]}),n})(),UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ll,_P]]}),n})();function BV(n,e){1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-navbar"),l.qZA())}function jV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," El nombre es requerido "),l.qZA())}function ZV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," El apellido es requerido "),l.qZA())}function qV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," El dni es requerido "),l.qZA())}function HV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," el dni no es valido "),l.qZA())}function $V(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," La edad es requerida "),l.qZA())}function GV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," La edad debe ser entre 18 a 99 a\xf1os "),l.qZA())}function zV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," El email es requerido "),l.qZA())}function WV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1," El password es requerido "),l.qZA())}function YV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"label",29),l._uU(2),l.qZA(),l.TgZ(3,"input",30),l.NdJ("change",function(a){return l.CHM(t),l.oxw().caputurarRadioEspecialidad(a)}),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(1),l.Q6J("value",t.nombre)}}function KV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1,"La foto es requerida"),l.qZA())}function QV(n,e){1&n&&(l.TgZ(0,"small",28),l._uU(1,"es requerido el reCaptcha"),l.qZA())}let JV=(()=>{class n{constructor(t,r,a){this.frB=t,this.service=r,this.authServese=a,this.admin=!1,this.basePath="/Especialistas",this.checkArray=[],this.foto=""}ngOnInit(){this.tipo=localStorage.getItem("tipo"),this.admin="admin"===this.tipo,this.service.getEspecialidades().subscribe(t=>{this.especialidades=t}),this.formulario=this.frB.group({nombre:["",[Je.required]],apellido:["",Je.required],edad:["",[Je.required,Je.min(18),Je.max(99)]],dni:["",[Je.required,Je.pattern("^[0-9]*$"),Je.maxLength(9),Je.minLength(8)]],foto:["",[Je.required]],password:["",[Je.required,Je.minLength(6)]],email:["",[Je.required,Je.email]],especialidades:["",[Je.required]],reCaptha:["",[Je.required]]})}resolved(t){console.log(`Resolved captcha with response: ${t}`)}caputurarRadioEspecialidad(t){var r;if(t.target.checked)this.checkArray.push(t.target.value),null===(r=this.formulario.get("especialidades"))||void 0===r||r.setValue(JSON.parse(JSON.stringify(this.checkArray))),console.log(this.checkArray);else{for(let a=0;a<this.checkArray.length;a++){if(t.target.value===this.checkArray[a]){this.checkArray.splice(a);break}console.log("no lo es")}console.log(this.checkArray)}}cargarEspecialidad(){yr().fire({title:"Ingrese la nueva especialidad",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"aceptar",showLoaderOnConfirm:!0,allowOutsideClick:()=>!yr().isLoading()}).then(t=>{if(""!==t.value&&t.isConfirmed){const r=new xV;r.nombre=t.value,this.especialidades.push(r),yr().fire({title:"agregado perfecto",icon:"success"}),console.log(this.especialidades),this.service.AddEspecialidades(r)}else yr().fire({title:"No se pudo agregar",icon:"error"})})}subirArchivo(t){let r=t.target.files[0];const c=`${this.basePath}/${this.formulario.value.dni+r.name}`;this.service.subirArchivo(r,c),kp(3e3).subscribe(()=>{this.service.traerArchivo(c).subscribe(f=>{this.imagenUno=f,console.log(f)})})}crearEspecialista(){return new RV(this.formulario.value.nombre,this.formulario.value.apellido,this.formulario.value.edad,this.formulario.value.dni,this.imagenUno,this.checkArray,this.formulario.value.email,this.formulario.value.password,!1)}aceptar(){const t=this.crearEspecialista();this.authServese.register(t).catch(r=>{"auth/email-already-in-use"===r.code&&(this.mensajeError("El email con el que quiere ingresar ya esta en la base de datos"),this.formulario.reset())})}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os),l.Y36(VD),l.Y36(ld))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro-especialista"]],decls:59,vars:14,consts:[[4,"ngIf"],[1,"container","mt-5"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","mb-5"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],["type","text","id","apellido","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["type","text","id","apellido","placeholder","Ingrese Email","formControlName","email",1,"form-control"],["type","password","id","apellido","placeholder","Ingrese contrase\xf1a","formControlName","password",1,"form-control"],[1,"col-md-6","mb-5"],["for","juego",1,"form-label"],[4,"ngFor","ngForOf"],["type","button",1,"botonSubmit",3,"click"],["for","foto",1,"form-label"],["type","file","accept","image/png,image/jpeg","formControlName","foto","id","foto",1,"form-control",3,"change"],[1,"col-md-6"],["formControlName","reCaptcha","siteKey","6LcwBv4cAAAAAGuO-kT4nj5Z_mEoNniCXo2DVgRv",3,"resolved"],[1,"row","mt-4"],[1,"col-md-12","d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"],["for","especialiad",1,"form-label"],["type","checkbox","name","EspecialidadCheck",3,"value","change"]],template:function(t,r){if(1&t&&(l.YNc(0,BV,2,0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"form",2),l.NdJ("ngSubmit",function(){return r.aceptar()}),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h2"),l.TgZ(6,"b"),l._uU(7,"Registro Especialista"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",5),l.TgZ(9,"div",6),l.TgZ(10,"label",7),l._uU(11,"Nombre"),l.qZA(),l._UZ(12,"input",8),l.YNc(13,jV,2,0,"small",9),l.qZA(),l.TgZ(14,"div",6),l.TgZ(15,"label",10),l._uU(16,"Apellido"),l.qZA(),l._UZ(17,"input",11),l.YNc(18,ZV,2,0,"small",9),l.qZA(),l.TgZ(19,"div",6),l.TgZ(20,"label",10),l._uU(21,"DNI"),l.qZA(),l._UZ(22,"input",12),l.YNc(23,qV,2,0,"small",9),l.YNc(24,HV,2,0,"small",9),l.qZA(),l.TgZ(25,"div",6),l.TgZ(26,"label",13),l._uU(27,"Edad"),l.qZA(),l._UZ(28,"input",14),l.YNc(29,$V,2,0,"small",9),l.YNc(30,GV,2,0,"small",9),l.qZA(),l.TgZ(31,"div",6),l.TgZ(32,"label",10),l._uU(33,"Email"),l.qZA(),l._UZ(34,"input",15),l.YNc(35,zV,2,0,"small",9),l.qZA(),l.TgZ(36,"div",6),l.TgZ(37,"label",10),l._uU(38,"Password"),l.qZA(),l._UZ(39,"input",16),l.YNc(40,WV,2,0,"small",9),l.qZA(),l.TgZ(41,"div",17),l.TgZ(42,"label",18),l._uU(43," Selecciona Especialidad \xa0\xa0"),l.qZA(),l.YNc(44,YV,4,2,"div",19),l.TgZ(45,"button",20),l.NdJ("click",function(){return r.cargarEspecialidad()}),l._uU(46,"Agregar especialidad"),l.qZA(),l.qZA(),l.TgZ(47,"div",17),l.TgZ(48,"label",21),l._uU(49,"Foto"),l.qZA(),l.TgZ(50,"input",22),l.NdJ("change",function(c){return r.subirArchivo(c)}),l.qZA(),l.YNc(51,KV,2,0,"small",9),l.qZA(),l.TgZ(52,"div",23),l.TgZ(53,"re-captcha",24),l.NdJ("resolved",function(c){return r.resolved(c)}),l.qZA(),l.YNc(54,QV,2,0,"small",9),l.qZA(),l.qZA(),l.TgZ(55,"div",25),l.TgZ(56,"div",26),l.TgZ(57,"button",27),l._uU(58," Aceptar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){let a,c,f,y,w,D,x,M,V,q;l.Q6J("ngIf",r.admin),l.xp6(2),l.Q6J("formGroup",r.formulario),l.xp6(11),l.Q6J("ngIf",(null==(a=r.formulario.get("nombre"))||null==a.errors?null:a.errors.required)&&(null==(a=r.formulario.get("nombre"))?null:a.touched)),l.xp6(5),l.Q6J("ngIf",(null==(c=r.formulario.get("apellido"))||null==c.errors?null:c.errors.required)&&(null==(c=r.formulario.get("apellido"))?null:c.touched)),l.xp6(5),l.Q6J("ngIf",(null==(f=r.formulario.get("dni"))||null==f.errors?null:f.errors.required)&&(null==(f=r.formulario.get("dni"))?null:f.touched)),l.xp6(1),l.Q6J("ngIf",(null==(y=r.formulario.get("edad"))||null==y.errors?null:y.errors.minLength)||(null==(y=r.formulario.get("dni"))||null==y.errors?null:y.errors.maxLength)&&(null==(y=r.formulario.get("dni"))?null:y.touched)),l.xp6(5),l.Q6J("ngIf",(null==(w=r.formulario.get("edad"))||null==w.errors?null:w.errors.required)&&(null==(w=r.formulario.get("edad"))?null:w.touched)),l.xp6(1),l.Q6J("ngIf",(null==(D=r.formulario.get("edad"))||null==D.errors?null:D.errors.min)||(null==(D=r.formulario.get("edad"))||null==D.errors?null:D.errors.max)&&(null==(D=r.formulario.get("edad"))?null:D.touched)),l.xp6(5),l.Q6J("ngIf",(null==(x=r.formulario.get("email"))||null==x.errors?null:x.errors.required)&&(null==(x=r.formulario.get("email"))?null:x.touched)),l.xp6(5),l.Q6J("ngIf",(null==(M=r.formulario.get("password"))||null==M.errors?null:M.errors.required)&&(null==(M=r.formulario.get("password"))?null:M.touched)),l.xp6(4),l.Q6J("ngForOf",r.especialidades),l.xp6(7),l.Q6J("ngIf",(null==(V=r.formulario.get("foto"))||null==V.errors?null:V.errors.required)&&(null==(V=r.formulario.get("foto"))?null:V.touched)),l.xp6(3),l.Q6J("ngIf",(null==(q=r.formulario.get("reCaptcha"))||null==q.errors?null:q.errors.required)&&(null==(q=r.formulario.get("reCaptcha"))?null:q.touched)),l.xp6(3),l.Q6J("disabled",r.formulario.invalid)}},directives:[Cn,ra,or,ci,Fi,er,Vi,oc,sr,WR,wP,bu],styles:[".container[_ngcontent-%COMP%]{max-width:900px;padding:50px;box-shadow:2px 2px 32px -6px #0009}h2[_ngcontent-%COMP%]{text-align:center;color:#37229299}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#27bd02}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#1035db}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#10469c;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px #666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.fondo[_ngcontent-%COMP%]{background:url(blur-hospital.56218ec70094b7f8ffa7.jpg) no-repeat center center fixed;background-size:cover}"]}),n})();function XV(n,e){1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-navbar"),l.qZA())}function eU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," El nombre es requerido "),l.qZA())}function tU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," El apellido es requerido "),l.qZA())}function nU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," El DNI es requerido "),l.qZA())}function rU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," La edad es requerida "),l.qZA())}function iU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," La edad debe ser entre 18 a 99 a\xf1os "),l.qZA())}function sU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," la Obra Social es requerida "),l.qZA())}function oU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," El email es requerido "),l.qZA())}function aU(n,e){1&n&&(l.TgZ(0,"small",27),l._uU(1," El password es requerido "),l.qZA())}let lU=(()=>{class n{constructor(t,r,a){this.frB=t,this.storage=r,this.authServis=a,this.admin=!1,this.basePath="/Pacientes"}ngOnInit(){this.tipo=localStorage.getItem("tipo"),this.admin="admin"===this.tipo,this.formulario=this.frB.group({nombre:["",[Je.required]],apellido:["",Je.required],edad:["",[Je.required,Je.min(18),Je.max(99)]],dni:["",[Je.required,Je.pattern("^[0-9]*$"),Je.maxLength(10)]],password:["",[Je.required,Je.minLength(6)]],email:["",[Je.required,Je.email]],foto:["",Je.required],fotoDos:["",Je.required],obraSocial:["",Je.required],reCaptha:["",[Je.required]]})}subirArchivo(t){let r=t.target.files[0];const c=`${this.basePath}/${this.formulario.value.dni+"uno"+r.name}`;this.storage.subirArchivo(r,c),kp(3e3).subscribe(()=>{this.storage.traerArchivo(c).subscribe(f=>{this.imagenUno=f,console.log(f)})})}subirArchivoDos(t){let r=t.target.files[0];const c=`${this.basePath}/${this.formulario.value.dni+"dos"+r.name}`;this.storage.subirArchivo(r,c),kp(3e3).subscribe(()=>{this.storage.traerArchivo(c).subscribe(f=>{this.imagenDos=f,console.log(f)})})}crearPaciente(){const t={nombre:this.formulario.value.nombre,apellido:this.formulario.value.apellido,edad:this.formulario.value.edad,dni:this.formulario.value.dni,fotoUno:this.imagenUno,fotoDos:this.imagenDos,obraSocial:this.formulario.value.obraSocial,mail:this.formulario.value.email,pass:this.formulario.value.password};return console.log(t),t}resolved(t){console.log(`Resolved captcha with response: ${t}`)}onError(t){console.log("reCAPTCHA error encountered; details:",t)}aceptar(){const t=this.crearPaciente();console.log(t),this.authServis.register(t).catch(r=>{"auth/email-already-in-use"===r.code&&(this.mensajeError("El email con el que quiere ingresar ya esta en la base de datos"),this.formulario.reset())})}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os),l.Y36(VD),l.Y36(ld))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro-paciente"]],decls:60,vars:11,consts:[[4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","mb-5"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["type","text","id","apellido","placeholder","Ingrese Obra Social","formControlName","obraSocial",1,"form-control"],["type","text","id","apellido","placeholder","Ingrese Email","formControlName","email",1,"form-control"],["type","password","id","apellido","placeholder","Ingrese contrase\xf1a","formControlName","password",1,"form-control"],[1,"col-md-6"],["for","foto",1,"form-label"],["type","file","accept","image/png,image/jpeg","formControlName","foto","id","foto",1,"form-control",3,"change"],["accept","image/png,image/jpeg","formControlName","fotoDos","type","file","id","foto",1,"form-control",3,"change"],["formControlName","reCaptcha","siteKey","6LcwBv4cAAAAAGuO-kT4nj5Z_mEoNniCXo2DVgRv",3,"resolved"],[1,"row","mt-4"],[1,"col-md-12","d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){if(1&t&&(l.YNc(0,XV,2,0,"div",0),l._UZ(1,"br"),l.TgZ(2,"div",1),l.TgZ(3,"form",2),l.NdJ("ngSubmit",function(){return r.aceptar()}),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"h2"),l.TgZ(7,"b"),l._uU(8,"Registro Paciente"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",5),l.TgZ(10,"div",6),l.TgZ(11,"label",7),l._uU(12,"Nombre"),l.qZA(),l._UZ(13,"input",8),l.YNc(14,eU,2,0,"small",9),l.qZA(),l.TgZ(15,"div",6),l.TgZ(16,"label",10),l._uU(17,"Apellido"),l.qZA(),l._UZ(18,"input",11),l.YNc(19,tU,2,0,"small",9),l.qZA(),l.TgZ(20,"div",6),l.TgZ(21,"label",12),l._uU(22,"DNI"),l.qZA(),l._UZ(23,"input",13),l.YNc(24,nU,2,0,"small",9),l.qZA(),l.TgZ(25,"div",6),l.TgZ(26,"label",14),l._uU(27,"Edad"),l.qZA(),l._UZ(28,"input",15),l.YNc(29,rU,2,0,"small",9),l.YNc(30,iU,2,0,"small",9),l.qZA(),l.TgZ(31,"div",6),l.TgZ(32,"label",10),l._uU(33,"Obra Social"),l.qZA(),l._UZ(34,"input",16),l.YNc(35,sU,2,0,"small",9),l.qZA(),l.TgZ(36,"div",6),l.TgZ(37,"label",10),l._uU(38,"Email"),l.qZA(),l._UZ(39,"input",17),l.YNc(40,oU,2,0,"small",9),l.qZA(),l.TgZ(41,"div",6),l.TgZ(42,"label",10),l._uU(43,"Password"),l.qZA(),l._UZ(44,"input",18),l.YNc(45,aU,2,0,"small",9),l.qZA(),l.TgZ(46,"div",19),l.TgZ(47,"label",20),l._uU(48,"Foto 1"),l.qZA(),l.TgZ(49,"input",21),l.NdJ("change",function(c){return r.subirArchivo(c)}),l.qZA(),l.qZA(),l.TgZ(50,"div",19),l.TgZ(51,"label",20),l._uU(52,"Foto 2"),l.qZA(),l.TgZ(53,"input",22),l.NdJ("change",function(c){return r.subirArchivoDos(c)}),l.qZA(),l.qZA(),l.TgZ(54,"div",19),l.TgZ(55,"re-captcha",23),l.NdJ("resolved",function(c){return r.resolved(c)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"div",24),l.TgZ(57,"div",25),l.TgZ(58,"button",26),l._uU(59," Aceptar "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){let a,c,f,y,w,D,x,M;l.Q6J("ngIf",r.admin),l.xp6(3),l.Q6J("formGroup",r.formulario),l.xp6(11),l.Q6J("ngIf",(null==(a=r.formulario.get("nombre"))||null==a.errors?null:a.errors.required)&&(null==(a=r.formulario.get("nombre"))?null:a.touched)),l.xp6(5),l.Q6J("ngIf",(null==(c=r.formulario.get("apellido"))||null==c.errors?null:c.errors.required)&&(null==(c=r.formulario.get("apellido"))?null:c.touched)),l.xp6(5),l.Q6J("ngIf",(null==(f=r.formulario.get("dni"))||null==f.errors?null:f.errors.required)&&(null==(f=r.formulario.get("dni"))?null:f.touched)),l.xp6(5),l.Q6J("ngIf",(null==(y=r.formulario.get("edad"))||null==y.errors?null:y.errors.required)&&(null==(y=r.formulario.get("edad"))?null:y.touched)),l.xp6(1),l.Q6J("ngIf",(null==(w=r.formulario.get("edad"))||null==w.errors?null:w.errors.min)||(null==(w=r.formulario.get("edad"))||null==w.errors?null:w.errors.max)&&(null==(w=r.formulario.get("edad"))?null:w.touched)),l.xp6(5),l.Q6J("ngIf",(null==(D=r.formulario.get("obraSocial"))||null==D.errors?null:D.errors.required)&&(null==(D=r.formulario.get("obraSocial"))?null:D.touched)),l.xp6(5),l.Q6J("ngIf",(null==(x=r.formulario.get("email"))||null==x.errors?null:x.errors.required)&&(null==(x=r.formulario.get("email"))?null:x.touched)),l.xp6(5),l.Q6J("ngIf",(null==(M=r.formulario.get("password"))||null==M.errors?null:M.errors.required)&&(null==(M=r.formulario.get("password"))?null:M.touched)),l.xp6(13),l.Q6J("disabled",r.formulario.invalid)}},directives:[Cn,ra,or,ci,Fi,er,Vi,oc,WR,wP,bu],styles:[".container[_ngcontent-%COMP%]{max-width:900px;padding:50px;box-shadow:2px 2px 32px -6px #0009}h2[_ngcontent-%COMP%]{text-align:center;color:#37229299}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#27bd02}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#1035db}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#10469c;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px #666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.fondo[_ngcontent-%COMP%]{background:url(blur-hospital.56218ec70094b7f8ffa7.jpg) no-repeat center center fixed;background-size:cover}"]}),n})();function uU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l._UZ(1,"br"),l.TgZ(2,"div",4),l.NdJ("click",function(){return l.CHM(t),l.oxw().paciente()}),l._UZ(3,"img",5),l.TgZ(4,"div",6),l.TgZ(5,"div",7),l._uU(6," Paciente "),l.qZA(),l.qZA(),l.qZA(),l._UZ(7,"br"),l.TgZ(8,"div",4),l.NdJ("click",function(){return l.CHM(t),l.oxw().especialista()}),l._UZ(9,"img",8),l.TgZ(10,"div",6),l.TgZ(11,"div",7),l._uU(12," Especialista "),l.qZA(),l.qZA(),l.qZA(),l.qZA()}}function cU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l._UZ(1,"app-navbar"),l.TgZ(2,"div",9),l.TgZ(3,"h1"),l._uU(4,"QUE TIPO DE USUARIO QUIERE AGREGAR"),l.qZA(),l.TgZ(5,"button",10),l.NdJ("click",function(){return l.CHM(t),l.oxw().admistrador()}),l._uU(6,"administrador"),l.qZA(),l.TgZ(7,"button",11),l.NdJ("click",function(){return l.CHM(t),l.oxw().especialista()}),l._uU(8,"Especialista"),l.qZA(),l.TgZ(9,"button",12),l.NdJ("click",function(){return l.CHM(t),l.oxw().paciente()}),l._uU(10," Paciente"),l.qZA(),l.qZA(),l.qZA()}}let dU=(()=>{class n{constructor(t){this.router=t,this.admin=!1}ngOnInit(){this.tipo=localStorage.getItem("tipo"),this.admin="admin"===this.tipo}paciente(){this.router.navigate(["registro-paciente"])}especialista(){this.router.navigate(["registro-especialista"])}admistrador(){this.router.navigate(["registro-admin"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registros"]],decls:3,vars:2,consts:[[1,"fondo"],["class","aparte","style","text-align: center;",4,"ngIf"],[4,"ngIf"],[1,"aparte",2,"text-align","center"],[1,"card","mt-5",2,"width","600px","cursor","pointer","flex-grow","1",3,"click"],["src","../../../../assets/paciente.jpg","alt",""],[1,"card-header"],[1,"card-title"],["src","../../../../assets/especialista(1).jpg","alt",""],[1,"card","container","mt-5",2,"width","800px","height","350px"],[1,"btn","btn-primary","mt-3","mb-3","pt-2","pb-2",3,"click"],[1,"btn","btn-success","mt-3","mb-3","pt-2","pb-2",3,"click"],[1,"btn","btn-warning","mt-3","mb-3","pt-2","pb-2",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,uU,13,0,"div",1),l.YNc(2,cU,11,0,"div",2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!r.admin),l.xp6(1),l.Q6J("ngIf",r.admin))},directives:[Cn,bu],styles:[".container[_ngcontent-%COMP%]{max-width:900px;padding:50px;box-shadow:2px 2px 32px -6px #0009}h1[_ngcontent-%COMP%]{font-size:37px}.aparte[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.fondo[_ngcontent-%COMP%]{background:url(blur-hospital.56218ec70094b7f8ffa7.jpg) no-repeat center center fixed;background-size:cover}"]}),n})();function hU(n,e){1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-empty-card",3),l.qZA()),2&n&&(l.xp6(1),l.Q6J("text","No hay horarios disponibles"))}const fU=function(n){return{active:n}};function pU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(4).selectShift(c)}),l.TgZ(1,"h6",14),l._uU(2),l.qZA(),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(4);l.Q6J("ngClass",l.VKq(2,fU,(null==r.turnoSeleccionado?null:r.turnoSeleccionado.id)===t.id)),l.xp6(2),l.hij(" ",r.formatoTurno(t)," ")}}function gU(n,e){if(1&n&&(l.TgZ(0,"div",8),l.TgZ(1,"div",9),l.TgZ(2,"div",10),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",11),l.YNc(6,pU,3,4,"button",12),l.qZA(),l.qZA(),l.qZA()),2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t.key),l.xp6(2),l.Q6J("ngForOf",t.value)}}function mU(n,e){if(1&n&&(l.TgZ(0,"div",6),l.YNc(1,gU,7,2,"div",7),l.ALo(2,"keyvalue"),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",l.xi3(2,1,t.listaCopiada,t.originalOrder))}}function yU(n,e){if(1&n&&(l.TgZ(0,"div",4),l.YNc(1,mU,3,4,"div",5),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.listaCopiada)}}let _U=(()=>{class n{constructor(){this.turnos=null,this.titulo="horarios",this.tipo="todos",this.listaCopiada=null,this.turnoSeleccionado=null,this.originalOrder=(t,r)=>0,this.busqueda="",this.seleccionarHorarioTurno=new l.vpe}ngOnInit(){}ngOnChanges(t){t.turnos.currentValue&&(this.listaCopiada=(n=>n.reduce((e,t)=>{const r=(n=>zR(new Date(n.dia),"EEEE dd MMMM",{locale:cP}))(t);return e[r]?e[r].push(t):e[r]=[t],e},{}))(t.turnos.currentValue))}selectShift(t){var r=this;return(0,me.Z)(function*(){r.turnoSeleccionado=t,r.seleccionarHorarioTurno.emit(r.turnoSeleccionado)})()}formatoTurno(t){return(n=>zR(new Date(n.dia),"HH:mm aaa"))(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lista-horarios"]],inputs:{turnos:"turnos",titulo:"titulo",tipo:"tipo"},outputs:{seleccionarHorarioTurno:"seleccionarHorarioTurno"},features:[l.TTD],decls:3,vars:4,consts:[[3,"isLoading","text"],[4,"ngIf"],["class","mb-3 animate__animated animate__fadeIn",4,"ngIf"],[3,"text"],[1,"mb-3","animate__animated","animate__fadeIn"],["class","overflow-auto","style","height: 200px",4,"ngIf"],[1,"overflow-auto",2,"height","200px"],["class","wrapper",4,"ngFor","ngForOf"],[1,"wrapper"],[1,"group"],[1,"date-wrapper","text-center","my-2"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"ngClass","click"],[1,"my-0"]],template:function(t,r){1&t&&(l._UZ(0,"app-spinner",0),l.YNc(1,hU,2,1,"div",1),l.YNc(2,yU,2,1,"div",2)),2&t&&(l.Q6J("isLoading",!r.turnos)("text","Cargando horarios disponibles"),l.xp6(1),l.Q6J("ngIf",0===(null==r.turnos?null:r.turnos.length)),l.xp6(1),l.Q6J("ngIf",null==r.turnos?null:r.turnos.length))},directives:[UD,Cn,mP,sr,bi],pipes:[jo],styles:[""]}),n})();function vU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-filtro-doctor",12),l.NdJ("usuarioSeleccionado",function(a){return l.CHM(t),l.oxw().SelecEspecialista(a)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("Especialidad",t.especialidad)("tipo","especialistas")}}function wU(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," Seleccione una especialidad para ver los especialistas disponibles... "),l.qZA())}function bU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"div",3),l.TgZ(2,"h2"),l._uU(3,"Paciente"),l.qZA(),l.TgZ(4,"app-filtro-doctor",13),l.NdJ("usuarioSeleccionado",function(a){return l.CHM(t),l.oxw().SeleccionarPaciente(a)}),l.qZA(),l.qZA(),l.qZA()}2&n&&(l.xp6(4),l.Q6J("tipo","pacientes"))}function EU(n,e){1&n&&(l.TgZ(0,"div"),l._uU(1," Selecciona un especialista para ver sus d\xedas y horarios "),l.qZA())}function CU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-lista-horarios",14),l.NdJ("seleccionarHorarioTurno",function(a){return l.CHM(t),l.oxw().setSeleccionarTurno(a)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("turnos",t.turnos)}}function TU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",15),l.TgZ(1,"div",16),l.TgZ(2,"div",17),l.TgZ(3,"div",18),l.TgZ(4,"h5",19),l._uU(5,"Detalles del turno"),l.qZA(),l._UZ(6,"button",20),l.qZA(),l.TgZ(7,"div",21),l.TgZ(8,"div",1),l.TgZ(9,"div",22),l._uU(10),l.qZA(),l.qZA(),l.TgZ(11,"div",1),l.TgZ(12,"div",22),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"div",1),l.TgZ(15,"div",22),l._uU(16),l.qZA(),l.qZA(),l.TgZ(17,"div",1),l.TgZ(18,"div",22),l._uU(19),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",23),l.TgZ(21,"button",24),l.NdJ("click",function(){return l.CHM(t),l.oxw().confirmarTurno()}),l._uU(22," Confirmo "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(10),l.hij(" Fecha: ",t.formatoConfirmacionTurno(t.turnoSeleccionado)," "),l.xp6(3),l.hij(" Especialidad: ",t.especialidad.nombre," "),l.xp6(3),l.AsE(" Especialista: ",t.EspecialistaSeleccionado.nombre," ",t.EspecialistaSeleccionado.apellido," "),l.xp6(3),l.AsE(" Paciente: ",t.pacienteSeleccionado.nombre," ",t.pacienteSeleccionado.apellido," ")}}const IU=function(n){return{"col-md-6":n}},DU=[{path:"",component:CL},{path:"login",component:ML},{path:"home",component:IL},{path:"lista-pacientes",component:u2},{path:"lista-especialistas",component:a2},{path:"mis-turnos",component:yV},{path:"mi-perfil",component:EL},{path:"solicitar-turno",component:(()=>{class n{constructor(t,r){this.turnoService=t,this.fb=r,this.seleccionoEspecialidad=!1,this.pacienteSeleccionado=null,this.EspecialistaSeleccionado=null,this.turnos=null,this.turnosSinFiltrar=null,this.turnoSeleccionado=null,this.turnoFrom=this.fb.group({especialidad:new On(null,[Je.required]),especialista:new On(null,[Je.required]),paciente:new On(null,[Je.required]),turno:new On(null,[Je.required])})}ngOnInit(){var t;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.tipo=localStorage.getItem("tipo"),"paciente"===this.tipo&&(this.SeleccionarPaciente(this.usuario),this.turnoFrom.patchValue({paciente:null===(t=this.pacienteSeleccionado)||void 0===t?void 0:t.nombre}))}setSeleccionarTurno(t){var r;this.turnoSeleccionado=t,this.turnoFrom.patchValue({turno:null===(r=this.turnoSeleccionado)||void 0===r?void 0:r.dia})}selecEspecialidad(t){this.especialidad=t,this.turnoFrom.patchValue({especialidad:this.especialidad}),this.seleccionoEspecialidad=!0}SelecEspecialista(t){var r=this;return(0,me.Z)(function*(){if(r.turnos=[],r.turnosSinFiltrar=[],r.EspecialistaSeleccionado=t,r.EspecialistaSeleccionado){r.turnoFrom.patchValue({especialista:r.EspecialistaSeleccionado.nombre});const a=yield r.turnoService.traerTurnosPorEmail({email:r.EspecialistaSeleccionado.mail,role:"especialista"}),c=[];a.subscribe(f=>{var y;r.turnosSinFiltrar=f;const D=eP(new Date,15).getTime();null===(y=r.turnosSinFiltrar)||void 0===y||y.forEach(x=>{const M=new Date(x.dia).getTime();"disponible"===x.estado&&M<D&&x.especialidad===r.especialidad.nombre&&c.push(x)}),c.sort((x,M)=>new Date(x.dia).getTime()-new Date(M.dia).getTime()),r.turnos=c,console.log(r.turnos)})}else r.turnoFrom.patchValue({especialista:null}),r.turnoSeleccionado=null,r.turnoFrom.patchValue({turno:null})})()}SeleccionarPaciente(t){var r;console.log(t),this.pacienteSeleccionado=t,this.turnoFrom.patchValue({paciente:null===(r=this.pacienteSeleccionado)||void 0===r?void 0:r.nombre})}seleccionarTurno(t){var r;this.turnoSeleccionado=t,this.turnoFrom.patchValue({turno:null===(r=this.turnoSeleccionado)||void 0===r?void 0:r.dia})}formatoConfirmacionTurno(t){return dP(t)}confirmarTurno(){const t=Object.assign(Object.assign({},this.turnoSeleccionado),{estado:"pendiente",paciente:this.pacienteSeleccionado});this.turnoService.subirTurno(t),this.mensaje("Estado del turno","El turno fue solicitado con \xe9xito!")}mensaje(t,r){yr().fire({icon:"success",title:t,text:r})}mensajeError(t){yr().fire({icon:"error",title:"Oops...",text:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LD),l.Y36(Os))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-solicitar-turno"]],decls:25,vars:11,consts:[[1,"container","py-4"],[1,"row"],[1,"col-md-6","my-3"],[1,"rounded-3"],[3,"tipo","espSelec"],[3,"Especialidad","tipo","usuarioSeleccionado",4,"ngIf"],[4,"ngIf"],["class","col-md-6 my-3",4,"ngIf"],[3,"ngClass"],[3,"turnos","seleccionarHorarioTurno",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary","w-100","my-3",3,"disabled"],["class","modal fade","id","exampleModal","tabindex","-1",4,"ngIf"],[3,"Especialidad","tipo","usuarioSeleccionado"],[3,"tipo","usuarioSeleccionado"],[3,"turnos","seleccionarHorarioTurno"],["id","exampleModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"col"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"h2"),l._uU(6,"Especialidad"),l.qZA(),l.TgZ(7,"app-especialidades",4),l.NdJ("espSelec",function(c){return r.selecEspecialidad(c)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",2),l.TgZ(9,"div",3),l.TgZ(10,"h2"),l._uU(11,"Especialista"),l.qZA(),l.YNc(12,vU,1,2,"app-filtro-doctor",5),l.YNc(13,wU,2,0,"div",6),l.qZA(),l.qZA(),l.qZA(),l.TgZ(14,"div",1),l.YNc(15,bU,5,1,"div",7),l.TgZ(16,"div",8),l.TgZ(17,"div",3),l.TgZ(18,"h2"),l._uU(19,"D\xeda y horario"),l.qZA(),l.YNc(20,EU,2,0,"div",6),l.YNc(21,CU,1,1,"app-lista-horarios",9),l.qZA(),l.qZA(),l.TgZ(22,"button",10),l._uU(23," Confirmar turno "),l.qZA(),l.YNc(24,TU,23,6,"div",11),l.qZA(),l.qZA()),2&t&&(l.xp6(7),l.Q6J("tipo","paciente"),l.xp6(5),l.Q6J("ngIf",r.seleccionoEspecialidad),l.xp6(1),l.Q6J("ngIf",!r.seleccionoEspecialidad),l.xp6(2),l.Q6J("ngIf","admin"===r.tipo),l.xp6(1),l.Q6J("ngClass",l.VKq(9,IU,"admin"===r.tipo)),l.xp6(4),l.Q6J("ngIf",!r.EspecialistaSeleccionado),l.xp6(1),l.Q6J("ngIf",r.EspecialistaSeleccionado),l.xp6(1),l.Q6J("disabled",r.turnoFrom.invalid),l.xp6(2),l.Q6J("ngIf",r.especialidad&&r.EspecialistaSeleccionado&&r.pacienteSeleccionado&&r.turnoSeleccionado))},directives:[bu,pP,Cn,bi,gP,_U],styles:[""]}),n})()},{path:"registro",component:dU},{path:"registro-paciente",component:lU},{path:"registro-especialista",component:JV},{path:"registro-admin",component:SV},{path:"**",component:TL}];let AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[el.forRoot(DU,{relativeLinkResolution:"legacy"})],el]}),n})(),SU=(()=>{class n{constructor(){this.title="clinica"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Op],styles:[""]}),n})();const bP_firebaseConfig={apiKey:"AIzaSyDN8TJ40PL0ph-3gp35fUKfNsojrnwqiFc",authDomain:"fir-utn-996a3.firebaseapp.com",projectId:"fir-utn-996a3",storageBucket:"fir-utn-996a3.appspot.com",messagingSenderId:"901137154605",appId:"1:901137154605:web:ab0e34ba76fa4f67e62ea4"};let xU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gl,js.hO.initializeApp(bP_firebaseConfig),GC,d,Kk]]}),n})(),EP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gl,el,Ll,sa]]}),n})(),RU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gl,sa,Ll,EP,UV,vP]]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[gl,Ll,el,EP,RU,sa]]}),n})();function pE(n){return(pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function CP(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function OU(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){OU(n,a,t[a])})}return n}function YR(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,a=!1,c=void 0;try{for(var y,f=n[Symbol.iterator]();!(r=(y=f.next()).done)&&(t.push(y.value),!e||t.length!==e);r=!0);}catch(w){a=!0,c=w}finally{try{!r&&null!=f.return&&f.return()}finally{if(a)throw c}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var QR={},IP={};try{"undefined"!=typeof window&&(QR=window),"undefined"!=typeof document&&(IP=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var SP=(QR.navigator||{}).userAgent,xP=void 0===SP?"":SP,Cv=QR,ei=IP,ud=!!ei.documentElement&&!!ei.head&&"function"==typeof ei.addEventListener&&"function"==typeof ei.createElement,cd=(~xP.indexOf("MSIE")||xP.indexOf("Trident/"),"___FONT_AWESOME___"),PP="svg-inline--fa",LP=[1,2,3,4,5,6,7,8,9,10],QU=LP.concat([11,12,13,14,15,16,17,18,19,20]),ym={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},VP=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",ym.GROUP,ym.SWAP_OPACITY,ym.PRIMARY,ym.SECONDARY].concat(LP.map(function(n){return"".concat(n,"x")})).concat(QU.map(function(n){return"w-".concat(n)})),Cv.FontAwesomeConfig||{});ei&&"function"==typeof ei.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=YR(n,2),r=e[1],a=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var e=ei.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=a&&(VP[r]=a)});var eM=Yt({},{familyPrefix:"fa",replacementClass:PP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},VP);eM.autoReplaceSvg||(eM.observeMutations=!1);var Pt=Yt({},eM);Cv.FontAwesomeConfig=Pt;var dd=Cv||{};dd[cd]||(dd[cd]={}),dd[cd].styles||(dd[cd].styles={}),dd[cd].hooks||(dd[cd].hooks={}),dd[cd].shims||(dd[cd].shims=[]);var ul=dd[cd],UP=[];ud&&((ei.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ei.readyState)||ei.addEventListener("DOMContentLoaded",function n(){ei.removeEventListener("DOMContentLoaded",n),UP.map(function(e){return e()})}));var nM,tM="pending",BP="settled",ZD="fulfilled",qD="rejected",o3=function(){},jP="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,a3="undefined"==typeof setImmediate?setTimeout:setImmediate,gE=[];function l3(){for(var n=0;n<gE.length;n++)gE[n][0](gE[n][1]);gE=[],nM=!1}function HD(n,e){gE.push([n,e]),nM||(nM=!0,a3(l3,0))}function ZP(n){var e=n.owner,t=e._state,r=e._data,a=n[t],c=n.then;if("function"==typeof a){t=ZD;try{r=a(r)}catch(f){mE(c,f)}}qP(c,r)||(t===ZD&&rM(c,r),t===qD&&mE(c,r))}function qP(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===pE(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(a){t||(t=!0,e===a?HP(n,a):rM(n,a))},function(a){t||(t=!0,mE(n,a))}),!0}}catch(a){return t||mE(n,a),!0}return!1}function rM(n,e){(n===e||!qP(n,e))&&HP(n,e)}function HP(n,e){n._state===tM&&(n._state=BP,n._data=e,HD(c3,n))}function mE(n,e){n._state===tM&&(n._state=BP,n._data=e,HD(d3,n))}function $P(n){n._then=n._then.forEach(ZP)}function c3(n){n._state=ZD,$P(n)}function d3(n){n._state=qD,$P(n),!n._handled&&jP&&global.process.emit("unhandledRejection",n._data,n)}function h3(n){global.process.emit("rejectionHandled",n)}function No(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof No))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,e){function r(a){mE(e,a)}try{n(function(a){rM(e,a)},r)}catch(a){r(a)}}(n,this)}No.prototype={constructor:No,_state:tM,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(o3),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===qD&&jP&&HD(h3,this)),this._state===ZD||this._state===qD?HD(ZP,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},No.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new No(function(e,t){var r=[],a=0;function c(w){return a++,function(D){r[w]=D,--a||e(r)}}for(var y,f=0;f<n.length;f++)(y=n[f])&&"function"==typeof y.then?y.then(c(f),t):r[f]=y;a||e(r)})},No.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new No(function(e,t){for(var a,r=0;r<n.length;r++)(a=n[r])&&"function"==typeof a.then?a.then(e,t):e(a)})},No.resolve=function(n){return n&&"object"===pE(n)&&n.constructor===No?n:new No(function(e){e(n)})},No.reject=function(n){return new No(function(e,t){t(n)})};var cM=function(e,t,r,a){var w,D,x,c=Object.keys(e),f=c.length,y=void 0!==a?function(e,t){return function(r,a,c,f){return e.call(t,r,a,c,f)}}(t,a):t;for(void 0===r?(w=1,x=e[c[0]]):(w=0,x=r);w<f;w++)x=y(x,e[D=c[w]],D,e);return x};function eO(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,a=void 0!==r&&r,c=Object.keys(e).reduce(function(f,y){var w=e[y];return w.icon?f[w.iconName]=w.icon:f[y]=w,f},{});"function"!=typeof ul.hooks.addPack||a?ul.styles[n]=Yt({},ul.styles[n]||{},c):ul.hooks.addPack(n,c),"fas"===n&&eO("fa",e)}var tO=ul.styles,D3=ul.shims,sO=function(){var e=function(a){return cM(tO,function(c,f,y){return c[y]=cM(f,a,{}),c},{})};e(function(r,a,c){return a[3]&&(r[a[3]]=c),r}),e(function(r,a,c){var f=a[2];return r[c]=c,f.forEach(function(y){r[y]=c}),r});var t="far"in tO;cM(D3,function(r,a){var f=a[1];return"far"===f&&!t&&(f="fas"),r[a[0]]={prefix:f,iconName:a[2]},r},{})};function vE(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}sO(),(vE.prototype=Object.create(Error.prototype)).constructor=vE;var WD={fill:"currentColor"},fO={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},pM=(Yt({},WD,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Yt({},fO,{attributeName:"opacity"}));Yt({},WD,{cx:"256",cy:"364",r:"28"}),Yt({},fO,{attributeName:"r",values:"28;14;28;28;14;28;"}),Yt({},pM,{values:"1;0;1;1;0;1;"}),Yt({},WD,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Yt({},pM,{values:"1;0;0;0;0;1;"}),Yt({},WD,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Yt({},pM,{values:"0;0;1;1;0;0;"});new(function(){function n(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,e,t){e&&CP(n.prototype,e)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];var f=a.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(y){t.definitions[y]=Yt({},t.definitions[y]||{},f[y]),eO(y,f[y]),sO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(c){var f=a[c],y=f.prefix,w=f.iconName,D=f.icon;t[y]||(t[y]={}),t[y][w]=D}),t}}]),n}());let mB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),yB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[SU]}),n.\u0275inj=l.cJS({providers:[],imports:[[R,AU,sa,Ll,MU,xU,vP,mB]]}),n})();(0,l.G48)(),C().bootstrapModule(yB).catch(n=>console.error(n))},4762:(Qe,we,F)=>{"use strict";function pe(se,de){var he={};for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&de.indexOf(ae)<0&&(he[ae]=se[ae]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols(se);ue<ae.length;ue++)de.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call(se,ae[ue])&&(he[ae[ue]]=se[ae[ue]])}return he}function _e(se,de,he,ae){return new(he||(he=Promise))(function(X,Oe){function $e(yt){try{ut(ae.next(yt))}catch(sn){Oe(sn)}}function Ct(yt){try{ut(ae.throw(yt))}catch(sn){Oe(sn)}}function ut(yt){yt.done?X(yt.value):function(X){return X instanceof he?X:new he(function(Oe){Oe(X)})}(yt.value).then($e,Ct)}ut((ae=ae.apply(se,de||[])).next())})}function Y(se,de){var ae,ue,X,Oe,he={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return Oe={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(Oe[Symbol.iterator]=function(){return this}),Oe;function $e(ut){return function(yt){return function(ut){if(ae)throw new TypeError("Generator is already executing.");for(;he;)try{if(ae=1,ue&&(X=2&ut[0]?ue.return:ut[0]?ue.throw||((X=ue.return)&&X.call(ue),0):ue.next)&&!(X=X.call(ue,ut[1])).done)return X;switch(ue=0,X&&(ut=[2&ut[0],X.value]),ut[0]){case 0:case 1:X=ut;break;case 4:return he.label++,{value:ut[1],done:!1};case 5:he.label++,ue=ut[1],ut=[0];continue;case 7:ut=he.ops.pop(),he.trys.pop();continue;default:if(!(X=(X=he.trys).length>0&&X[X.length-1])&&(6===ut[0]||2===ut[0])){he=0;continue}if(3===ut[0]&&(!X||ut[1]>X[0]&&ut[1]<X[3])){he.label=ut[1];break}if(6===ut[0]&&he.label<X[1]){he.label=X[1],X=ut;break}if(X&&he.label<X[2]){he.label=X[2],he.ops.push(ut);break}X[2]&&he.ops.pop(),he.trys.pop();continue}ut=de.call(se,he)}catch(yt){ut=[6,yt],ue=0}finally{ae=X=0}if(5&ut[0])throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}([ut,yt])}}}function Q(se){var de="function"==typeof Symbol&&Symbol.iterator,he=de&&se[de],ae=0;if(he)return he.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ae>=se.length&&(se=void 0),{value:se&&se[ae++],done:!se}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(se,de){var he="function"==typeof Symbol&&se[Symbol.iterator];if(!he)return se;var ue,Oe,ae=he.call(se),X=[];try{for(;(void 0===de||de-- >0)&&!(ue=ae.next()).done;)X.push(ue.value)}catch($e){Oe={error:$e}}finally{try{ue&&!ue.done&&(he=ae.return)&&he.call(ae)}finally{if(Oe)throw Oe.error}}return X}function ie(se,de,he){if(he||2===arguments.length)for(var X,ae=0,ue=de.length;ae<ue;ae++)(X||!(ae in de))&&(X||(X=Array.prototype.slice.call(de,0,ae)),X[ae]=de[ae]);return se.concat(X||Array.prototype.slice.call(de))}F.d(we,{_T:()=>pe,mG:()=>_e,Jh:()=>Y,XA:()=>Q,CR:()=>K,ev:()=>ie})},8239:(Qe,we,F)=>{"use strict";function l(U,pe,ve,le,be,_e,Y){try{var k=U[_e](Y),L=k.value}catch(Q){return void ve(Q)}k.done?pe(L):Promise.resolve(L).then(le,be)}function te(U){return function(){var pe=this,ve=arguments;return new Promise(function(le,be){var _e=U.apply(pe,ve);function Y(L){l(_e,le,be,Y,k,"next",L)}function k(L){l(_e,le,be,Y,k,"throw",L)}Y(void 0)})}}F.d(we,{Z:()=>te})}},Qe=>{Qe(Qe.s=3717)}]);